import{a as C,e as S}from"./chunk-2XN2X2Z5.js";import{b as g}from"./chunk-6LAHZWAR.js";import{$a as t,Db as m,Hb as h,Jb as d,Nb as a,Ob as i,Pb as y,Ub as c,ab as v,dc as r,ec as s,fc as u,lb as x,sb as p}from"./chunk-X7EC65UH.js";function _(n,f){if(n&1&&y(0,"span"),n&2){let e=c();h("bi-arrow-clockwise repeat-symbol "+e.repeatColor)}}function E(n,f){if(n&1&&(a(0,"div",10)(1,"span",9),r(2),i(),a(3,"span",9),r(4),i(),a(5,"span",9),r(6),i()()),n&2){let e=c(2);t(2),s("Me: "+e.counts.me.total),t(2),s("DPS : "+e.counts.me.dps),t(2),s("SUP : "+e.counts.me.sup)}}function I(n,f){if(n&1&&(a(0,"div",7)(1,"div",8)(2,"span",9),r(3),i(),a(4,"span",9),r(5),i(),a(6,"span",9),r(7),i()(),p(8,E,7,3,"div",10),i()),n&2){let e=c();t(3),s("All: "+e.counts.all.total),t(2),s("DPS : "+e.counts.all.dps),t(2),s("SUP : "+e.counts.all.sup),t(),d(e.player?8:-1)}}var T=(()=>{class n{constructor(e){this.playerService=e,this.shortened=!1,this.subs=[],this.raidTime=C}ngOnInit(){this.player||(this.player=this.playerService.me$())}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}get counts(){return S(this.raidpost,this.player)}get inRaid(){if(!this.player)return!1;for(let e of this.raidpost.signups)if(e.player.id==this.player.id)return!0;return!1}get inRepeat(){if(!this.player)return!1;var e=this.raidpost;for(let l of e?.repeatingSignups)if(l.player.id==this.player.id)return!0;return!1}get raidColor(){if(this.player)return this.inRaid?"text-success":"text-danger"}get repeatColor(){if(this.player)return this.inRepeat?"text-success":"text-danger"}static{this.\u0275fac=function(l){return new(l||n)(v(g))}}static{this.\u0275cmp=x({type:n,selectors:[["raid-post"]],inputs:{raidpost:"raidpost",player:"player",shortened:"shortened"},decls:15,vars:8,consts:[[1,"card","w-20r","raid-post","position-relative"],[1,"d-flex","card-header","py-1","align-items-center","justify-content-between"],[3,"classList"],[3,"class"],[1,"card-body"],[1,"card-subtitle","text-truncate"],[1,"text-nowrap",3,"title"],[1,"border-top","border-secondary","pt-1","gap-1"],[1,"row"],[1,"col-4"],[1,"row","text-success"]],template:function(l,o){l&1&&(a(0,"div",0)(1,"div",1)(2,"span",2),r(3),i(),p(4,_,1,2,"span",3),i(),a(5,"div",4)(6,"h5",5)(7,"span",6),r(8),i()(),a(9,"div")(10,"div"),r(11),i(),a(12,"div"),r(13),i()(),p(14,I,9,4,"div",7),i()()),l&2&&(t(2),m("classList",o.raidColor),t(),s(o.raidpost.properties.loaRaid.name),t(),d(o.raidpost.type=="repeatingpost"?4:-1),t(3),m("title",o.raidpost.name),t(),s(o.raidpost.name),t(3),u("Time : ",o.raidTime(o.raidpost.properties.startTime),""),t(2),u("Server : ",o.raidpost.server.name,""),t(),d(o.shortened?-1:14))},styles:[".repeat-symbol[_ngcontent-%COMP%]{font-size:1.75rem;align-self:center;line-height:0;animation:_ngcontent-%COMP%_spin 4s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return n})();export{T as a};
