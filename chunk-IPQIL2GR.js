import{b as je,c as pe}from"./chunk-WFUXBJ4N.js";import{a as _i,b as j,c as Mt,d as oe,e as zt,f as fe,g as Ke,h as ct}from"./chunk-6JF2DGDE.js";import{a as Te,b as ti,c as li}from"./chunk-TF3S5RIE.js";import{a as di,b as fi,c as Ci}from"./chunk-LCBHDNMZ.js";import"./chunk-MAA5GSAZ.js";import{a as mi,d as pi,e as gi,f as ui,h as hi}from"./chunk-OG2F7MK6.js";import{a as Nt,b as ai,g as Rt,j as Vt,k as ci,l as si}from"./chunk-CVYHWQ3C.js";import{a as ni,d as ii,e as oi,h as ri}from"./chunk-XT72EIBI.js";import{a as V}from"./chunk-WRSMBKFW.js";import{F as Zn,H as Jn,J as ei}from"./chunk-KCLKHEQV.js";import"./chunk-RVDJVD4K.js";import"./chunk-JLWIDV3F.js";import{b as $e,c as Xn,d as Lt,e as Pe,f as ie,k as X}from"./chunk-E7SDSQEU.js";import"./chunk-KE4LITEF.js";import"./chunk-76PGFOOU.js";import{$ as we,$a as ue,$b as b,Ab as Wn,Ac as Le,B as It,Ba as ne,Bb as Ft,Bc as Ne,Ca as ve,Cc as Re,Fc as Kn,G as ke,Ga as Z,Gc as ae,H as zn,Hc as le,J as qn,Ja as Hn,Jb as Dt,Mb as At,Nc as T,Ob as D,Oc as N,Pb as A,Qb as Gn,Rb as _,Sb as v,Tb as U,Tc as ce,Ub as Ee,Uc as I,Vb as S,Vc as G,Wb as O,Xb as p,Xc as se,Yb as o,Zb as a,_ as _e,_a as qe,_b as g,a as R,ac as x,b as $,bc as be,ca as Me,cb as Ue,cd as Ye,d as yt,db as s,dc as P,e as cn,ec as Ge,fa as sn,fc as u,gc as Qn,ha as y,hc as d,la as ln,lb as he,ma as h,mb as J,na as f,nb as $n,o as it,ob as jn,pb as at,pc as ee,q as W,qa as wt,qb as Bn,qc as te,ra as Un,sc as me,tc as k,u as Y,ub as M,vc as Ae,wb as He,wc as r,xc as C,ya as E,yc as K,zb as q,zc as Yn}from"./chunk-W56RDURX.js";var Xe=class{static defaultFullComicQuery(c){let e=new _i("query","comic").withVariable("id",c,"ID!").withFields("id","title","description","bannerImage","chapters","volumes","type","format","status","startDate","endDate","source","countryOfOrigin","isLicensed","isAdult","isLocked","meanScore","averageScore","popularity","favourites","isRecommendationBlocked","isReviewBlocked","followState","lastRead");return e.withNestedField("latestChapterUpdate",["chapter","updated","language"]),e.withNestedField("lists",["id","name"]),e.withNestedField("covers",["volume","w","h","notes","source"]).withNestedField("aliases",["title","language"]).withNestedField("genres",["id","name","description","group","subgroup"]).withNestedField("themes",["id","name","description","group","subgroup"]).withNestedField("tags",["id","name","description","group","subgroup"]).withNestedField("links",["site","url","info","language","color","icon","notes","isDisabled"]).withNestedField("publishers",["id","name"]),e.in("characters",["role"]).nestedField("character",["id","name","image"]),e.in("authors",["role"]).nestedField("staff",["id","name","image"]),e.in("artists",["role"]).nestedField("staff",["id","name","image"]),e.in("staff",["role"]).nestedField("staff",["id","name","image"]),e.in("relations",["relationType"]).nestedField("other",["id","title","description","chapters","volumes","followState"]).withNestedField("covers",["volume","w","h","notes","source"]).withNestedField("genres",["id","name","description"]).withNestedField("themes",["id","name","description"]).withNestedField("tags",["id","name","description"]).in("staff",["role"]).nestedField("staff",["id","name","image"]),e.in("recommendations",["rating"]).nestedField("other",["id","title","description","chapters","volumes","followState"]).withNestedField("covers",["volume","w","h","notes","source"]).withNestedField("genres",["id","name","description"]).withNestedField("themes",["id","name","description"]).withNestedField("tags",["id","name","description"]).in("staff",["role"]).nestedField("staff",["id","name","image"]),e}static appendComicPageFieldSet(c){return c.on("ComicPage").in("pageInfo",["more","next"]).then().in("results",["id","title","type","chapters","volumes","status","countryOfOrigin","description","followState","updated"]).withNestedField("latestChapterUpdate",["chapter","updated","language"]).withNestedField("covers",["source","w","h"]).withNestedField("genres",["id","name","description","group","subgroup"]).withNestedField("themes",["id","name","description","group","subgroup"]).withNestedField("updates",["chapter","language","group","updated"]).in("staff",["role"]).nestedField("staff",["id","name"]),c}static appendFollowedComicPageFieldSet(c){return c.on("FollowedComicPage").in("pageInfo",["more","next"]).then().in("results",["state","chapter","lastReadAt"]).in("comic",["id","title","type","chapters","volumes","status","countryOfOrigin","description","followState","lastRead","updated"]).withNestedField("latestChapterUpdate",["chapter","updated","language","group"]).withNestedField("covers",["source","w","h"]).withNestedField("genres",["id","name","description","group","subgroup"]).withNestedField("themes",["id","name","description","group","subgroup"]).in("staff",["role"]).nestedField("staff",["id","name"]),c}static appendHistoryPageFieldSet(c){return c.on("HistoryPage").in("pageInfo",["more","next"]).then().in("results",["source","chapter","lastReadAt","created","updated"]).in("comic",["id","title","type","chapters","volumes","status","countryOfOrigin","description","followState","lastRead","updated"]).withNestedField("covers",["source","w","h"]),c}static appendListComicPageFieldSet(c){return c.on("ListComicPage").in("pageInfo",["more","next"]).then().in("results",["listId","comicId","notes","created","updated"]).in("comic",["id","title","type","chapters","volumes","status","countryOfOrigin","description","followState","updated"]).withNestedField("covers",["source","w","h"]).withNestedField("genres",["id","name","description","group","subgroup"]).withNestedField("themes",["id","name","description","group","subgroup"]).in("staff",["role"]).nestedField("staff",["id","name"]),c}};var Ze=(()=>{class t extends Ke{constructor(){super()}getApp(e){var i=this.api.createQuery("application").withVariable("id",e,"ID!").withFields("id","userId","clientName","description","link","redirectUris");return this.api.performQuery(i.build(),!1)}getMyApps(){return this.storage.token()?this.api.performQuery(this.getUserAppsQuery(),!1):W([])}saveApp(e){var i=this.api.createMutation("saveApplication");return e.id!=0&&i.withVariable("id",e.id,"ID"),i.withVariable("clientName",e.clientName,"String!").withVariable("description",e.description,"String").withVariable("link",e.link,"String").withVariable("redirectUris",e.redirectUris,"[String!]"),i.withFields("id","userId","clientName","description","link","redirectUris"),this.api.performMutation(i.build(),!1)}deleteApp(e){var i=this.api.createMutation("deleteApplication").withVariable("clientId",e.id,"ID!").withField("item");return this.api.performMutation(i.build(),!1)}resetAppSecret(e){var i=this.api.createMutation("applicationSecret").withVariable("clientId",e,"ID!").withFields("id","userId","clientName","description","link","redirectUris","clientSecret").build();return this.api.performQuery(i,!1)}resetAppToken(e){var i=this.api.createMutation("applicationToken").withVariable("clientId",e,"ID!").withFields("userId","clientId","accessToken","issuedAt","accessExpiry").build();return this.api.performQuery(i,!1)}getUserAppsQuery(){return this.api.createQuery("userApps").withFields("id","userId","clientName","description","link","redirectUris").build()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var qt=(()=>{class t extends Ke{constructor(){super()}getList(e){return this.api.performQuery(this.getListQuery(e))}getUserLists(e){return this.api.performQuery(this.getUserListsQuery(e))}createList(e,i,n){let l=this.api.createMutation("saveComicList").withVariable("userId",e,"ID").withVariable("name",i,"String").withVariable("description",n,"String");return l.withFields("id","userId","name","description","created","updated"),this.api.performMutation(l.build(),!0,"Failed to add list")}saveList(e,i,n,l){let m=this.api.createMutation("saveComicList").withVariable("id",e,"ID").withVariable("userId",i,"ID").withVariable("name",n,"String").withVariable("description",l,"String");return m.withFields("id","userId","name","description","created","updated"),this.api.performMutation(m.build(),!0,"Failed to update list")}deleteList(e){let i=this.api.createMutation("deleteComicList").withVariable("id",e,"ID!");return i.withFields("id","userId","name"),this.api.performMutation(i.build(),!0,"Failed to delete list")}saveListEntries(e,i){let n=this.api.createMutation("saveComicListEntry").withVariable("listId",e,"ID!").withVariable("comics",i,"[ComicListEntryInput!]!");return n.withFields("listId","comicId","notes","created","updated").in("comic").withFields("id","title","description","chapters","updated").withNestedField("covers",["source"]).withNestedField("genres",["id","name"]).withNestedField("themes",["id","name"]),this.api.performMutation(n.build(),!0,"Failed to save list entry")}deleteListEntries(e,i){let n=this.api.createMutation("deleteComicListEntry").withVariable("listId",e,"ID!").withVariable("comics",i,"[ID]!");return n.withFields("listId","comicId"),this.api.performMutation(n.build(),!0,"Failed to remove list entry")}getListQuery(e){let i=this.api.createQuery("comicList").withVariable("listId",e,"ID!");return i.withFields("id","userId","name","description","created","updated"),i.in("user").withField("id"),i.in("list").withFields("listId","comicId","notes","created","updated").in("comic").withFields("id","title","description","chapters","updated").withNestedField("covers",["source"]).withNestedField("genres",["id","name"]).withNestedField("themes",["id","name"]),i.build()}getUserListsQuery(e){let i=this.api.createQuery("comicLists").withVariable("userId",e,"ID!");return i.withFields("id","userId","name","description","created","updated"),i.in("user").withFields("id","username","displayName"),i.build()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ie=(()=>{class t extends Ke{constructor(){super(),this.list=y(qt),this.apps=y(Ze)}getUser(e){if(e)return this.api.performQuery(this.getUserQuery(e));let i=this.storage.token();return i?this.api.performQuery(this.getMeQuery(i)):W(j.anonymous())}getMyApps(){return this.apps.getMyApps()}getUserLists(e){return this.list.getUserLists(e)}getMeQuery(e){let i=this.api.createQuery("user").withVariable("id",e.userId,"ID!").withFields("id","username","displayName").withNestedField("followedComics",["state"],[{name:"comic",fields:["id","title"]}]).withNestedField("followedStaff",["state"],[{name:"staff",fields:["id","name"]}]).withNestedField("readingHistory",["sourceId","source","chapter"],[{name:"comic",fields:["id","title"],nestedFields:[{name:"covers",fields:["w","h","source"]}]}]).withNestedField("comicLists",["id","name","description"],[{name:"list",fields:["listId"],nestedFields:[{name:"comic",fields:["id","title"]}]}]);return i.in("settings").withNestedField("privacySettings",["privateFollowing","invisibleFollowing","privateLists","invisibleLists","privateHistory","invisibleHistory"]).withNestedField("comicPreferences",["displayFollows","languages","title","quickFollow"]).in("comicFilterSettings").withField("enableMatureContent").withNestedField("categoryFilters",["categoryId","category","type","enabled"]).then().withNestedField("comicMarkSettings",["categoryId","category","color","enabled"]).in("authorizedApps").withFields("appId").withNestedField("application",["id","userId","clientName","description","link","redirectUris","scopes"]).then().then(),i.build()}getUserQuery(e){var i=this.api.createQuery("user");return i.withVariable("username",e,"String").withFields("id","username","displayName"),i.in("followedComics").withFields("state","chapter","lastReadAt").in("comic").withFields("id","title","chapters","updated").withNestedField("covers",["source"]),i.withNestedField("followedComics",["state"],[{name:"comic",fields:["id","title"]}]).withNestedField("followedStaff",["state"],[{name:"staff",fields:["id","name"]}]).withNestedField("readingHistory",["sourceId","source","chapter","updated"],[{name:"comic",fields:["id","title","chapters","updated"],nestedFields:[{name:"covers",fields:["w","h","source"]}]}]).withNestedField("comicLists",["id","name","description"],[{name:"list",fields:["listId"]}]),i.build()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var B=(()=>{class t{constructor(){this.storage=y(fe),this.userService=y(Ie),this.user=pe({params:()=>({token:this.storage.token()}),stream:()=>this.initUser(),defaultValue:j.anonymous()}),this.isAnonymous=T(()=>this.isAnon()),ne(()=>{let e=this.user.value();e?this.storage.storeUser(e):this.storage.clearUser()})}updateSettings(e,i){switch(i){case"user-account":this.user.update(n=>{let l=structuredClone(n);return l.username=e?.username||l.username,l.displayName=e?.displayName||l.displayName,l});break;case"user-privacy":this.user.update(n=>{let l=structuredClone(n);return l.settings.privacySettings=e,l});break;case"user-authorized-apps":this.user.update(n=>{let l=structuredClone(n);return l.settings.authorizedApps=e,l});break;case"comic-preferences":this.user.update(n=>{let l=structuredClone(n);return l.settings.comicPreferences=e,l});break;case"comic-marks":this.user.update(n=>{let l=structuredClone(n);return l.settings.comicMarkSettings=e,l});break;case"comic-filters":this.user.update(n=>{let l=structuredClone(n);return l.settings.comicFilterSettings=e,l});break}}initUser(){return this.userService.getUser()}isAnon(){let e=this.user.value();return e?e.id==0:!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ce=(()=>{class t{constructor(){this.api=y(zt),this.session=y(B)}getComicData$(){let e=this.api.createQuery("comicData").withNestedField("categories",["id","name","description","group","subgroup","isAdult","type"]).withNestedField("demographics",["id","name","description","group","subgroup","isAdult","type"]).withNestedField("comicTypes",["id","name","description","group","subgroup","isAdult","type"]).build();return this.api.performQuery(e)}getComic(e,i,n){if(!i&&!n)return this.api.performQuery(Xe.defaultFullComicQuery(e).build());let l=this.api.createQuery("comic").withVariable("id",e,"ID!");if(i&&l.withFields(...i),n)for(let m of n)l.addNestedField(m);return this.api.performQuery(l.build())}searchComics(e,i,n){let l=this.session.user.value(),m=$(R({},e),{matureContent:(l.settings??j.emptySettings()).comicFilterSettings.enableMatureContent}),w;for(w in m)m[w]===""&&delete m[w];let F=this.api.createQuery("comics").withVariable("q",m,"ComicQP");var z;if(!i&&!n)m.userId!=null?m.history?(Xe.appendHistoryPageFieldSet(F),z=this.api.performQuery(F.build())):(Xe.appendFollowedComicPageFieldSet(F),z=this.api.performQuery(F.build())):m.listId!=null?(Xe.appendListComicPageFieldSet(F),z=this.api.performQuery(F.build())):(Xe.appendComicPageFieldSet(F),z=this.api.performQuery(F.build()));else{if(i&&F.withFields(...i),n)for(let ge of n)F.addNestedField(ge);z=this.api.performQuery(F.build())}return z}followComics(e,i){let n=i.map(m=>({comicId:m.comic.id,state:m.state})),l=this.api.createMutation("saveFollowedComics").withVariable("userId",e,"ID!").withVariable("comics",n,"[FollowedComicInput]!").withField("state").withNestedField("comic",["id","title"]).build();return this.api.performMutation(l,!0,"Could not update Follows")}unfollowComics(e,i){let n=this.api.createMutation("deleteFollowedComics").withVariable("userId",e,"ID!").withVariable("comics",i,"[ID]!").withFields("item","deleted").build();return this.api.performMutation(n,!0,"Could not unfollow comic")}addComicsToList(e,i){let n=i.map(m=>({comicId:m.comic.id,notes:m.notes})),l=this.api.createMutation("saveComicListEntry").withVariable("listId",e,"ID!").withVariable("comics",n,"[ComicListEntryInput!]!").withFields("notes").withNestedField("comic",["id","title"]).build();return this.api.performMutation(l,!0,"Failed to save comics to list")}removeComicsFromList(e,i){let n=this.api.createMutation("deleteComicListEntry").withVariable("listId",e,"ID!").withVariable("comics",i,"[ID]!");return n.withFields("listId","comicId"),this.api.performMutation(n.build(),!0,"Failed to remove comics from list")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var vi=(t,c)=>y(Ce).getComicData$().pipe(ke(i=>W({categories:[],demographics:[],comicTypes:[]})),Y(i=>i||{categories:[],demographics:[],comicTypes:[]}),qn({categories:[],demographics:[],comicTypes:[]}));var bi=(t,c)=>{let e=y(Pe),i=y(Ce),n=t.paramMap.get("id"),l=c.url.split("/")[1];if(/^[\d+]/.test(n))return/[\D+]/.test(n)?new Lt(e.parseUrl(`${l}/comics/${parseInt(n)}`),{skipLocationChange:!0}):i.getComic(parseInt(n)).pipe(Y(m=>{if(!m)throw new Error("comic not found");return m}));throw new Error("invalid Comic id")};var xi=(t,c)=>{let e=y(Pe),i=y(qt),n=c.url.split("/")[1],l=t.paramMap.get("id");if(/^[\d+]/.test(l))return/[\D+]/.test(l)?new Lt(e.parseUrl(`${n}/lists/${parseInt(l)}`),{skipLocationChange:!0}):i.getList(parseInt(l)).pipe(Y(m=>{if(!m)throw new Error("list not found");return m}));throw new Error("invalid List id")};var yi=(t,c)=>{let e=y(oe);return y(Ce).searchComics({sort:"POPULARITY",desc:!0}).pipe(Y(n=>n?n.results:[]),ke(n=>(e.notify({type:"bad",header:"Error",body:"Failed to retrieve popular comics"}),W([]))))};var wi=(t,c)=>{let e=y(Ie),i=y(oe);return e.getMyApps().pipe(ke(n=>(i.notify({type:"bad",header:"Error",body:"Failed to get user applications"}),W([]))),Y(n=>n||[]))};var Mi=(t,c)=>{let e=y(Pe),i=y(B),n=y(Ie),l=c.url.split("/")[1],m=t.paramMap.get("username");return console.log(m,i.isAnonymous()),m.toLowerCase()=="anonymous"&&i.isAnonymous()?W(i.user.value()):n.getUser(m).pipe(Y(w=>{if(!w)throw new Error("user not found");return w}))};var Be=(()=>{class t{constructor(e){this.elementRef=e,this.doOnChange=I.required(),this.observer=new ResizeObserver(i=>{for(let n of i)this.elementRef.nativeElement==n.target&&this.doOnChange()()}),this.observer.observe(e.nativeElement)}ngOnDestroy(){this.observer.disconnect()}static{this.\u0275fac=function(i){return new(i||t)(J(Z))}}static{this.\u0275dir=He({type:t,selectors:[["","size-observer",""]],inputs:{doOnChange:[1,"doOnChange"]}})}}return t})();var Ko=["coverContainer"],Xo=["coverConcomicInfotainer"],Zo=t=>["/comic/comics",t],Jo=t=>["is-followed",t];function er(t,c){t&1&&(o(0,"div",5),r(1),a()),t&2&&(s(),C(1))}function tr(t,c){if(t&1&&(o(0,"div",6),r(1),a()),t&2){let e=d();s(),C(e.comic().countryOfOrigin)}}function nr(t,c){t&1&&(o(0,"button",7)(1,"mat-icon",9),r(2,"close"),a()())}function ir(t,c){if(t&1){let e=P();o(0,"button",12),u("click",function(n){h(e);let l=d(2);return f(l.planToReadComic(n))}),o(1,"mat-icon",9),r(2,"add"),a()()}}function or(t,c){t&1&&(o(0,"div",10)(1,"mat-icon",9),r(2,"bookmark"),a()())}function rr(t,c){if(t&1&&(o(0,"div")(1,"mat-icon",9),r(2,"bookmark"),a()()),t&2){let e=d(2);Ae(le(2,Jo,e.bookmarkColor()))}}function ar(t,c){if(t&1&&_(0,ir,3,0,"button",7)(1,or,3,0,"div",10)(2,rr,3,4,"div",11),t&2){let e=d();v(e.followState()==null||e.followState()=="NOT_FOLLOWED"?0:e.followState()=="DROPPED"?1:2)}}function cr(t,c){if(t&1&&(o(0,"div",14),r(1,"Chapter "),o(2,"span",17),r(3),a()()),t&2){let e,i=d(2);s(3),C(((e=i.comic().latestChapterUpdate)==null?null:e.chapter)??"###")}}function sr(t,c){if(t&1&&(o(0,"div",15),r(1),a()),t&2){let e=d(2);p("title",e.comic().title),s(),C(e.comic().title)}}function lr(t,c){if(t&1&&(o(0,"div",16),r(1),a()),t&2){let e,i=d(2);s(),C(i.when(((e=i.comic().latestChapterUpdate)==null?null:e.updated)||i.comic().updated))}}function dr(t,c){if(t&1&&(o(0,"div",13),_(1,cr,4,1,"div",14),_(2,sr,2,2,"div",15),_(3,lr,2,1,"div",16),a()),t&2){let e,i,n,l=d();me("width",l.overlayWidth()),s(),v((e=l.display())!=null&&e.chapter?1:-1),s(),v((i=l.display())!=null&&i.overlayTitle?2:-1),s(),v((n=l.display())!=null&&n.overlayUpdated?3:-1)}}function mr(t,c){if(t&1&&(o(0,"div",27)(1,"mat-icon",28),r(2,"edit"),a(),o(3,"span"),r(4),a()()),t&2){let e=c.$implicit;s(4),C(e.staff.name)}}function pr(t,c){if(t&1&&S(0,mr,5,1,"div",27,U),t&2){let e=d(2);O(e.authors())}}function gr(t,c){if(t&1&&(o(0,"div",27)(1,"mat-icon",28),r(2,"palette"),a(),o(3,"span"),r(4),a()()),t&2){let e=c.$implicit;s(4),C(e.staff.name)}}function ur(t,c){if(t&1&&S(0,gr,5,1,"div",27,U),t&2){let e=d(2);O(e.artists())}}function hr(t,c){if(t&1&&(o(0,"div",20),r(1),a()),t&2){let e,i=d(2);s(),C(i.when(((e=i.comic().latestChapterUpdate)==null?null:e.updated)||i.comic().updated))}}function fr(t,c){if(t&1&&(o(0,"div",21),r(1),a()),t&2){let e,i=d(2);s(),C(((e=i.comic().latestChapterUpdate)==null?null:e.group)||"")}}function Cr(t,c){if(t&1&&(o(0,"div",22),r(1),a()),t&2){let e=d(2);s(),K("",e.comic().chapters||"?"," Chapters")}}function _r(t,c){if(t&1&&(o(0,"div",29),r(1),a()),t&2){let e=c.$implicit;s(),C(e)}}function vr(t,c){if(t&1&&(o(0,"div",24),S(1,_r,2,1,"div",29,U),a()),t&2){let e=d(2);s(),O(e.genres())}}function br(t,c){if(t&1&&(o(0,"div",30),r(1),a()),t&2){let e=c.$implicit;s(),C(e)}}function xr(t,c){if(t&1&&(o(0,"div",25),S(1,br,2,1,"div",30,U),a()),t&2){let e=d(2);s(),O(e.themes())}}function yr(t,c){if(t&1&&(o(0,"div",26)(1,"div",31)(2,"span"),r(3,"Last Read: "),a(),o(4,"span",32),r(5),a()()()),t&2){let e,i=d(2);s(),k("unread",(i.comic().lastRead??0)<(((e=i.comic().latestChapterUpdate)==null?null:e.chapter)??0)),s(4),K("#",i.comic().lastRead??"##")}}function wr(t,c){if(t&1&&(o(0,"div",18,1)(2,"div",15),r(3),a(),o(4,"div",19),_(5,pr,2,0),_(6,ur,2,0),a(),_(7,hr,2,1,"div",20),_(8,fr,2,1,"div",21),_(9,Cr,2,1,"div",22),o(10,"div",23),_(11,vr,3,0,"div",24),_(12,xr,3,0,"div",25),a()(),_(13,yr,6,3,"div",26)),t&2){let e,i,n,l,m,w,F,z,ge,de,re=d();me("opacity",re.infoOpacity()),k("comic-pad-top",((e=re.display())==null?null:e.position)=="below")("comic-hover-info",((i=re.display())==null?null:i.position)==="absolute"),s(2),p("title",re.comic().title),s(),C(re.comic().title),s(2),v((n=re.display())!=null&&n.author?5:-1),s(),v((l=re.display())!=null&&l.artist?6:-1),s(),v((m=re.display())!=null&&m.when?7:-1),s(),v((w=re.display())!=null&&w.group?8:-1),s(),v((F=re.display())!=null&&F.totalChapters?9:-1),s(2),v((z=re.display())!=null&&z.genres?11:-1),s(),v((ge=re.display())!=null&&ge.themes?12:-1),s(),v((de=re.display())!=null&&de.readingInfo?13:-1)}}var Se=(()=>{class t{constructor(){this.comicService=y(Ce),this.notifService=y(oe),this.session=y(B),this.render=y(he),this.comic=I.required(),this.display=I(),this.coverContainer=G.required("coverContainer"),this.comicInfo=G("coverConcomicInfotainer"),this.isHovered=E(!1),this.loading$=E(!1),this.when=j.when,this.followState=N(()=>this.comic().followState),this.bookmarkColor=T(()=>this.followStateConversion(this.followState())),this.infoPosition=T(()=>{if(!this.display())return"unset";switch(this.display()?.position){case"below":return"column";case"right":case"absolute":return"row";default:return"unset"}}),this.infoOpacity=T(()=>!this.display()||this.display()?.position!="absolute"?"unset":this.isHovered()?"95":"0"),this.overlayWidth=T(()=>this.display()?this.display()?.overlayTitle?"100%":"fit-content":"unset"),this.progressText=T(()=>{let e=this.comic().lastRead;if(!(!e||this.comic().latestChapterUpdate?.chapter==e))return this.comic().chapters-e>1?`Continue ${e}`:`Continue ${this.comic().chapters}`}),this.genres=T(()=>(this.comic().genres||[]).map(e=>e.name)),this.themes=T(()=>(this.comic().themes||[]).map(e=>e.name)),this.tags=T(()=>(this.comic().tags||[]).map(e=>e.name)),this.authors=T(()=>(this.comic().staff||[]).filter(e=>e.role.includes("Story"))),this.artists=T(()=>(this.comic().staff||[]).filter(e=>e.role.includes("Art")))}ngOnInit(){}ngAfterViewInit(){let e=this.coverContainer().nativeElement;this.display()?.width&&(this.render.setStyle(e,"width",this.display()?.width),this.render.setStyle(e,"flex-shrink","0")),this.display()?.height&&this.render.setStyle(e,"height",this.display()?.height)}onMouseEnter(){if(this.isHovered.set(!0),!this.comicInfo||this.display()?.position!="absolute")return;clearTimeout(this.styleDelay);let e=this.comicInfo()?.nativeElement;e&&e.getBoundingClientRect().right>(window.innerWidth||document.documentElement.clientWidth)-1&&this.render.addClass(e,"comic-hover-info-left")}onMouseLeave(){if(this.isHovered.set(!1),!this.comicInfo||this.display()?.position!="absolute")return;let e=this.comicInfo()?.nativeElement;this.styleDelay=setTimeout(()=>{e&&this.render.removeClass(e,"comic-hover-info-left")},250)}planToReadComic(e){e.stopPropagation(),this.loading$()||(this.loading$.set(!0),this.comicService.followComics(this.session.user.value().id,[{state:"PLAN_TO_READ",comic:this.comic()}]).subscribe({next:i=>{if(i){let n=i.find(l=>l.comic.id==this.comic().id);this.followState.set(n.state),this.followsUpdate(`${this.comic().title} added to ${this.followStateConversion(n.state)}`)}},error:i=>{this.connectionError("Could not update Follows")}}).add(()=>this.loading$.set(!1)))}followStateConversion(e){if(!e)return"";switch(e){case"READING":return"is-reading";case"PLAN_TO_READ":return"is-plan-to-read";case"ON_HOLD":return"is-on-hold";case"DROPPED":return"is-dropped";case"UNFOLLOW":default:return""}}followsUpdate(e,i="good"){this.notifService.notify({type:i,header:"Follows Updated",body:e},4500)}connectionError(e){this.notifService.notify({type:"bad",header:"Error",body:e},4500)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic"]],viewQuery:function(i,n){i&1&&ee(n.coverContainer,Ko,5)(n.comicInfo,Xo,5),i&2&&te(2)},inputs:{comic:[1,"comic"],display:[1,"display"]},decls:10,vars:10,consts:[["coverContainer",""],["comicInfo",""],[1,"comic"],[1,"comic-cover-container",3,"mouseenter","mouseleave"],[1,"comic-cover",3,"src","routerLink"],[1,"chapter-rank"],[1,"chapter-lang"],[1,"history-remove"],[1,"comic-overlay-info",3,"width"],[1,"overlay-icon"],[1,"is-followed","is-dropped"],[3,"class"],[1,"history-remove",3,"click"],[1,"comic-overlay-info"],[1,"comic-chapter"],[1,"comic-title",3,"title"],[1,"comic-title"],[1,"chapter-number"],[1,"comic-info"],[1,"comic-creators"],[1,"chapter-when"],[1,"chapter-group"],[1,"comic-chapters"],[1,"comic-genres"],[1,"genres"],[1,"themes"],[1,"reading-info"],[1,"comic-creator"],[1,"creator-icon"],[1,"genre"],[1,"theme"],[1,"reading-progress","comic-chapter"],[1,"last-read"]],template:function(i,n){if(i&1){let l=P();o(0,"div",2)(1,"div",3,0),u("mouseenter",function(){return h(l),f(n.onMouseEnter())})("mouseleave",function(){return h(l),f(n.onMouseLeave())}),g(3,"img",4),_(4,er,2,1,"div",5)(5,tr,2,1,"div",6),_(6,nr,3,0,"button",7)(7,ar,3,1),_(8,dr,4,5,"div",8),a(),_(9,wr,14,16),a()}if(i&2){let l,m,w,F,z;me("flex-direction",n.infoPosition()),s(3),p("src",(l=n.comic().covers[0])==null?null:l.source,ue)("routerLink",le(8,Zo,n.comic().id)),s(),v((m=n.display())!=null&&m.rank?4:(m=n.display())!=null&&m.lang?5:-1),s(2),v((w=n.display())!=null&&w.remove?6:(w=n.display())!=null&&w.add?7:-1),s(2),v((F=n.display())!=null&&F.overlay?8:-1),s(),v((z=n.display())!=null&&z.position&&((z=n.display())==null?null:z.position)!="none"?9:-1)}},dependencies:[V,X,ie],styles:['.comic[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row;width:100%}.comic-with-info-right[_ngcontent-%COMP%]{flex-direction:column}.comic-width-info-below[_ngcontent-%COMP%]{flex-direction:row}.comic-cover-container[_ngcontent-%COMP%]{cursor:pointer;position:relative;width:var(--comic-comic-width);border-radius:3px;background-color:rgba(var(--comic-dark),.8);overflow:hidden}.comic-cover[_ngcontent-%COMP%]{width:100%;aspect-ratio:3/4;object-fit:fill}.chapter-lang[_ngcontent-%COMP%], .chapter-rank[_ngcontent-%COMP%], .chapter-lang_ph[_ngcontent-%COMP%]{position:absolute;top:0;left:0;padding:.25rem;text-align:center;text-transform:uppercase;border-bottom-right-radius:3px;background-color:rgba(var(--comic-dark),.85)}.chapter-rank[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;min-width:2rem}.comic-overlay-info[_ngcontent-%COMP%], .comic-overlay-info_ph[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;max-width:100%;padding:.25rem;text-transform:capitalize;border-top-right-radius:3px;background-color:rgba(var(--comic-dark),.85)}.history-remove[_ngcontent-%COMP%], .is-followed[_ngcontent-%COMP%]{position:absolute;display:flex;align-items:center;top:.125rem;right:.125rem;padding:0rem;color:rgba(var(--comic-text-color));border:none;border-radius:100%;background-color:rgba(var(--comic-dark),.75)}.history-remove[_ngcontent-%COMP%]:hover{background-color:rgba(var(--comic-dark),1)}.is-followed[_ngcontent-%COMP%]{background-color:transparent;-webkit-text-stroke-color:black;-webkit-text-stroke-width:1px}.is-reading[_ngcontent-%COMP%]{color:green}.is-plan-to-read[_ngcontent-%COMP%]{color:#008b8b}.is-on-hold[_ngcontent-%COMP%]{color:#daa520}.is-dropped[_ngcontent-%COMP%]{color:red}.overlay-icon[_ngcontent-%COMP%]{font-size:36px;width:36px;height:36px}.comic-info[_ngcontent-%COMP%], .comic-info_ph[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem;padding:0rem .5rem;overflow:hidden}.comic-pad-top[_ngcontent-%COMP%]{padding-top:.25rem}.comic-info[_ngcontent-%COMP%]:hover{cursor:pointer;border-radius:4px;background-color:#00000026}.comic-hover-info[_ngcontent-%COMP%]{position:absolute;left:100%;width:15rem;min-height:100%;padding:.25rem .5rem;opacity:0;border:1px solid rgba(51,90,153,1);border-left:none;border-radius:4px;background-color:rgba(var(--comic-dark),.95);pointer-events:none;transition:opacity .25s ease-in-out;z-index:10}.comic-hover-info-left[_ngcontent-%COMP%]{left:0%;transform:translate(-100%);border:1px solid rgba(51,90,153,1);border-right:none}.comic-chapter[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.5rem}.chapter-number[_ngcontent-%COMP%]{font-weight:700}.comic-title[_ngcontent-%COMP%], .chapter-when[_ngcontent-%COMP%], .chapter-group[_ngcontent-%COMP%], .comic-chapters[_ngcontent-%COMP%]{text-wrap:nowrap;text-overflow:ellipsis;overflow:hidden}.comic-title[_ngcontent-%COMP%], .comic-title_ph[_ngcontent-%COMP%], .comic-creator[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9}.comic-title[_ngcontent-%COMP%]:hover{opacity:1}.chapter-when[_ngcontent-%COMP%], .chapter-when_ph[_ngcontent-%COMP%], .comic-chapters[_ngcontent-%COMP%]{font-size:.8rem;opacity:.8;text-transform:capitalize;letter-spacing:1px}.chapter-group[_ngcontent-%COMP%], .chapter-group_ph[_ngcontent-%COMP%]{font-size:.65rem;opacity:.75}.chapter-group[_ngcontent-%COMP%]:after{content:" ";visibility:hidden;white-space:pre}.comic-creators[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.25rem .5rem}.comic-creator[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:2px;font-size:.75rem}.creator-icon[_ngcontent-%COMP%]{font-size:1rem;height:1rem;width:1rem}.comic-genres[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.5rem 1rem;padding:.25rem 0rem;margin-top:auto}.genres[_ngcontent-%COMP%], .themes[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.5rem .75rem}.genre[_ngcontent-%COMP%], .theme[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%]{font-size:.65rem;padding:.2rem .35rem;border-radius:.5rem}.genre[_ngcontent-%COMP%]{background-color:#6399}.theme[_ngcontent-%COMP%]{background-color:#33997c99}.reading-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem;padding:.25rem}.last-read[_ngcontent-%COMP%]{font-weight:700}.reading-progress[_ngcontent-%COMP%], .release-timer[_ngcontent-%COMP%]{justify-content:center;padding:.125rem;font-size:.9rem;color:rgba(var(--comic-text-color),.9);text-align:center;border-radius:4px;background-color:rgba(var(--comic-medium),.5)}.reading-progress[_ngcontent-%COMP%]:hover, .release-timer[_ngcontent-%COMP%]:hover{cursor:pointer;color:rgba(var(--comic-text-color),1);background-color:rgba(var(--comic-medium),1)}.reading-progress.unread[_ngcontent-%COMP%]{box-shadow:0 0 4px 2px rgb(var(--manga-color))}.release-timer[_ngcontent-%COMP%]{margin-top:auto}@media(max-width:880px){.genre[_ngcontent-%COMP%], .theme[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%]{font-size:calc(.75rem + .1vw);padding:calc(.1rem + .1vw) calc(.25rem + .1vw);border-radius:.5rem}}']})}}return t})();var Pi=(()=>{class t{constructor(){this.character=I.required()}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic-character"]],inputs:{character:[1,"character"]},decls:9,vars:3,consts:[[1,"comic-character"],[1,"character-img-container"],[1,"character-img",3,"src"],[1,"character-info"],[1,"character-role"],[1,"character-name"]],template:function(i,n){i&1&&(b(0,"div",0)(1,"div",1),be(2,"img",2),x(),b(3,"div",3)(4,"div",4)(5,"span"),r(6),x()(),b(7,"span",5),r(8),x()()()),i&2&&(s(2),Ge("src",n.character().character.image,ue),s(4),C(n.character().role),s(2),C(n.character().character.name))},styles:[".comic-character[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;height:var(--comic-entity-height);border-radius:4px;background-color:rgba(var(--comic-dark));overflow:hidden}.character-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.character-role[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;font-size:.9rem;opacity:.65;gap:.5rem;align-items:center;padding:.25rem .5rem}.character-name[_ngcontent-%COMP%]{flex:1;padding:.5rem;margin:0rem .25rem .25rem;border-radius:4px;background-color:rgba(var(--comic-medium));text-wrap:wrap;text-overflow:ellipsis;overflow:hidden}.character-top[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.25rem}.character-img-container[_ngcontent-%COMP%]{position:relative;padding:.25rem 0rem .25rem .25rem}.character-img[_ngcontent-%COMP%]{height:var(--comic-entity-image-height);border-radius:3px}.character-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:1.2rem;height:1.2rem}"]})}}return t})();var Si=(()=>{class t{constructor(){this.staff=I.required()}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic-staff"]],inputs:{staff:[1,"staff"]},decls:11,vars:3,consts:[[1,"comic-staff"],[1,"staff-img-container"],[1,"staff-img",3,"src"],[1,"staff-info"],[1,"staff-role"],[1,"staff-icon"],[1,"staff-name"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1),g(2,"img",2),a(),o(3,"div",3)(4,"div",4)(5,"mat-icon",5),r(6,"edit"),a(),o(7,"span"),r(8),a()(),o(9,"span",6),r(10),a()()()),i&2&&(s(2),p("src",n.staff().staff.image,ue),s(6),C(n.staff().role),s(2),C(n.staff().staff.name))},dependencies:[V],styles:[".comic-staff[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;height:var(--comic-entity-height);border-radius:4px;background-color:rgba(var(--comic-dark));overflow:hidden}.staff-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;overflow:hidden}.staff-role[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;font-size:.9rem;opacity:.65;gap:.5rem;align-items:center;padding:.25rem .5rem}.staff-name[_ngcontent-%COMP%]{flex:1;padding:.5rem;margin:0rem .25rem .25rem;border-radius:4px;background-color:rgba(var(--comic-medium));text-wrap:wrap;text-overflow:ellipsis;overflow:hidden}.staff-top[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.25rem}.staff-img-container[_ngcontent-%COMP%]{position:relative;padding:.25rem 0rem .25rem .25rem}.staff-img[_ngcontent-%COMP%]{height:var(--comic-entity-image-height);border-radius:3px}.staff-icon[_ngcontent-%COMP%]{font-size:1.2rem;width:1.2rem;height:1.2rem}"]})}}return t})();var Mr=["tooltip"],Oi=(()=>{class t{constructor(){this.tip=I.required(),this.onInit=I(),this.tooltipElement=G.required("tooltip"),this.tipWidth=E(0),this.wrapText=E(!1)}ngOnInit(){this.onInit&&this.onInit()}ngAfterViewInit(){this.ifTooLong()}ifTooLong(){this.wrapText.set(this.tooltipElement().nativeElement.clientWidth>document.documentElement.clientWidth-50)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["ng-component"]],viewQuery:function(i,n){i&1&&ee(n.tooltipElement,Mr,5),i&2&&te()},inputs:{tip:[1,"tip"],onInit:[1,"onInit"]},decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})();var Pr=["comicInfo"];function Sr(t,c){if(t&1&&(o(0,"div",6)(1,"mat-icon",16),r(2,"edit"),a(),o(3,"span"),r(4),a()()),t&2){let e=c.$implicit;s(4),C(e.staff.name)}}function Or(t,c){if(t&1&&(o(0,"div",6)(1,"mat-icon",16),r(2,"palette"),a(),o(3,"span"),r(4),a()()),t&2){let e=c.$implicit;s(4),C(e.staff.name)}}function kr(t,c){t&1&&(o(0,"div",7),r(1,"Placeholder Time Ago"),a())}function Er(t,c){t&1&&(o(0,"div",8),r(1,"Placeholder Group"),a())}function Tr(t,c){if(t&1&&(o(0,"div",9),r(1),a()),t&2){let e=d();s(),K("",e.comic().chapters||"?"," Chapters")}}function Ir(t,c){if(t&1&&g(0,"div",10),t&2){let e=d();p("innerHTML",e.comic().description,qe)}}function Fr(t,c){if(t&1&&(o(0,"div",13),r(1),a()),t&2){let e=c.$implicit;s(),C(e)}}function Dr(t,c){if(t&1&&(o(0,"div",15),r(1),a()),t&2){let e=c.$implicit;s(),C(e)}}var ki=(()=>{class t extends Oi{constructor(e){super(),this.elementRef=e,this.render=y(he),this.tip=I(""),this.comic=I.required(),this.isHovered=I.required(),this.display=I(),this.comicInfo=G.required("comicInfo")}ifTooLong(){let e=this.comicInfo().nativeElement;this.tipWidth.set(e.clientWidth)}get infoOpacity(){return this.isHovered()?"95":"0"}get progressText(){let e=this.comic().chapters;if(!(!e||this.comic().chapters==e))return this.comic().chapters-e>1?`Continue ${e}`:`Continue ${this.comic().chapters}`}get genres(){return(this.comic().genres||[]).map(e=>e.name)}get themes(){return(this.comic().themes||[]).map(e=>e.name)}get tags(){return(this.comic().tags||[]).map(e=>e.name)}get authors(){return(this.comic().staff||[]).filter(e=>e.role.includes("Story"))}get artists(){return(this.comic().staff||[]).filter(e=>e.role.includes("Art"))}static{this.\u0275fac=function(i){return new(i||t)(J(Z))}}static{this.\u0275cmp=M({type:t,selectors:[["comic-info"]],viewQuery:function(i,n){i&1&&ee(n.comicInfo,Pr,5),i&2&&te()},inputs:{tip:[1,"tip"],comic:[1,"comic"],isHovered:[1,"isHovered"],display:[1,"display"]},features:[q],decls:23,vars:9,consts:[["tooltip",""],["comicInfo",""],[1,"tool-tip"],[1,"comic-hover-info"],[1,"comic-title"],[1,"comic-creators"],[1,"comic-creator"],[1,"chapter-when"],[1,"chapter-group"],[1,"comic-chapters"],[1,"description",3,"innerHTML"],[1,"comic-genres"],[1,"genres"],[1,"genre"],[1,"themes"],[1,"theme"],[1,"creator-icon"]],template:function(i,n){if(i&1&&(o(0,"div",2,0)(2,"div",3,1)(4,"div",4),r(5),a(),o(6,"div",5),S(7,Sr,5,1,"div",6,U),S(9,Or,5,1,"div",6,U),a(),_(11,kr,2,0,"div",7),_(12,Er,2,0,"div",8),_(13,Tr,2,1,"div",9),_(14,Ir,1,1,"div",10),o(15,"div",11)(16,"div",12),S(17,Fr,2,1,"div",13,U),a()(),o(19,"div",11)(20,"div",14),S(21,Dr,2,1,"div",15,U),a()()()()),i&2){let l,m,w,F;me("opacity",n.infoOpacity)("width",n.tipWidth()>0?n.tipWidth()+"px":"100vw"),s(5),C(n.comic().title),s(2),O(n.authors),s(2),O(n.artists),s(2),v((l=n.display())!=null&&l.when?11:-1),s(),v((m=n.display())!=null&&m.group?12:-1),s(),v((w=n.display())!=null&&w.chapter?13:-1),s(),v((F=n.display())!=null&&F.description?14:-1),s(3),O(n.genres),s(4),O(n.themes)}},dependencies:[V],styles:['[_nghost-%COMP%]{position:fixed;width:fit-content;max-width:80vw;text-wrap:wrap;white-space:wrap;color:rgb(var(--comic-text-color));opacity:0;transition:opacity .25s ease-in-out;overflow:hidden;z-index:999;pointer-events:none}[_nghost-%COMP%]:hover{opacity:1}.tool-tip[_ngcontent-%COMP%]{font-size:.9rem;width:80vw;max-width:80vw;padding:.35rem;text-wrap:wrap;white-space:wrap;border:1px solid rgb(var(--comic-light-ex));border-radius:.25rem;background-color:rgb(var(--comic-dark),.9);transition:opacity .25s ease-in-out;box-shadow:2px 2px rgba(var(--comic-dark),.5);-webkit-backdrop-filter:blur(.5rem);backdrop-filter:blur(.5rem);overflow:hidden}.wrap-text[_ngcontent-%COMP%]{width:100vw;max-width:90vw;text-wrap:wrap;white-space:wrap}.comic-hover-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;width:fit-content;min-height:100%;pointer-events:none;overflow:hidden}.comic-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem;padding:0rem .5rem;overflow:hidden}.comic-info[_ngcontent-%COMP%]:hover{cursor:pointer;border-radius:4px;background-color:#00000026}.comic-hover-info-left[_ngcontent-%COMP%]{left:0%;transform:translate(-100%);border:1px solid rgba(51,90,153,1);border-right:none}.chapter-when[_ngcontent-%COMP%], .chapter-group[_ngcontent-%COMP%], .comic-chapters[_ngcontent-%COMP%]{text-wrap:nowrap;text-overflow:ellipsis;overflow:hidden}.comic-title[_ngcontent-%COMP%], .comic-title_ph[_ngcontent-%COMP%], .comic-creator[_ngcontent-%COMP%]{font-size:.9rem;opacity:.9}.comic-title[_ngcontent-%COMP%]{font-weight:700}.comic-title[_ngcontent-%COMP%]:hover{opacity:1}.chapter-when[_ngcontent-%COMP%], .chapter-when_ph[_ngcontent-%COMP%], .comic-chapters[_ngcontent-%COMP%]{font-size:.8rem;opacity:.8;text-transform:capitalize;letter-spacing:1px}.chapter-group[_ngcontent-%COMP%], .chapter-group_ph[_ngcontent-%COMP%]{font-size:.65rem;opacity:.75}.chapter-group[_ngcontent-%COMP%]:after{content:" ";visibility:hidden;white-space:pre}.comic-creators[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.5rem}.comic-creator[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:2px}.creator-icon[_ngcontent-%COMP%]{font-size:1rem;height:1rem;width:1rem}.description[_ngcontent-%COMP%]{font-size:.9rem}.comic-genres[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.5rem 1rem;padding:.25rem 0rem;margin-top:auto}.genres[_ngcontent-%COMP%], .themes[_ngcontent-%COMP%], .tags[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.5rem .75rem}.genre[_ngcontent-%COMP%], .theme[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%]{font-size:.65rem;padding:.2rem .35rem;border-radius:.5rem}.genre[_ngcontent-%COMP%]{background-color:#6399}.theme[_ngcontent-%COMP%]{background-color:#33997c99}.reading-info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem}.reading-progress[_ngcontent-%COMP%], .release-timer[_ngcontent-%COMP%]{font-size:.9rem;color:rgba(var(--comic-text-color),.9);text-align:center;padding:.125rem;border-radius:4px;background-color:rgba(var(--comic-medium),.5)}.reading-progress[_ngcontent-%COMP%]:hover, .release-timer[_ngcontent-%COMP%]:hover{cursor:pointer;color:rgba(var(--comic-text-color),1);background-color:rgba(var(--comic-medium),1)}.release-timer[_ngcontent-%COMP%]{margin-top:auto}@media(max-width:880px){.genre[_ngcontent-%COMP%], .theme[_ngcontent-%COMP%], .tag[_ngcontent-%COMP%]{font-size:calc(.75rem + .1vw);padding:calc(.1rem + .1vw) calc(.25rem + .1vw);border-radius:.5rem}}']})}}return t})();var Ei=(()=>{class t{constructor(e,i){this.superRef=e,this.popupDelay=i,this.render=y(he),this.vcr=y(Bn),this.tip=I(),this.tipDisabled=I(!1)}showTip(){if(!this.delay&&!this.tipDisabled()){let e=It(this.popupDelay).subscribe(()=>{if(!this.tooltipRef){let i=this.createTooltip();this.ob=new IntersectionObserver(n=>{n.forEach(l=>{l.isIntersecting||this.setTooltipPosition()})},{root:null,threshold:0}),this.ob.observe(i.location.nativeElement)}});this.delay=e}}hideTip(){this.delay&&this.delay.unsubscribe();let e=this.tooltipRef,i=this.tooltipRef?.location.nativeElement;this.ob?.disconnect(),i&&this.removeTooltip(),this.tooltipRef=void 0,this.delay=void 0,this.ob=void 0}setTooltipPosition(){let e=document.documentElement,n=this.superRef.nativeElement.getBoundingClientRect(),l=this.tooltipRef?.location.nativeElement;if(!l)return;let m=n.bottom+l.clientHeight,w=n.left+l.clientWidth,F=e.clientHeight-m,z=e.clientWidth-w,ge=F<0?F:0,de=z<0?z:0;this.render.setStyle(l,"transform",`translate3d(${de}px,${ge}px,0px)`),this.render.setStyle(l,"top",`${n.bottom}px`),this.render.setStyle(l,"left",`${n.left}px`),this.render.setStyle(l,"opacity",1)}static{this.\u0275fac=function(i){$n()}}static{this.\u0275dir=He({type:t,hostBindings:function(i,n){i&1&&u("mouseenter",function(){return n.showTip()})("mouseleave",function(){return n.hideTip()})},inputs:{tip:[1,"tip"],tipDisabled:[1,"tipDisabled"]}})}}return t})();var Ti=(()=>{class t extends Ei{constructor(e){super(e,500),this.comic=I.required(),this.active=E(!1),this.display=I({chapter:!0,group:!0,readingInfo:!0,artist:!0,author:!0,genres:!0,themes:!0})}createTooltip(){this.active.set(!0);let e=this.vcr.createComponent(ki,{bindings:[at("tip",this.tip),at("onInit",this.setTooltipPosition.bind(this)),at("comic",this.comic),at("isHovered",this.active),at("display",this.display)]});return this.tooltipRef=e,e}removeTooltip(){this.active.set(!1);let e=this.tooltipRef;setTimeout(()=>e?.destroy(),250)}static{this.\u0275fac=function(i){return new(i||t)(J(Z))}}static{this.\u0275dir=He({type:t,selectors:[["","comic-hover-info",""]],inputs:{comic:[1,"comic"],display:[1,"display"]},features:[q]})}}return t})();var dn=t=>["/comic/comics",t],Ar=(t,c)=>c.staff.id,Lr=(t,c)=>c.character.id;function Nr(t,c){if(t&1&&(o(0,"div",8),r(1),a()),t&2){let e,i=d();s(),K(" Chapter ",(e=i.comic().latestChapterUpdate)==null?null:e.chapter," ")}}function Rr(t,c){t&1&&(o(0,"div",9),r(1,"Unknown"),a())}function Vr(t,c){if(t&1&&(o(0,"div",22),g(1,"comic",17),a()),t&2){let e=c.$implicit,i=d(2);p("comic",e.other)("display",i.recDisplay),s(),Ae(i.comicClass),p("comic",e.other)("display",i.comicDisplay)("routerLink",le(7,dn,e.other.id))}}function zr(t,c){t&1&&g(0,"div",23)}function qr(t,c){if(t&1&&(o(0,"div",6)(1,"div",7),r(2,"Related"),a(),o(3,"div",21),S(4,Vr,2,9,"div",22,U,!1,zr,1,0,"div",23),a()()),t&2){let e=d();s(4),O(e.comic().relations)}}function Ur(t,c){if(t&1&&g(0,"comic-staff",11),t&2){let e=c.$implicit;p("staff",e)}}function Hr(t,c){t&1&&(o(0,"div",12),r(1,"Creators for this comic have yet to be added"),a())}function $r(t,c){if(t&1&&g(0,"comic-character",13),t&2){let e=c.$implicit;p("character",e)}}function jr(t,c){t&1&&(o(0,"div",12),r(1,"Characters for this comic have yet to be added"),a())}function Br(t,c){if(t&1&&g(0,"comic",17),t&2){let e=c.$implicit,i=d();p("comic",e.other)("display",i.display)("routerLink",le(3,dn,e.other.id))}}function Wr(t,c){t&1&&(o(0,"div",12),r(1,"Creator has no other known works"),a())}function Gr(t,c){if(t&1&&(o(0,"div",22),g(1,"comic",17),a()),t&2){let e=c.$implicit,i=d();p("comic",e.other)("display",i.recDisplay),s(),Ae(i.comicClass),p("comic",e.other)("display",i.recDisplay)("routerLink",le(7,dn,e.other.id))}}function Qr(t,c){t&1&&(o(0,"div",12),r(1,"No recommendations at this time"),a(),g(2,"div",23))}var Ii=(()=>{class t{constructor(){this.comic=I.required(),this.creators=T(()=>this.initCreators()),this.display={position:"right",height:"7.5rem",width:"6rem",totalChapters:!0,author:!0,artist:!0,add:!0,genres:!0,themes:!0},this.recDisplay={position:"none",height:"9rem",width:"7.5rem",overlay:!0,overlayTitle:!0,totalChapters:!0,genres:!0,themes:!0},this.recDisplayLong=$(R({},this.recDisplay),{position:"right"}),this.petiteComics=E(!1),this.selectedContent=E("overview")}ngOnInit(){this.petiteComics.set(window.innerWidth>880)}contentIsActive(e){return this.selectedContent()==e}setContent(e){this.selectedContent.set(e)}initCreators(){return[...this.authors,...this.artists].reduce((e,i)=>(e.findIndex(n=>n.staff.id==i.staff.id)<0&&e.push(i),e),[])}get authors(){return this.comic().staff.filter(e=>e.role.includes("Story"))}get artists(){return this.comic().staff.filter(e=>e.role.includes("Art"))}get comicWrapperClass(){return this.petiteComics()?"recommendation-comic-wrapper":"w100-comic"}get comicClass(){return this.petiteComics()?"abs-comic":"w100-comic"}get comicDisplay(){return this.petiteComics()?this.recDisplay:this.recDisplayLong}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic-page-content"]],inputs:{comic:[1,"comic"]},decls:49,vars:12,consts:[[1,"comic-page-content"],[1,"comic-content","main-content"],[1,"selected-content"],[1,"content-select"],[1,"content-header","content-option",3,"click"],[1,"overview"],[1,"info"],[1,"info-header"],[1,"chapter-update"],[1,"chapter-update","unknown"],[1,"entity-list"],[1,"comic-entity",3,"staff"],[1,"no-comics"],[1,"comic-entity",3,"character"],[1,"comic-content","extra-content"],[1,"content-header"],[1,"creator-works"],[3,"comic","display","routerLink"],[1,"list-fade"],[1,"comic-content","recommendation-content"],[1,"recommendations"],[1,"comic-list"],["comic-hover-info","",3,"comic","display"],[1,"recommendation-comic-wrapper"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),u("click",function(){return n.setContent("overview")}),r(5,"Overview"),a(),o(6,"button",4),u("click",function(){return n.setContent("chapters")}),r(7,"Chapters (WIP)"),a(),o(8,"button",4),u("click",function(){return n.setContent("characters")}),r(9,"Characters (WIP)"),a()()(),o(10,"div",5)(11,"div",6)(12,"div",7),r(13,"Latest Update"),a(),_(14,Nr,2,1,"div",8)(15,Rr,2,0,"div",9),a(),_(16,qr,7,1,"div",6),o(17,"div",6)(18,"div",7),r(19,"Creators"),a(),o(20,"div",10),S(21,Ur,1,1,"comic-staff",11,Ar,!1,Hr,2,0,"div",12),a()(),o(24,"div",6)(25,"div",7),r(26,"Characters"),a(),o(27,"div",10),S(28,$r,1,1,"comic-character",13,Lr,!1,jr,2,0,"div",12),a()()()(),o(31,"div",14)(32,"div",15)(33,"div"),r(34,"Creators' Other Works"),a()(),o(35,"div",16),S(36,Br,1,5,"comic",17,U,!1,Wr,2,0,"div",12),g(39,"div",18),a()(),o(40,"div",19)(41,"div",15)(42,"div"),r(43,"Recommendations"),a()(),o(44,"div",20)(45,"div",21),S(46,Gr,2,9,"div",22,U,!1,Qr,3,0),a()()()()),i&2&&(s(4),k("active",n.contentIsActive("overview")),s(2),k("active",n.contentIsActive("chapters")),s(2),k("active",n.contentIsActive("characters")),s(6),v(n.comic().latestChapterUpdate?14:15),s(2),v(n.comic().relations.length>0?16:-1),s(5),O(n.creators()),s(7),O(n.comic().characters),s(8),O(n.comic().recommendations),s(10),O(n.comic().recommendations))},dependencies:[Si,Pi,Se,X,ie,Ti],styles:[".comic-page[_ngcontent-%COMP%]{--cover-width: 15rem;display:flex;flex-direction:column;height:100%}.top[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;min-height:20rem;padding:1.5rem;border-radius:var(--comic-border-radius);background-color:rgba(var(--comic-light));background:linear-gradient(35deg,rgb(var(--comic-dark)),rgb(var(--comic-medium)));box-shadow:0 6px 12px 1px #00000080}.top-parts[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;gap:1.5rem}.top-left[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:.5rem;width:var(--cover-width)}.top-right[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem}.comic-creators[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1.5rem}.comic-cover-container[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;gap:1rem;width:100%;border-radius:4px}.comic-cover[_ngcontent-%COMP%]{width:inherit;object-fit:cover;border-radius:4px;box-shadow:0 6px 12px 1px #00000080}.list-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.title[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.prefered-title[_ngcontent-%COMP%]{font-size:1.75rem}.aliases[_ngcontent-%COMP%]{font-size:.8rem;display:flex;flex-flow:row wrap;gap:.25rem}.native-title[_ngcontent-%COMP%], .english-title[_ngcontent-%COMP%]{opacity:1;opacity:.75}.alias-hint[_ngcontent-%COMP%]{opacity:.65}.alias-hint[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1}.description[_ngcontent-%COMP%]{font-size:.9rem}.genres-n-themes[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1.5rem}.genres[_ngcontent-%COMP%], .themes[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.75rem}.genre[_ngcontent-%COMP%]{font-size:.85rem;padding:.2rem .35rem;border-radius:.5rem;background-color:#6399}.theme[_ngcontent-%COMP%]{font-size:.85rem;padding:.2rem .35rem;border-radius:.5rem;background-color:#33997c99}.bottom[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;gap:1.5rem;padding:1.5rem}.content[_ngcontent-%COMP%]{flex:1}.extra-content[_ngcontent-%COMP%]{flex:unset}.no-comics[_ngcontent-%COMP%]{text-align:center;font-weight:700}@media(max-width:880px){.bottom[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.content[_ngcontent-%COMP%]{flex-direction:column}}@media(max-width:720px){.top-parts[_ngcontent-%COMP%]{flex-direction:column}.top-left[_ngcontent-%COMP%]{width:unset}.comic-cover-container[_ngcontent-%COMP%]{position:relative;flex-flow:row nowrap}.comic-cover[_ngcontent-%COMP%]{width:10rem}.list-info[_ngcontent-%COMP%]{flex:1}}.comic-page-content[_ngcontent-%COMP%]{flex:1;display:grid;grid-template-columns:1fr minmax(auto,30%);gap:1.5rem;height:fit-content}.comic-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:var(--comic-border-radius);background-color:rgb(var(--comic-dark));overflow:hidden}.content-header[_ngcontent-%COMP%]{padding:.5rem 1rem;text-align:center}.recommendation-content[_ngcontent-%COMP%]{grid-column:span 2}.content-select[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap}.content-option[_ngcontent-%COMP%]{flex:1;cursor:pointer;color:rgb(var(--comic-text-color));opacity:.7;border:unset;background-color:rgba(var(--comic-light-ex),.25)}.content-option.active[_ngcontent-%COMP%]{opacity:1;background-color:unset}.content-option[_ngcontent-%COMP%]:hover{color:#fff;opacity:1;background-color:rgba(var(--comic-light-ex),.1)}.comic-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1rem}.related-comic[_ngcontent-%COMP%]{width:100%}.creator-works[_ngcontent-%COMP%]{flex-shrink:1;display:flex;flex-direction:column;gap:1rem;height:100%;padding:1rem}.recommendation-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:10rem;align-items:center;justify-content:center;padding:.5rem 1rem}.overview[_ngcontent-%COMP%], .recommendations[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;padding:1rem;background-color:rgba(var(--comic-dark),.5)}.info-header[_ngcontent-%COMP%]{font-size:1.05rem;letter-spacing:.5px;margin-bottom:.5rem}.entity-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem}.comic-entity[_ngcontent-%COMP%]{box-shadow:0 3px 6px 3px #c8c8c81a}.chapter-update[_ngcontent-%COMP%]{padding:.25rem;font-size:.9rem;border-radius:var(--comic-border-radius);background-color:rgba(var(--comic-medium),.5)}.chapter-update.unknown[_ngcontent-%COMP%]{font-size:.9rem;border-radius:unset;background-color:unset}.related-comic-wrapper[_ngcontent-%COMP%]{width:6rem;height:7.5rem}.recommendation-comic-wrapper[_ngcontent-%COMP%]{width:7.5rem;height:9rem}.w100-comic[_ngcontent-%COMP%]{width:100%}@media(max-width:1280px){.comic-page-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.recommendation-content[_ngcontent-%COMP%]{grid-column:unset}.content-select[_ngcontent-%COMP%]{justify-content:space-around}.creator-works[_ngcontent-%COMP%]{min-height:7.5rem;max-height:30rem;overflow-y:scroll;scrollbar-width:thin;scrollbar-color:rgba(var(--comic-light-ex)) rgba(var(--comic-dark))}}"]})}}return t})();function Yr(t,c){if(t&1&&(b(0,"span",4),r(1),x()),t&2){let e=c.$implicit;s(),C(e)}}function Kr(t,c){if(t&1&&(b(0,"div",1)(1,"span",2),r(2,"Completed"),x(),b(3,"div",3)(4,"span",4),r(5),x()()()),t&2){let e=d();s(5),C(e.comic().endDate)}}function Xr(t,c){if(t&1&&(b(0,"span",4),r(1),x()),t&2){let e=c.$implicit;s(),C(e.name)}}function Zr(t,c){t&1&&(b(0,"span",4),r(1,"Comic has no publishers added"),x())}function Jr(t,c){if(t&1&&(b(0,"div",1)(1,"span",2),r(2,"Publishers"),x(),b(3,"div",3),S(4,Xr,2,1,"span",4,U,!1,Zr,2,0,"span",4),x()()),t&2){let e=d();s(4),O(e.publishers())}}function ea(t,c){if(t&1&&(b(0,"span",4),r(1),b(2,"a",6),r(3),x()()),t&2){let e=c.$implicit;s(),C(e.site+": "),s(),Ge("href",e.url,ue),s(),C(e.url)}}function ta(t,c){if(t&1&&(b(0,"span",5),r(1),x()),t&2){let e=c.$implicit;s(),C(e.name)}}var Fi=(()=>{class t{constructor(){this.comic=I.required(),this.publishers=T(()=>this.comic().publishers??[]),this.country=T(()=>j.countryName(this.comic().countryOfOrigin)),this.formats=T(()=>this.initFormats())}ngOnInit(){}initFormats(){return this.comic().tags.filter(e=>e.group=="Technical").map(e=>e.name)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic-page-info"]],inputs:{comic:[1,"comic"]},decls:66,vars:10,consts:[[1,"comic-page-info"],[1,"comic-info"],[1,"info-header"],[1,"info-list"],[1,"info"],[1,"info","comic-tag"],[1,"info",3,"href"]],template:function(i,n){i&1&&(b(0,"div",0)(1,"div",1)(2,"span",2),r(3,"Format"),x(),b(4,"div",3)(5,"span",4),r(6),x()(),b(7,"div",3),S(8,Yr,2,1,"span",4,U),x()(),b(10,"div",1)(11,"span",2),r(12,"Country"),x(),b(13,"div",3)(14,"span",4),r(15),x()()(),b(16,"div",1)(17,"span",2),r(18,"Status"),x(),b(19,"div",3)(20,"span",4),r(21),x()()(),b(22,"div",1)(23,"span",2),r(24,"Volumes"),x(),b(25,"div",3)(26,"span",4),r(27),x()()(),b(28,"div",1)(29,"span",2),r(30,"Chapters"),x(),b(31,"div",3)(32,"span",4),r(33),x()()(),b(34,"div",1)(35,"span",2),r(36,"Released"),x(),b(37,"div",3)(38,"span",4),r(39),x()()(),_(40,Kr,6,1,"div",1),b(41,"div",1)(42,"span",2),r(43,"Rating"),x(),b(44,"div",3)(45,"span",4),r(46),x()()(),b(47,"div",1)(48,"span",2),r(49,"Licensed"),x(),b(50,"div",3)(51,"span",4),r(52),x()()(),_(53,Jr,7,1,"div",1),b(54,"div",1)(55,"span",2),r(56,"Links"),x(),b(57,"div",3),S(58,ea,4,3,"span",4,U),x()(),b(60,"div",1)(61,"span",2),r(62,"Tags (WIP)"),x(),b(63,"div",3),S(64,ta,2,1,"span",5,U),x()()()),i&2&&(s(6),C(n.comic().format),s(2),O(n.formats()),s(7),C(n.country()),s(6),C(n.comic().status),s(6),C(n.comic().volumes||"?"),s(6),C(n.comic().chapters||"?"),s(6),C(n.comic().startDate),s(),v(n.comic().endDate?40:-1),s(6),C(n.comic().meanScore/10),s(6),C(n.comic().isLicensed?"Yes":"No"),s(),v(n.comic().publishers.length>0?53:-1),s(5),O(n.comic().links),s(6),O(n.comic().tags))},styles:[".comic-page[_ngcontent-%COMP%]{--cover-width: 15rem;display:flex;flex-direction:column;height:100%}.top[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;min-height:20rem;padding:1.5rem;border-radius:var(--comic-border-radius);background-color:rgba(var(--comic-light));background:linear-gradient(35deg,rgb(var(--comic-dark)),rgb(var(--comic-medium)));box-shadow:0 6px 12px 1px #00000080}.top-parts[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;gap:1.5rem}.top-left[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:.5rem;width:var(--cover-width)}.top-right[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem}.comic-creators[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1.5rem}.comic-cover-container[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;gap:1rem;width:100%;border-radius:4px}.comic-cover[_ngcontent-%COMP%]{width:inherit;object-fit:cover;border-radius:4px;box-shadow:0 6px 12px 1px #00000080}.list-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.title[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.prefered-title[_ngcontent-%COMP%]{font-size:1.75rem}.aliases[_ngcontent-%COMP%]{font-size:.8rem;display:flex;flex-flow:row wrap;gap:.25rem}.native-title[_ngcontent-%COMP%], .english-title[_ngcontent-%COMP%]{opacity:1;opacity:.75}.alias-hint[_ngcontent-%COMP%]{opacity:.65}.alias-hint[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1}.description[_ngcontent-%COMP%]{font-size:.9rem}.genres-n-themes[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1.5rem}.genres[_ngcontent-%COMP%], .themes[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.75rem}.genre[_ngcontent-%COMP%]{font-size:.85rem;padding:.2rem .35rem;border-radius:.5rem;background-color:#6399}.theme[_ngcontent-%COMP%]{font-size:.85rem;padding:.2rem .35rem;border-radius:.5rem;background-color:#33997c99}.bottom[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;gap:1.5rem;padding:1.5rem}.content[_ngcontent-%COMP%]{flex:1}.extra-content[_ngcontent-%COMP%]{flex:unset}.no-comics[_ngcontent-%COMP%]{text-align:center;font-weight:700}@media(max-width:880px){.bottom[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.content[_ngcontent-%COMP%]{flex-direction:column}}@media(max-width:720px){.top-parts[_ngcontent-%COMP%]{flex-direction:column}.top-left[_ngcontent-%COMP%]{width:unset}.comic-cover-container[_ngcontent-%COMP%]{position:relative;flex-flow:row nowrap}.comic-cover[_ngcontent-%COMP%]{width:10rem}.list-info[_ngcontent-%COMP%]{flex:1}}.comic-page-info[_ngcontent-%COMP%]{flex-shrink:0;display:flex;flex-direction:column;gap:.5rem;width:var(--cover-width);padding:.5rem;border-radius:4px;background-color:rgba(var(--comic-dark));scrollbar-width:thin;scrollbar-color:rgb(var(--comic-light-ex)) rgb(var(--comic-dark))}.comic-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem}.info-header[_ngcontent-%COMP%]{font-size:.9rem;letter-spacing:.5px}.info-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.info[_ngcontent-%COMP%]{font-size:.8rem;letter-spacing:.5px;opacity:.75;text-wrap:nowrap;text-transform:lowercase;text-overflow:ellipsis;overflow:hidden}.info[_ngcontent-%COMP%]:first-letter{text-transform:capitalize}.comic-tag[_ngcontent-%COMP%]{padding:.1rem .5rem;border-radius:3px;background-color:rgba(var(--comic-medium),.5)}.comic-tag[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(var(--comic-light))}@media(max-width:880px){.comic-page-info[_ngcontent-%COMP%]{width:unset;flex-flow:row nowrap;gap:1.5rem;overflow-x:scroll}.info-list[_ngcontent-%COMP%]{flex-flow:row nowrap;gap:.75rem}}"]})}}return t})();var st=(()=>{class t{constructor(e){this.superRef=e,this.session=y(B),this.notifService=y(oe),this.comicService=y(Ce),this.showButton=se(!0),this.isOpened=E(!1),this.borderHidden=E(!0),this.loading=E(!1)}ngOnInit(){}onAnyClick(e){if(!this.isOpened())return;this.superRef.nativeElement.contains(e.target)||this.toggleMenu()}onAnyTab(e){if(!this.isOpened())return;this.superRef.nativeElement.contains(e.target)||this.toggleMenu()}toggleMenu(){if(this.session.user.value().username=="anonymous"){this.notifService.notify({type:"bad",header:"Please Log In",body:"You must be logged in to do this"},5e3);return}this.isOpened.update(e=>(e?this.timeout=setTimeout(()=>{this.borderHidden.set(!0)},230):(clearTimeout(this.timeout),this.borderHidden.set(!1)),!e))}static{this.\u0275fac=function(i){return new(i||t)(J(Z))}}static{this.\u0275cmp=M({type:t,selectors:[["ng-component"]],inputs:{showButton:[1,"showButton"]},outputs:{showButton:"showButtonChange"},decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})();var na=(t,c)=>c.id;function ia(t,c){if(t&1){let e=P();o(0,"button",6),u("click",function(){let n=h(e).$implicit,l=d();return f(l.addComicToList(n))}),r(1),a()}if(t&2){let e=c.$implicit,i=d();p("disabled",i.listHasComic(e)),s(),C(e.name)}}function oa(t,c){t&1&&(o(0,"div"),r(1,"[You Have No Lists]"),a())}function ra(t,c){t&1&&(o(0,"div",5),g(1,"div",7),o(2,"div",8),g(3,"mat-progress-spinner",9),a()())}var Di=(()=>{class t extends st{constructor(e){super(e),this.elementRef=e,this.comic=I.required(),this.lists=T(()=>this.session.user.value().comicLists),this.onChange=ce()}listHasComic(e){return this.comic().lists?.find(i=>i.id==e.id)!=null}addComicToList(e){if(!this.loading()){this.loading.set(!0);let i={listId:e.id,comicId:this.comic().id,notes:"",comic:this.comic()};this.comicService.addComicsToList(e.id,[i]).subscribe(n=>{if(!n){this.notifService.notify({type:"warning",header:"Unexpected Error",body:"Failed to add comic"});return}this.notifService.notify({type:"good",header:`List [ ${e.name} ] Updated`,body:`Added ${this.comic().title} to list`}),this.onChange.emit({change:"add",list:e,comics:[this.comic()]})}).add(()=>this.loading.set(!1))}}static{this.\u0275fac=function(i){return new(i||t)(J(Z))}}static{this.\u0275cmp=M({type:t,selectors:[["add-to-list"]],hostBindings:function(i,n){i&1&&u("click",function(m){return n.onAnyClick(m)},Ue)},inputs:{comic:[1,"comic"]},outputs:{onChange:"onChange"},features:[q],decls:9,vars:8,consts:[[1,"list-status"],[1,"follow-info"],[1,"follow-status",3,"click"],[1,"update-status"],["type","button",1,"status-btn",3,"disabled"],[1,"status-loading"],["type","button",1,"status-btn",3,"click","disabled"],[1,"loading-backdrop"],[1,"spinner-container"],["mode","indeterminate",1,"spinner"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),u("click",function(){return n.toggleMenu()}),r(3,"Add To List"),a()(),o(4,"div",3),S(5,ia,2,2,"button",4,na,!1,oa,2,0,"div"),_(8,ra,4,0,"div",5),a()()),i&2&&(k("list-status-expanded",n.isOpened()),s(4),k("update-status-expanded",n.isOpened())("update-status-border-hidden",n.borderHidden()),s(),O(n.lists()),s(3),v(n.loading()?8:-1))},dependencies:[Te],styles:[".list-status[_ngcontent-%COMP%]{position:relative;background-color:#335a99;border-radius:4px;transition:border-bottom-left-radius .25s ease-in-out,border-bottom-right-radius .25s ease-in-out}.follow-info[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;text-align:center;z-index:2}.follow-status[_ngcontent-%COMP%], .change-status[_ngcontent-%COMP%]{padding:.25rem}.follow-status[_ngcontent-%COMP%]{flex:1}.follow-status[_ngcontent-%COMP%]:hover, .change-status-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:#c8c8c81a}.follow-status[_ngcontent-%COMP%]:active, .change-status-btn[_ngcontent-%COMP%]:active{color:rgb(var(--comic-text-color),.8)}.change-status-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;width:2.25rem;padding:0rem;border:none;border-left:1px solid rgba(21,38,65,.5);background-color:transparent}.change-status[_ngcontent-%COMP%]{width:2rem;height:100%}.change-status[_ngcontent-%COMP%]:hover{cursor:pointer}.update-status[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:0rem;box-sizing:border-box;border:1px solid rgba(51,90,153,1);border-top:none;border-bottom-left-radius:4px;border-bottom-right-radius:4px;background-color:rgba(var(--comic-dark),1);transition:height .25s ease-in-out;overflow:hidden;z-index:100}.update-status-border-hidden[_ngcontent-%COMP%]{border:none}.update-status-expanded[_ngcontent-%COMP%]{height:2.5rem}.list-status-expanded[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.status-btn[_ngcontent-%COMP%]{flex:1;width:100%;padding:0rem;color:rgb(var(--comic-text-color));border:none;background-color:transparent}.status-btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:#c8c8c81a}.status-btn[_ngcontent-%COMP%]:active{color:rgb(var(--comic-text-color),.8)}.status-btn[_ngcontent-%COMP%]:disabled{color:rgb(var(--comic-text-color),.5);background-color:transparent!important}.status-loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;width:100%;height:100%}.spinner-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;height:100%;padding:.25rem;margin:auto;z-index:2}.spinner[_ngcontent-%COMP%]{height:min(100%,100px)!important}.loading-backdrop[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:rgba(var(--comic-dark),.8);-webkit-backdrop-filter:blur(.1rem);backdrop-filter:blur(.1rem);z-index:2}"]})}}return t})();var Ut=(()=>{class t extends st{constructor(e){super(e),this.abstractElementRef=e,this.states=["READING","PLAN_TO_READ","ON_HOLD","COMPLETED","DROPPED","UNFOLLOW"],this.stateTextMap={NOT_FOLLOWED:"",READING:"Reading",PLAN_TO_READ:"Plan To Read",ON_HOLD:"On Hold",COMPLETED:"Completed",DROPPED:"Dropped",UNFOLLOW:"Unfollow"},this.comic=I.required(),this.state=N(()=>this.followState()),this.stateText=N(()=>this.getStateText())}changeState(e){this.loading()||this.doStateChange(e)}getStateText(){let e=this.state();return!e||e=="NOT_FOLLOWED"?"Follow":this.stateTextMap[e]}followsUpdate(e,i="good"){this.notifService.notify({type:i,header:"Follows Updated",body:e},4500)}connectionError(e){this.notifService.notify({type:"bad",header:"Connection Error",body:e},4500)}static{this.\u0275fac=function(i){return new(i||t)(J(Z))}}static{this.\u0275cmp=M({type:t,selectors:[["ng-component"]],inputs:{comic:[1,"comic"]},features:[q],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})();function aa(t,c){if(t&1){let e=P();o(0,"button",7),u("click",function(){h(e);let n=d();return f(n.toggleMenu())}),o(1,"mat-icon",8),r(2,"arrow_drop_down"),a()()}}function ca(t,c){if(t&1){let e=P();o(0,"button",9),u("click",function(){let n=h(e).$implicit,l=d();return f(l.changeState(n))}),r(1),a()}if(t&2){let e=c.$implicit,i=d();p("disabled",i.state()==e),s(),C(i.stateTextMap[e])}}function sa(t,c){t&1&&(o(0,"div",6),g(1,"div",10),o(2,"div",11),g(3,"mat-progress-spinner",12),a()())}var Ai=(()=>{class t extends Ut{constructor(e){super(e),this.elementRef=e,this.onChange=ce()}followState(){return this.comic().followState||"NOT_FOLLOWED"}doStateChange(e){if(e!="UNFOLLOW"){let i={state:e,comic:this.comic()};this.comicService.followComics(this.session.user.value().id,[i]).subscribe({next:n=>{n&&(this.followsUpdate(`${this.comic().title} added to ${this.stateTextMap[e].toUpperCase()}`),this.onChange.emit({state:n[0]?.state,comics:[this.comic()]}))},error:n=>{this.connectionError("Could not update Follows")}}).add(()=>this.loading.set(!1))}else this.comicService.unfollowComics(this.session.user.value().id,[this.comic().id]).subscribe({next:i=>{i&&(this.followsUpdate(`UNFOLLOWED ${this.comic().title}`,"warning"),this.onChange.emit({state:"NOT_FOLLOWED",comics:[this.comic()]}))},error:i=>{this.connectionError("Could not unfollow comic")}}).add(()=>this.loading.set(!1))}static{this.\u0275fac=function(i){return new(i||t)(J(Z))}}static{this.\u0275cmp=M({type:t,selectors:[["comic-follow-status"]],hostBindings:function(i,n){i&1&&u("click",function(m){return n.onAnyClick(m)},Ue)},outputs:{onChange:"onChange"},features:[q],decls:9,vars:9,consts:[[1,"list-status"],[1,"follow-info"],[1,"follow-status",3,"click"],["type","button",1,"change-status-btn"],[1,"update-status"],["type","button",1,"status-btn",3,"disabled"],[1,"status-loading"],["type","button",1,"change-status-btn",3,"click"],[1,"change-status"],["type","button",1,"status-btn",3,"click","disabled"],[1,"loading-backdrop"],[1,"spinner-container"],["mode","indeterminate",1,"spinner"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),u("click",function(){return n.state()==null?n.changeState("READING"):n.toggleMenu()}),r(3),a(),_(4,aa,3,0,"button",3),a(),o(5,"div",4),S(6,ca,2,2,"button",5,Ee),_(8,sa,4,0,"div",6),a()()),i&2&&(k("list-status-expanded",n.isOpened()),s(3),C(n.stateText()),s(),v(n.showButton()?4:-1),s(),k("update-status-expanded",n.isOpened())("update-status-border-hidden",n.borderHidden()),s(),O(n.states),s(2),v(n.loading()?8:-1))},dependencies:[V,Te],styles:[".list-status[_ngcontent-%COMP%]{position:relative;background-color:#335a99;border-radius:4px;transition:border-bottom-left-radius .25s ease-in-out,border-bottom-right-radius .25s ease-in-out}.follow-info[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;text-align:center;z-index:2}.follow-status[_ngcontent-%COMP%], .change-status[_ngcontent-%COMP%]{padding:.25rem}.follow-status[_ngcontent-%COMP%]{flex:1}.follow-status[_ngcontent-%COMP%]:hover, .change-status-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:#c8c8c81a}.follow-status[_ngcontent-%COMP%]:active, .change-status-btn[_ngcontent-%COMP%]:active{color:rgb(var(--comic-text-color),.8)}.change-status-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;width:2.25rem;padding:0rem;border:none;border-left:1px solid rgba(21,38,65,.5);background-color:transparent}.change-status[_ngcontent-%COMP%]{width:2rem;height:100%}.change-status[_ngcontent-%COMP%]:hover{cursor:pointer}.update-status[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:0rem;box-sizing:border-box;border:1px solid rgba(51,90,153,1);border-top:none;border-bottom-left-radius:4px;border-bottom-right-radius:4px;background-color:rgba(var(--comic-dark),1);transition:height .25s ease-in-out;overflow:hidden;z-index:100}.update-status-border-hidden[_ngcontent-%COMP%]{border:none}.update-status-expanded[_ngcontent-%COMP%]{height:2.5rem}.list-status-expanded[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.status-btn[_ngcontent-%COMP%]{flex:1;width:100%;padding:0rem;color:rgb(var(--comic-text-color));border:none;background-color:transparent}.status-btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:#c8c8c81a}.status-btn[_ngcontent-%COMP%]:active{color:rgb(var(--comic-text-color),.8)}.status-btn[_ngcontent-%COMP%]:disabled{color:rgb(var(--comic-text-color),.5);background-color:transparent!important}.status-loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;width:100%;height:100%}.spinner-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;height:100%;padding:.25rem;margin:auto;z-index:2}.spinner[_ngcontent-%COMP%]{height:min(100%,100px)!important}.loading-backdrop[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:rgba(var(--comic-dark),.8);-webkit-backdrop-filter:blur(.1rem);backdrop-filter:blur(.1rem);z-index:2}.update-status-expanded[_ngcontent-%COMP%]{height:12rem}"]})}}return t})();function la(t,c){t&1&&(o(0,"div",7),g(1,"div",8),o(2,"div",9),g(3,"mat-progress-spinner",10),a()())}var Li=(()=>{class t extends st{constructor(e){super(e),this.elementRef=e,this.comic=I.required(),this.list=I.required(),this.onChange=ce()}removeComic(){this.loading()||(this.loading.set(!0),this.comicService.removeComicsFromList(this.list().id,[this.comic().id]).subscribe(e=>{if(!e){this.notifService.notify({type:"warning",header:"Unexpected Error",body:"Failed to remove comic"});return}this.notifService.notify({type:"warning",header:`List [ ${this.list().name} ] Updated`,body:`Removed ${this.comic().title} from list`}),this.onChange.emit({change:"remove",list:this.list(),comics:[this.comic()]})}).add(()=>this.loading.set(!1)))}static{this.\u0275fac=function(i){return new(i||t)(J(Z))}}static{this.\u0275cmp=M({type:t,selectors:[["comic-list-status"]],hostBindings:function(i,n){i&1&&u("click",function(m){return n.onAnyClick(m)},Ue)},inputs:{comic:[1,"comic"],list:[1,"list"]},outputs:{onChange:"onChange"},features:[q],decls:11,vars:8,consts:[[1,"list-status"],[1,"follow-info"],[1,"follow-status",3,"click"],["type","button",1,"change-status-btn",3,"click"],[1,"change-status"],[1,"update-status"],["type","button",1,"status-btn",3,"click"],[1,"status-loading"],[1,"loading-backdrop"],[1,"spinner-container"],["mode","indeterminate",1,"spinner"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2),u("click",function(){return n.toggleMenu()}),r(3),a(),o(4,"button",3),u("click",function(){return n.toggleMenu()}),o(5,"mat-icon",4),r(6,"arrow_drop_down"),a()()(),o(7,"div",5)(8,"button",6),u("click",function(){return n.removeComic()}),r(9,"Remove From List"),a(),_(10,la,4,0,"div",7),a()()),i&2&&(k("list-status-expanded",n.isOpened()),s(3),C(n.list().name),s(4),k("update-status-expanded",n.isOpened())("update-status-border-hidden",n.borderHidden()),s(3),v(n.loading()?10:-1))},dependencies:[V,Te],styles:[".list-status[_ngcontent-%COMP%]{position:relative;background-color:#335a99;border-radius:4px;transition:border-bottom-left-radius .25s ease-in-out,border-bottom-right-radius .25s ease-in-out}.follow-info[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;text-align:center;z-index:2}.follow-status[_ngcontent-%COMP%], .change-status[_ngcontent-%COMP%]{padding:.25rem}.follow-status[_ngcontent-%COMP%]{flex:1}.follow-status[_ngcontent-%COMP%]:hover, .change-status-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:#c8c8c81a}.follow-status[_ngcontent-%COMP%]:active, .change-status-btn[_ngcontent-%COMP%]:active{color:rgb(var(--comic-text-color),.8)}.change-status-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;width:2.25rem;padding:0rem;border:none;border-left:1px solid rgba(21,38,65,.5);background-color:transparent}.change-status[_ngcontent-%COMP%]{width:2rem;height:100%}.change-status[_ngcontent-%COMP%]:hover{cursor:pointer}.update-status[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:0rem;box-sizing:border-box;border:1px solid rgba(51,90,153,1);border-top:none;border-bottom-left-radius:4px;border-bottom-right-radius:4px;background-color:rgba(var(--comic-dark),1);transition:height .25s ease-in-out;overflow:hidden;z-index:100}.update-status-border-hidden[_ngcontent-%COMP%]{border:none}.update-status-expanded[_ngcontent-%COMP%]{height:2.5rem}.list-status-expanded[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.status-btn[_ngcontent-%COMP%]{flex:1;width:100%;padding:0rem;color:rgb(var(--comic-text-color));border:none;background-color:transparent}.status-btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:#c8c8c81a}.status-btn[_ngcontent-%COMP%]:active{color:rgb(var(--comic-text-color),.8)}.status-btn[_ngcontent-%COMP%]:disabled{color:rgb(var(--comic-text-color),.5);background-color:transparent!important}.status-loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;width:100%;height:100%}.spinner-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;height:100%;padding:.25rem;margin:auto;z-index:2}.spinner[_ngcontent-%COMP%]{height:min(100%,100px)!important}.loading-backdrop[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:rgba(var(--comic-dark),.8);-webkit-backdrop-filter:blur(.1rem);backdrop-filter:blur(.1rem);z-index:2}"]})}}return t})();var da=["coverContainer"],ma=["comicMoreInfo"],pa=(t,c)=>c.id;function ga(t,c){if(t&1){let e=P();o(0,"comic-list-status",28),u("onChange",function(n){h(e);let l=d();return f(l.onListsChange(n))}),a()}if(t&2){let e=c.$implicit,i=d();p("list",e)("comic",i.comic())}}function ua(t,c){if(t&1&&(o(0,"div",22),r(1),a()),t&2){let e=c.$implicit;s(),C(e.name)}}function ha(t,c){if(t&1&&(o(0,"div",24),r(1),a()),t&2){let e=c.$implicit;s(),C(e.name)}}var Ni=(()=>{class t{constructor(){this.render=y(he),this.comic=se.required(),this.coverContainer=G("coverContainer"),this.comicMoreInfo=G("comicMoreInfo"),Ye(()=>{let e=this.comic();this.gapAdjust()})}ngOnInit(){}gapAdjust(){let e=this.coverContainer(),i=this.comicMoreInfo();if(!e||!i)return;let n=e.nativeElement.clientHeight-e.nativeElement.parentElement.parentElement.clientHeight-16*1.5;n>0?this.render.setStyle(i.nativeElement,"margin-top",n+"px"):this.render.setStyle(i.nativeElement,"margin-top","0px")}onFollowedComicChange(e){this.comic.update(i=>{let n=structuredClone(i);return n.followState=e.state,n})}onListsChange(e){switch(e.change){case"add":this.comic.update(i=>{let n=structuredClone(i);return n.lists||(n.lists=[]),n.lists.findIndex(l=>l.id==e.list.id)<0&&n.lists.push(e.list),n});break;case"remove":this.comic.update(i=>{let n=structuredClone(i);return n.lists=n.lists?.filter(l=>l.id!=e.list.id),n});break;case"update":break}}get nativeTitle(){return this.comic().aliases.find(e=>e.language==="native")?.title}get aliasHint(){return`(+${this.comic().aliases.length-(this.nativeTitle==this.comic().title?1:0)} other titles)`}get cover(){return this.comic().covers[0].source}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic-page"]],viewQuery:function(i,n){i&1&&ee(n.coverContainer,da,5)(n.comicMoreInfo,ma,5),i&2&&te(2)},inputs:{comic:[1,"comic"]},outputs:{comic:"comicChange"},decls:44,vars:10,consts:[["coverContainer",""],["comicMoreInfo",""],[1,"comic-page"],[1,"top"],[1,"top-parts"],["size-observer","",1,"top-left",3,"doOnChange"],[1,"comic-cover-container"],[1,"comic-cover",3,"load","src"],[1,"list-info"],[3,"onChange","comic"],[3,"list","comic"],[1,"top-right"],[1,"title"],[1,"prefered-title"],[1,"aliases"],[1,"native-title"],[1,"alias-hint"],[1,"alias-list"],[1,"description",3,"innerHTML"],[1,"comic-genres"],[1,"genres-n-themes"],[1,"genres"],[1,"genre"],[1,"themes"],[1,"theme"],[1,"bottom"],[3,"comic"],[1,"content",3,"comic"],[3,"onChange","list","comic"]],template:function(i,n){if(i&1){let l=P();o(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6,0)(6,"img",7),u("load",function(){return h(l),f(n.gapAdjust())}),a(),o(7,"div",8)(8,"comic-follow-status",9),u("onChange",function(w){return h(l),f(n.onFollowedComicChange(w))}),a(),S(9,ga,1,2,"comic-list-status",10,pa),o(11,"add-to-list",9),u("onChange",function(w){return h(l),f(n.onListsChange(w))}),a()()()(),o(12,"div",11)(13,"div",12)(14,"span",13),r(15),a(),o(16,"div",14)(17,"span",15),r(18),a(),o(19,"div",14)(20,"span",16),r(21),a(),g(22,"div",17),a()()(),g(23,"div",18),o(24,"div",19)(25,"div",20)(26,"div")(27,"div"),r(28,"Genres"),a(),o(29,"div",21),S(30,ua,2,1,"div",22,U),a()(),o(32,"div")(33,"div"),r(34,"Themes"),a(),o(35,"div",23),S(36,ha,2,1,"div",24,U),a()()()()()()(),o(38,"div",25)(39,"div",null,1),g(41,"comic-page-info",26,1),a(),g(43,"comic-page-content",27),a()()}i&2&&(s(3),p("doOnChange",n.gapAdjust.bind(n)),s(3),p("src",n.cover,ue),s(2),p("comic",n.comic()),s(),O(n.comic().lists),s(2),p("comic",n.comic()),s(4),C(n.comic().title),s(3),C(n.nativeTitle),s(3),C(n.aliasHint),s(2),p("innerHTML",n.comic().description,qe),s(7),O(n.comic().genres),s(6),O(n.comic().themes),s(5),p("comic",n.comic()),s(2),p("comic",n.comic()))},dependencies:[X,Be,Ai,Di,Li,Fi,Ii],styles:[".comic-page[_ngcontent-%COMP%]{--cover-width: 15rem;display:flex;flex-direction:column;height:100%}.top[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;min-height:20rem;padding:1.5rem;border-radius:var(--comic-border-radius);background-color:rgba(var(--comic-light));background:linear-gradient(35deg,rgb(var(--comic-dark)),rgb(var(--comic-medium)));box-shadow:0 6px 12px 1px #00000080}.top-parts[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;gap:1.5rem}.top-left[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:.5rem;width:var(--cover-width)}.top-right[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem}.comic-creators[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1.5rem}.comic-cover-container[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;gap:1rem;width:100%;border-radius:4px}.comic-cover[_ngcontent-%COMP%]{width:inherit;object-fit:cover;border-radius:4px;box-shadow:0 6px 12px 1px #00000080}.list-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.title[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:1rem}.prefered-title[_ngcontent-%COMP%]{font-size:1.75rem}.aliases[_ngcontent-%COMP%]{font-size:.8rem;display:flex;flex-flow:row wrap;gap:.25rem}.native-title[_ngcontent-%COMP%], .english-title[_ngcontent-%COMP%]{opacity:1;opacity:.75}.alias-hint[_ngcontent-%COMP%]{opacity:.65}.alias-hint[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1}.description[_ngcontent-%COMP%]{font-size:.9rem}.genres-n-themes[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1.5rem}.genres[_ngcontent-%COMP%], .themes[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.75rem}.genre[_ngcontent-%COMP%]{font-size:.85rem;padding:.2rem .35rem;border-radius:.5rem;background-color:#6399}.theme[_ngcontent-%COMP%]{font-size:.85rem;padding:.2rem .35rem;border-radius:.5rem;background-color:#33997c99}.bottom[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;gap:1.5rem;padding:1.5rem}.content[_ngcontent-%COMP%]{flex:1}.extra-content[_ngcontent-%COMP%]{flex:unset}.no-comics[_ngcontent-%COMP%]{text-align:center;font-weight:700}@media(max-width:880px){.bottom[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.content[_ngcontent-%COMP%]{flex-direction:column}}@media(max-width:720px){.top-parts[_ngcontent-%COMP%]{flex-direction:column}.top-left[_ngcontent-%COMP%]{width:unset}.comic-cover-container[_ngcontent-%COMP%]{position:relative;flex-flow:row nowrap}.comic-cover[_ngcontent-%COMP%]{width:10rem}.list-info[_ngcontent-%COMP%]{flex:1}}"]})}}return t})();var Ri=(()=>{class t{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["glossary"]],decls:47,vars:0,consts:[[1,"docs-section","glossary"],[1,"glossary-entries","table-entries"],[1,"table-header","entry-name"],[1,"table-header","entry-meaning"],[1,"entry-name"],[1,"entry-meaning"],[1,"entry-desc"],[1,"entry-note"]],template:function(i,n){i&1&&(b(0,"section",0)(1,"h2"),r(2,"Glossary"),x(),b(3,"div",1)(4,"span",2),r(5,"Term"),x(),b(6,"div",3),r(7," Meaning "),x(),b(8,"span",4),r(9,"ComicAPI"),x(),b(10,"div",5)(11,"span",6),r(12,"This API, will always be refered to directly by name"),x()(),b(13,"span",4),r(14,"Comic"),x(),b(15,"div",5)(16,"span",6),r(17,"Primarily refers to Japanese, Korean, and Chinese comics (manga, manhwa, and manhua respectively)."),x(),b(18,"span",7),r(19," May also refer to comics from other countries that follow similar formats. Does "),b(20,"b"),r(21,"NOT"),x(),r(22," refer to American comics such as Marvel / DC "),x()(),b(23,"span",4),r(24,"Application / Client"),x(),b(25,"div",5)(26,"span",6),r(27,"Application / Client may be used interchangeably and refer to a developer's application that may use ComicAPI"),x()(),b(28,"span",4),r(29,"Comic Type / Type"),x(),b(30,"div",5)(31,"span",6),r(32,"The type of comic based on country of origin; Manga, Manhwa, Manhua, Other"),x(),b(33,"span",7)(34,"b"),r(35,"Other"),x(),r(36," refers to comics that are not from Japan, Korea, or China"),x()(),b(37,"span",4),r(38,"Category"),x(),b(39,"div",5)(40,"span",6),r(41,"A general term used to refer to a comic's type, demographic, genres, themes, formats, and tags"),x()(),b(42,"span",4),r(43,"Comic List"),x(),b(44,"div",5)(45,"span",6),r(46,"A user created and managed list of comics"),x()()()())},styles:["#comic-docs[_ngcontent-%COMP%]{position:relative;color:rgb(var(--comic-text-color));background-color:rgb(var(--comic-medium))}.content[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;min-width:0;min-height:100vh}.nav[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;flex-direction:column;gap:.5rem;min-width:calc(var(--comic-side-bar-width) - 2rem);height:100vh;padding:1rem .5rem 2rem 1rem;background-color:rgb(var(--comic-dark));overflow-y:scroll;scrollbar-width:thin;scrollbar-color:transparent transparent}.nav-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.nav-section-header[_ngcontent-%COMP%]{font-size:1.1rem}.nav-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem}.nav-item[_ngcontent-%COMP%]{cursor:pointer;color:inherit;text-decoration:unset;padding:.25rem}.nav-item[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-medium))}.docs-section[_ngcontent-%COMP%]{padding:0rem 1rem}.section-header[_ngcontent-%COMP%], .sub-section-header[_ngcontent-%COMP%], .sub-section-header2[_ngcontent-%COMP%]{margin:unset;letter-spacing:.5px}.section-header[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700}.sub-section-header[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:700}.sub-section-header2[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.documentation[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;min-width:0;font-size:.9rem}.introduction[_ngcontent-%COMP%]{white-space:pre-line;font-family:inherit}.app-name[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px}.table-entries[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;align-items:start;font-size:.85rem;border-radius:4px;border:1px solid rgb(var(--comic-dark));overflow:hidden}.table-header[_ngcontent-%COMP%], .entry-name[_ngcontent-%COMP%], .entry-meaning[_ngcontent-%COMP%], .entry-extra[_ngcontent-%COMP%]{height:100%;padding:.5rem;background-color:rgba(var(--comic-dark),.45)}.table-header[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;background-color:rgb(var(--comic-dark))}.entry-name[_ngcontent-%COMP%]{border-right:1px solid rgb(var(--comic-light))}.entry-meaning[_ngcontent-%COMP%]{display:flex;flex-direction:column}.entry-note[_ngcontent-%COMP%]{color:rgb(var(--comic-warning));font-size:.8rem}.inline-example[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.url-example[_ngcontent-%COMP%], .code-example[_ngcontent-%COMP%]{padding:.5rem;margin:unset;border-radius:4px;background-color:rgb(var(--comic-dark));scrollbar-width:thin;scrollbar-color:rgb(var(--comic-dark)) rgb(var(--comic-light-ex));overflow:auto}.code-example[_ngcontent-%COMP%]{font-size:.75rem}.example-explaination[_ngcontent-%COMP%]{padding:.35rem 0rem}.argument[_ngcontent-%COMP%]{padding:.15rem .35rem;letter-spacing:.5px;border-radius:4px;background-color:rgba(var(--comic-dark),.8)}.note[_ngcontent-%COMP%]{font-size:.8rem}.warning[_ngcontent-%COMP%]{color:rgb(var(--comic-warning))}.tip[_ngcontent-%COMP%]{color:rgb(var(--manhwa-color))}.glossary-entries[_ngcontent-%COMP%]   .entry-name[_ngcontent-%COMP%]:nth-child(4n-1), .glossary-entries[_ngcontent-%COMP%]   .entry-meaning[_ngcontent-%COMP%]:nth-child(4n){background-color:rgba(var(--comic-dark),.85)}"]})}}return t})();var lt=class{constructor(){this.mutations=new fn,this.types=new mn,this.inputs=new pn,this.enums=new gn,this.interfaces=new un,this.unions=new hn}},mn=class{comicToken(){return`type ComicToken {
    userId: ID!
    clientId: ID!
    accessToken: String!
    refreshToken: String
    issuedAt: Int!
    accessExpiry: Int
    refreshExpiry: Int
    scope: [ComicScope]!
}`}comicClient(){return`type ComicClient {
    id: ID!
    userId: ID!
    clientName: String
    description: String
    link: String
    redirectUris: [String]
    scopes: [ComicScope]
}`}secretComicClient(){return`type SecretComicClient {
    id: ID!
    userId: ID!
    clientName: String
    description: String
    link: String
    redirectUris: [String]
    clientSecret: String
}`}loginResponse(){return`type LoginResponse implements MapsUser {
    user: ComicUser
    token: ComicToken
}`}authorizationResponse(){return`type AuthorizationResponse {
    responseType: String!
    userId: Int
    clientId: Int!
    code: String
    token: ComicToken
}`}oAuth2TokenResponse(){return`type OAuth2TokenResponse {
    userId: Int
    token: ComicToken
}`}comic(){return`type Comic {
    id: ID!
    title: String!
    description: String

    bannerImage: String
    chapters: Int
    volumes: Int
    type: ComicType
    format: String
    status: ComicStatus

    startDate: String
    endDate: String

    source: String
    countryOfOrigin: String
    isLicensed: Boolean

    isAdult: Boolean
    isLocked: Boolean

    meanScore: Int
    averageScore: Int
    popularity: Int
    favourites: Int

    aliases: [ComicAlias]
    covers: [ComicCover]
    genres: [Category]
    themes: [Category]
    tags: [Category]
    links: [ComicLink]

    updates: [ComicUpdate]

    characters: [ComicCharacter]

    publishers: [Publisher]
    authors: [ComicStaff]
    artists: [ComicStaff]
    staff: [ComicStaff]

    relations: [ComicRelation]
    recommendations: [ComicRecommendation]

    created: String
    updated: String

    # User Specific
    lastRead: Float
    latestChapterUpdate: ComicUpdate
    followState: String
    lists: [ComicList]
}`}comicAlias(){return`type ComicAlias {
    comicId: ID!
    title: String!
    language: String
}`}comicCover(){return`type ComicCover {
    comicId: ID!
    volume: String
    w: Int
    h: Int
    notes: String
    source: String!
}`}comicLink(){return`type ComicLink {
    comicId: ID!
    site: String
    url: String
    info: String
    language: String
    color: String
    icon: String
    notes: String
    isDisabled: Boolean
}`}comicUpdate(){return`type ComicUpdate {
    comicId: ID!

    volume: Float
    chapter: Float
    language: String

    groupId: ID
    group: String

    created: String
    updated: String
}`}comicCharacter(){return`type ComicCharacter {
    comicId: ID!
    role: String!
    character: Character
}`}comicRecommendation(){return`type ComicRecommendation {
    comicId: ID!
    rating: Int
    other: Comic
}`}comicRelation(){return`type ComicRelation {
    comicId: ID!
    relationType: String
    other: Comic
}`}comicStaff(){return`type ComicStaff {
    comicId: ID!
    role: String!
    staff: Staff
}`}category(){return`type Category {
    id: ID!
    name: String!
    description: String
    group: String
    subgroup: String
    isAdult: Boolean
    type: String
}`}comicData(){return`type ComicData {
    categories: [Category]
    demographics: [Category]
    comicTypes: [Category]
}`}character(){return`type Character {
    id: ID!
    name: String!
    image: String
}`}publisher(){return`type Publisher {
    id: ID!
    name: String!
}`}staff(){return`type Staff {
    id: ID!
    name: String!
    image: String
}`}deletedRef(){return`type DeletedRef {
    item: String!
    deleted: [Int]!
}`}userSettings(){return`type UserSettings {
    comicPreferences: ComicPreferences
    comicMarkSettings: [ComicMark]
    comicFilterSettings: ComicFilterSettings
}`}userPrivacySettings(){return`type UserPrivacySettings {
    privateFollowing: Boolean
    invisibleFollowing: Boolean

    privateLists: Boolean
    invisibleLists: Boolean

    privateHistory: Boolean
    invisibleHistory: Boolean
}`}authorizedApp(){return`type AuthorizedApp {
    appId: ID!
    application: ComicClient
}`}comicPreferences(){return`type ComicPreferences {
    displayFollows: Boolean
    languages: [String]
    title: String
    quickFollow: String
}`}comicMark(){return`type ComicMark {
    categoryId: ID
    category: String
    color: String
    enabled: Boolean
}`}comicFilterSettings(){return`type ComicFilterSettings {
    categoryFilters: [CategoryFilter]
    enableMatureContent: Boolean
}`}categoryFilter(){return`type CategoryFilter {
    categoryId: ID
    category: String
    type: String
    enabled: Boolean
}`}demographicFilter(){return`type DemographicFilter {
    demographicId: ID
    demographic: Demographic
    enabled: Boolean
}`}comicTypeFilter(){return`type ComicTypeFilter {
    comicTypeId: ID
    type: ComicType
    enabled: Boolean
}`}comicUser(){return`type ComicUser {
    id: ID!
    username: String!
    displayName: String

    readingHistory(q: ComicQP): [HistoryEntry]
    followedComics(q: ComicQP): [FollowedComic]

    followedStaff: [FollowedStaff]

    comicLists: [ComicList]

    userLogs: [UserLogEntry]

    settings: UserSettings
}`}followedComic(){return`type FollowedComic implements MapsComic {
    state: String!
    chapter: Float
    lastReadAt: String
    comic: Comic!
}`}followedStaff(){return`type FollowedStaff implements MapsStaff {
    state: String!
    staff: Staff!
}`}historyEntry(){return`type HistoryEntry implements MapsComic & MapsUser {
    user: ComicUser!
    comic: Comic!
    sourceId: ID!
    source: String
    chapter: Float
    lastReadAt: String
    created: String
    updated: String
}`}comicList(){return`type ComicList implements MapsUser {
    id: ID!
    userId: ID
    user: ComicUser
    name: String!
    description: String
    list: [ComicListEntry]
    created: String
    updated: String
}`}comicListEntry(){return`type ComicListEntry implements MapsComic {
    listId: ID!
    comicId: ID!
    notes: String
    comic: Comic!
    created: String
    updated: String
}`}userLogEntry(){return`type UserLogEntry implements MapsUser {
    user: ComicUser!
    other: Loggables
    source: String!

    logType: String!
    log: String!
    date: String
}`}listComicPage(){return`type ListComicPage implements Page {
    pageInfo: PageInfo
    results: [ComicListEntry]!
}`}followedComicPage(){return`type FollowedComicPage implements Page {
    pageInfo: PageInfo
    results: [FollowedComic]!
}`}historyPage(){return`type HistoryPage implements Page {
    pageInfo: PageInfo
    results: [HistoryEntry]!
}`}comicPage(){return`type ComicPage implements Page {
    pageInfo: PageInfo
    results: [Comic]!
}`}comicUpdatePage(){return`type ComicUpdatePage implements Page {
    pageInfo: PageInfo
    results: [ComicUpdate]!
}`}pageInfo(){return`type PageInfo {
    more: Boolean
    next: String
    previous: String
}`}},pn=class{userSignIn(){return`input UserSignIn {
    username: String!
    password: String!
}`}userRegistration(){return`input UserRegistration {
    username: String!
    displayName: String
    password: String!
}`}authorizationRequest(){return`input AuthorizationRequest {
    responseType: String!
    clientId: ID!
    scope: [ComicScope!]!
    redirectUri: String!
    challenge: String
}`}tokenRequest(){return`input TokenRequest {
    code: String!
    clientId: ID!
    clientSecret: String!
    redirectUri: String!
    grantType: GrantType = CODE
    codeVerifier: String
}`}refreshTokenRequest(){return`input RefreshTokenRequest {
    clientId: ID!
    clientSecret: String!
    refreshToken: String!
}`}comicQP(){return`input ComicQP {
    id: ID # If present ignores all other parameters and returns comic with matching ID
    userId: ID # Else If present returns comics within the user's following
    listId: ID # Else If present returns comics within the list
    history: Boolean = false # If userId is present AND history == true, return user's history
    title: String

    categories: [ID] = []
    excludedCategories: [ID] = []

    chapters: Int = 0
    status: ComicStatus

    comicTypes: [String] = []
    demographics: [String] = []

    releasedFrom: String
    releasedTo: String

    lastUpdated: String

    contentRating: String
    matureContent: Boolean = false

    includeFollowing: Boolean = true
    followStates: [FollowState] = []

    chapterLanguages: [String] = []

    sort: ComicSort = UPDATED
    desc: Boolean = true
    limit: Int = 25
    cursor: String
}`}followedComicInput(){return`input FollowedComicInput {
    comicId: ID!
    state: String!
}`}followedStaffInput(){return`input FollowedStaffInput {
    staffId: ID!
    state: String!
}`}comicListEntryInput(){return`input ComicListEntryInput {
    comicId: ID!
    notes: String
}`}userPrivacySettingsInput(){return`input UserPrivacySettingsInput {
    privateFollowing: Boolean
    invisibleFollowing: Boolean

    privateLists: Boolean
    invisibleLists: Boolean

    privateHistory: Boolean
    invisibleHistory: Boolean
}`}authorizedAppInput(){return`input AuthorizedAppInput {
    appId: ID!
    deleted: Boolean = false
}`}comicPreferencesInput(){return`input ComicPreferencesInput {
    displayFollows: Boolean
    languages: [String]
    title: String
    quickFollow: String
}`}comicMarkSettingsInput(){return`input ComicMarkSettingsInput {
    categoryId: ID
    category: String
    color: String
    enabled: Boolean = true
    deleted: Boolean = false
}`}comicFilterSettingsInput(){return`input ComicFilterSettingsInput {
    categoryFilters: [CategoryFilterInput]
    enableMatureContent: Boolean
}`}categoryFilterInput(){return`input CategoryFilterInput {
    categoryId: ID
    category: String
    type: String
    enabled: Boolean = true
    deleted: Boolean = false
}`}demographicFilterInput(){return`input DemographicFilterInput {
    demographicId: ID
    demographic: Demographic
    enabled: Boolean = true
}`}comicTypeFilterInput(){return`input ComicTypeFilterInput {
    comicTypeId: ID
    type: ComicType
    enabled: Boolean = true
}`}},gn=class{comicScope(){return`enum ComicScope {
    IDENTITY

    HISTORY_READ
    HISTORY_WRITE

    COMIC_FOLLOWS_READ
    COMIC_FOLLOWS_WRITE

    STAFF_FOLLOWS_READ
    STAFF_FOLLOWS_WRITE

    LISTS_READ
    LISTS_WRITE

    SETTINGS_READ
}`}grantType(){return`enum GrantType {
    CODE
    REFRESH_TOKEN
}`}comicSort(){return`enum ComicSort {
    ID
    TITLE
    CHAPTERS
    START_DATE
    END_DATE
    CREATED
    UPDATED
    CHAPTER_UPDATE
    POPULARITY
}`}comicType(){return`enum ComicType {
    MANGA
    MANHWA
    MANHUA
    OTHER
}`}demographic(){return`enum Demographic {
    NONE
    MALE
    FEMALE
}`}comicStatus(){return`enum ComicStatus {
    FINISHED
    COMPLETED

    RELEASING
    ONGOING

    HIATUS
    CANCELLED

    UNKNOWN
}`}followState(){return`enum FollowState {
    NOT_FOLLOWED
    READING
    PLAN_TO_READ
    ON_HOLD
    COMPLETED
    DROPPED

    UNFOLLOW
}`}},un=class{mapsComic(){return`interface MapsComic {
    comic: Comic!
}`}mapsStaff(){return`interface MapsStaff {
    staff: Staff!
}`}mapsUser(){return`interface MapsUser {
    user: ComicUser
}`}page(){return`interface Page {
    pageInfo: PageInfo
}`}},hn=class{loggables(){return`union Loggables =
    ComicUser
    | Comic
    | Staff
    | Publisher
    | ComicList
    | ComicListEntry`}},fn=class{saveReadingHistory(){return`saveReadingHistory(
    userId: ID!
    comicId: Int!
    chapter: Int
    completed: Boolean
    page: Int
    scroll: Int
): HistoryEntry`}deleteReadingHistory(){return"deleteReadingHistory(userId: ID!, comicId: ID!): Comic"}saveFollowedComics(){return`saveFollowedComics(
    userId: ID!
    comics: [FollowedComicInput]!
): [FollowedComic]`}deleteFollowedComics(){return"deleteFollowedComics(userId: ID!, comics: [ID]!): DeletedRef"}saveFollowedStaff(){return`saveFollowedStaff(
    userId: ID!
    staff: [FollowedStaffInput]!
): [FollowedStaff]`}deleteFollowedStaff(){return"deleteFollowedStaff(userId: ID!, staff: [ID]!): DeletedRef"}saveComicList(){return`saveComicList(
    id: ID # If ID is present, updates the matching ComicList
    userId: ID
    name: String
    description: String
): ComicList`}deleteComicList(){return"deleteComicList(id: ID!): ComicList"}saveComicListEntry(){return`saveComicListEntry(
    listId: ID!
    comics: [ComicListEntryInput!]!
): [ComicListEntry]`}deleteComicListEntry(){return"deleteComicListEntry(listId: ID!, comics: [ID]!): [ComicListEntry]"}};var Vi=(()=>{class t{constructor(){this.graphql=I.required(),this.infoOptions=N(()=>Object.keys(this.graphql().graphql)),this.selectedOption=E("query"),this.info=N(()=>this.getQueryInfo())}ngOnInit(){}selectInfo(e){this.selectedOption.set(e)}getQueryInfo(){let e=this.selectedOption(),i=this.graphql().graphql;for(let n in i)if(n==e)return i[n];return i.query}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["ng-component"]],inputs:{graphql:[1,"graphql"]},decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})();function fa(t,c){if(t&1){let e=P();b(0,"span",6),Qn("click",function(){let n=h(e).$implicit,l=d();return f(l.selectInfo(n))}),r(1),x()}if(t&2){let e=c.$implicit,i=d();k("active",i.selectedOption()==e),s(),C(e)}}var Ht=(()=>{class t extends Vi{constructor(){super()}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["graphql-query-info"]],features:[q],decls:10,vars:3,consts:[[1,"query-name"],[1,"description",3,"innerHTML"],[1,"query"],[1,"query-info-select"],[1,"info-option",3,"active"],[1,"query-info"],[1,"info-option",3,"click"]],template:function(i,n){i&1&&(b(0,"section")(1,"h3",0),r(2),x(),be(3,"div",1),b(4,"div",2)(5,"div",3),S(6,fa,2,3,"span",4,Ee),x(),b(8,"pre",5),r(9),x()()()),i&2&&(s(2),C(n.graphql().queryName),s(),Ge("innerHTML",n.graphql().description,qe),s(3),O(n.infoOptions()),s(3),C(n.info()))},styles:[".query-name[_ngcontent-%COMP%]{text-transform:capitalize}.description[_ngcontent-%COMP%]{white-space:pre-line}.query[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:4px;overflow:hidden}.query-info-select[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;background-color:rgb(var(--comic-dark))}.info-option[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem;min-width:5rem;text-align:center}.info-option[_ngcontent-%COMP%]:hover{background-color:rgba(var(--comic-medium),.5)}.info-option.active[_ngcontent-%COMP%]{color:#fff;background-color:rgba(var(--comic-medium),.5)}.query-info[_ngcontent-%COMP%]{padding:1rem;background-color:rgba(var(--comic-dark),.5)}"]})}}return t})();var zi=(()=>{class t{constructor(){this.qlData=new lt}ngOnInit(){}token(){return{queryName:"token",description:"Exchanges a OAuth2 Authorization Code for an access token",graphql:this.sortObj({query:"token(request: TokenRequest!): OAuth2TokenResponse",TokenRequest:this.qlData.inputs.tokenRequest(),GrantType:this.qlData.enums.grantType(),OAuth2TokenResponse:this.qlData.types.oAuth2TokenResponse(),ComicToken:this.qlData.types.comicToken(),ComicScope:this.qlData.enums.comicScope()})}}refreshToken(){return{queryName:"refreshToken",description:"Refreshes an access token",graphql:this.sortObj({query:"refreshToken(request: RefreshTokenRequest!): OAuth2TokenResponse",RefreshTokenRequest:this.qlData.inputs.refreshTokenRequest(),OAuth2TokenResponse:this.qlData.types.oAuth2TokenResponse(),ComicToken:this.qlData.types.comicToken(),ComicScope:this.qlData.enums.comicScope()})}}saveReadingHistory(){return{queryName:"saveReadingHistory",description:"Adds an entry into the user's reading history. If an entry with the a matching comic id already exists, it is instead updated with the new information. ",graphql:this.sortObj({query:this.qlData.mutations.saveReadingHistory(),HistoryEntry:this.qlData.types.historyEntry(),Comic:this.qlData.types.comic()})}}deleteReadingHistory(){return{queryName:"deleteReadingHistory",description:"Deletes an entry from the user's reading history.",graphql:this.sortObj({query:this.qlData.mutations.deleteReadingHistory(),Comic:this.qlData.types.comic()})}}saveFollowedComics(){return{queryName:"saveFollowedComics",description:"Adds the given comics to the user's following list. If the comic is already present, updates the entry instead. Returns the add/updated followed comics.",graphql:this.sortObj({query:this.qlData.mutations.saveFollowedComics(),FollowedComicInput:this.qlData.inputs.followedComicInput(),FollowedComic:this.qlData.types.followedComic(),FollowState:this.qlData.enums.followState(),Comic:this.qlData.types.comic()})}}deleteFollowedComics(){return{queryName:"deleteFollowedComics",description:"Removes the given comics from the user's following list. Returns a list of removed comic ids.",graphql:this.sortObj({query:this.qlData.mutations.deleteFollowedComics(),DeletedRef:this.qlData.types.deletedRef()})}}saveFollowedStaff(){return{queryName:"saveFollowedStaff",description:"Adds the given staff to the user's following list. If the comic is already present, updates the entry instead. Returns the add/updated followed staff.",graphql:this.sortObj({query:this.qlData.mutations.saveFollowedStaff(),FollowedStaffInput:this.qlData.inputs.followedStaffInput(),FollowedStaff:this.qlData.types.followedStaff(),FollowState:this.qlData.enums.followState(),Staff:this.qlData.types.staff()})}}deleteFollowedStaff(){return{queryName:"deleteFollowedStaff",description:"Removes the given staff from the user's following list. Returns a list of removed staff ids.",graphql:this.sortObj({query:this.qlData.mutations.deleteFollowedStaff(),DeletedRef:this.qlData.types.deletedRef()})}}saveComicList(){return{queryName:"saveComicList",description:"Updates or creates a ComicList belonging to the user. Update or creation is determined by whether an id is presented or not.",graphql:this.sortObj({query:this.qlData.mutations.saveComicList(),ComicList:this.qlData.types.comicList()})}}deleteComicList(){return{queryName:"deleteComicList",description:"Deletes a ComicList.",graphql:this.sortObj({query:this.qlData.mutations.deleteComicList(),ComicList:this.qlData.types.comicList()})}}saveComicListEntry(){return{queryName:"saveComicListEntry",description:"Adds an entry into the ComicList. If an entry with the a matching comic id already exists, it is instead updated with the new information. Returns the add/updated entries.",graphql:this.sortObj({query:this.qlData.mutations.saveComicListEntry(),ComicListEntryInput:this.qlData.inputs.comicListEntryInput(),ComicListEntry:this.qlData.types.comicListEntry(),Comic:this.qlData.types.comic()})}}deleteComicListEntry(){return{queryName:"deleteComicListEntry",description:"Removes an entry from the ComicList. Returns the removed Comic.",graphql:this.sortObj({query:this.qlData.mutations.deleteComicListEntry(),Comic:this.qlData.types.comic()})}}sortObj(e){return Object.keys(e).sort((i,n)=>i.localeCompare(n)).reduce((i,n)=>(i[n]=e[n],i),{query:e.query})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["mutation-docs"]],decls:106,vars:12,consts:[[1,"docs-section","mutations"],[1,"section-header"],[1,"query-list","table-entries"],[1,"table-header","entry-name"],[1,"table-header","entry-meaning"],[1,"table-header","entry-extra"],[1,"entry-name"],[1,"entry-meaning"],[1,"entry-desc"],[1,"entry-extra"],[3,"graphql"]],template:function(i,n){i&1&&(o(0,"section",0)(1,"h3",1),r(2,"Mutations"),a(),o(3,"p"),r(4," This section will simply list each of the mutation requests available for developers and their return types. More information about the mutation's parameters and return type can be found under each mutation's documentation. "),a(),o(5,"div",2)(6,"span",3),r(7,"Mutation"),a(),o(8,"div",4),r(9," Return Type "),a(),o(10,"div",5),r(11,"Extra"),a(),o(12,"span",6),r(13,"token"),a(),o(14,"div",7)(15,"span",8),r(16,"OAuth2TokenResponse"),a()(),g(17,"div",9),o(18,"span",6),r(19,"refreshToken"),a(),o(20,"div",7)(21,"span",8),r(22,"OAuth2TokenResponse"),a()(),g(23,"div",9),o(24,"span",6),r(25,"saveReadingHistory"),a(),o(26,"div",7)(27,"span",8),r(28,"Comic"),a()(),o(29,"div",9),r(30,"OAuth2 Required"),a(),o(31,"span",6),r(32,"deleteReadingHistory"),a(),o(33,"div",7)(34,"span",8),r(35,"Comic"),a()(),o(36,"div",9),r(37,"OAuth2 Required"),a(),o(38,"span",6),r(39,"saveFollowedComics"),a(),o(40,"div",7)(41,"span",8),r(42,"[FollowedComic]"),a()(),o(43,"div",9),r(44,"OAuth2 Required"),a(),o(45,"span",6),r(46,"deleteFollowedComics"),a(),o(47,"div",7)(48,"span",8),r(49,"[DeletedRef]"),a()(),o(50,"div",9),r(51,"OAuth2 Required"),a(),o(52,"span",6),r(53,"saveFollowedStaff"),a(),o(54,"div",7)(55,"span",8),r(56,"[FollowedStaff]"),a()(),o(57,"div",9),r(58,"OAuth2 Required"),a(),o(59,"span",6),r(60,"deleteFollowedStaff"),a(),o(61,"div",7)(62,"span",8),r(63,"DeletedRef"),a()(),o(64,"div",9),r(65,"OAuth2 Required"),a(),o(66,"span",6),r(67,"saveComicList"),a(),o(68,"div",7)(69,"span",8),r(70,"ComicList"),a()(),o(71,"div",9),r(72,"OAuth2 Required"),a(),o(73,"span",6),r(74,"deleteComicList"),a(),o(75,"div",7)(76,"span",8),r(77,"ComicList"),a()(),o(78,"div",9),r(79,"OAuth2 Required"),a(),o(80,"span",6),r(81,"saveComicListEntry"),a(),o(82,"div",7)(83,"span",8),r(84,"[ComicListEntry]"),a()(),o(85,"div",9),r(86,"OAuth2 Required"),a(),o(87,"span",6),r(88,"deleteComicListEntry"),a(),o(89,"div",7)(90,"span",8),r(91,"[ComicListEntry]"),a()(),o(92,"div",9),r(93,"OAuth2 Required"),a()(),g(94,"graphql-query-info",10)(95,"graphql-query-info",10)(96,"graphql-query-info",10)(97,"graphql-query-info",10)(98,"graphql-query-info",10)(99,"graphql-query-info",10)(100,"graphql-query-info",10)(101,"graphql-query-info",10)(102,"graphql-query-info",10)(103,"graphql-query-info",10)(104,"graphql-query-info",10)(105,"graphql-query-info",10),a()),i&2&&(s(94),p("graphql",n.token()),s(),p("graphql",n.refreshToken()),s(),p("graphql",n.saveReadingHistory()),s(),p("graphql",n.deleteReadingHistory()),s(),p("graphql",n.saveFollowedComics()),s(),p("graphql",n.deleteFollowedComics()),s(),p("graphql",n.saveFollowedStaff()),s(),p("graphql",n.deleteFollowedStaff()),s(),p("graphql",n.saveComicList()),s(),p("graphql",n.deleteComicList()),s(),p("graphql",n.saveComicListEntry()),s(),p("graphql",n.deleteComicListEntry()))},dependencies:[Ht],styles:["#comic-docs[_ngcontent-%COMP%]{position:relative;color:rgb(var(--comic-text-color));background-color:rgb(var(--comic-medium))}.content[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;min-width:0;min-height:100vh}.nav[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;flex-direction:column;gap:.5rem;min-width:calc(var(--comic-side-bar-width) - 2rem);height:100vh;padding:1rem .5rem 2rem 1rem;background-color:rgb(var(--comic-dark));overflow-y:scroll;scrollbar-width:thin;scrollbar-color:transparent transparent}.nav-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.nav-section-header[_ngcontent-%COMP%]{font-size:1.1rem}.nav-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem}.nav-item[_ngcontent-%COMP%]{cursor:pointer;color:inherit;text-decoration:unset;padding:.25rem}.nav-item[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-medium))}.docs-section[_ngcontent-%COMP%]{padding:0rem 1rem}.section-header[_ngcontent-%COMP%], .sub-section-header[_ngcontent-%COMP%], .sub-section-header2[_ngcontent-%COMP%]{margin:unset;letter-spacing:.5px}.section-header[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700}.sub-section-header[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:700}.sub-section-header2[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.documentation[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;min-width:0;font-size:.9rem}.introduction[_ngcontent-%COMP%]{white-space:pre-line;font-family:inherit}.app-name[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px}.table-entries[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;align-items:start;font-size:.85rem;border-radius:4px;border:1px solid rgb(var(--comic-dark));overflow:hidden}.table-header[_ngcontent-%COMP%], .entry-name[_ngcontent-%COMP%], .entry-meaning[_ngcontent-%COMP%], .entry-extra[_ngcontent-%COMP%]{height:100%;padding:.5rem;background-color:rgba(var(--comic-dark),.45)}.table-header[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;background-color:rgb(var(--comic-dark))}.entry-name[_ngcontent-%COMP%]{border-right:1px solid rgb(var(--comic-light))}.entry-meaning[_ngcontent-%COMP%]{display:flex;flex-direction:column}.entry-note[_ngcontent-%COMP%]{color:rgb(var(--comic-warning));font-size:.8rem}.inline-example[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.url-example[_ngcontent-%COMP%], .code-example[_ngcontent-%COMP%]{padding:.5rem;margin:unset;border-radius:4px;background-color:rgb(var(--comic-dark));scrollbar-width:thin;scrollbar-color:rgb(var(--comic-dark)) rgb(var(--comic-light-ex));overflow:auto}.code-example[_ngcontent-%COMP%]{font-size:.75rem}.example-explaination[_ngcontent-%COMP%]{padding:.35rem 0rem}.argument[_ngcontent-%COMP%]{padding:.15rem .35rem;letter-spacing:.5px;border-radius:4px;background-color:rgba(var(--comic-dark),.8)}.note[_ngcontent-%COMP%]{font-size:.8rem}.warning[_ngcontent-%COMP%]{color:rgb(var(--comic-warning))}.tip[_ngcontent-%COMP%]{color:rgb(var(--manhwa-color))}.query-list[_ngcontent-%COMP%]{grid-template-columns:auto 1fr auto}.query-list[_ngcontent-%COMP%]   .entry-name[_ngcontent-%COMP%]:nth-child(2n), .query-list[_ngcontent-%COMP%]   .entry-meaning[_ngcontent-%COMP%]:nth-child(odd), .query-list[_ngcontent-%COMP%]   .entry-extra[_ngcontent-%COMP%]:nth-child(2n+2){background-color:rgba(var(--comic-dark),.85)}.query-list[_ngcontent-%COMP%]   .entry-meaning[_ngcontent-%COMP%], .oauth2-scopes[_ngcontent-%COMP%]   .entry-meaning[_ngcontent-%COMP%]{border-right:1px solid rgb(var(--comic-light))}.mutations[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}"]})}}return t})();var qi=(()=>{class t{constructor(){this.qlData=new lt}ngOnInit(){}comicData(){return{queryName:"comicData",description:"Returns all categories a comic may have. Categories are separated into demographics, comic type (which are common filters) and the remaining categories.",graphql:this.sortObj({query:"comicData: ComicData!",ComicData:this.qlData.types.comicData(),Category:this.qlData.types.category()})}}comic(){return{queryName:"comic",description:'Returns the comic with the matching <span class="argument">id</span>.',graphql:this.sortObj({query:"comic(id: ID!): Comic",Comic:this.qlData.types.comic(),ComicType:this.qlData.enums.comicType(),ComicStatus:this.qlData.enums.comicStatus(),ComicAlias:this.qlData.types.comicAlias(),ComicCover:this.qlData.types.comicCover(),Category:this.qlData.types.category(),ComicLink:this.qlData.types.comicLink(),ComicUpdate:this.qlData.types.comicUpdate(),ComicCharacter:this.qlData.types.comicCharacter(),Character:this.qlData.types.character(),Publisher:this.qlData.types.publisher(),ComicStaff:this.qlData.types.comicStaff(),Staff:this.qlData.types.staff(),ComicRelation:this.qlData.types.comicRelation(),ComicRecommendation:this.qlData.types.comicRecommendation(),ComicList:this.qlData.types.comicList(),ComicListEntry:this.qlData.types.comicListEntry()})}}comics(){return{queryName:"comics",description:`Returns a page which differs based on the given parameters.
If an <span class="argument">id</span> is given, returns a <b>ComicPage</b> containing only a single <b>Comic</b> which matches the given <span class="argument">id</span>.
If a <span class="argument">userId</span> is given and <span class="argument">history</span> is <span class="argument">false</span>, a <b>FollowedComicPage</b> is returned, which contains the user's <b>FollowedComics</b>.
If a <span class="argument">userId</span> is given and <span class="argument">history</span> is <span class="argument">true</span>, a <b>HistoryPage</b> is returned, which contains the user's reading history
If a <span class="argument">listId</span> is given, returns a <b>ListComicPage</b>, which contains the entries of the given <b>ComicList</b>.
If neither an <span class="argument">id</span>, <span class="argument">userId</span>, <span class="argument">listId</span> is given, returns a <b>ComicPage</b>, which contains a list of <b>Comics</b>. `,graphql:this.sortObj($(R({},this.comic().graphql),{query:"comics(q: ComicQP): Page",ComicQP:this.qlData.inputs.comicQP(),Page:this.qlData.interfaces.page(),PageInfo:this.qlData.types.pageInfo(),ComicPage:this.qlData.types.comicPage(),FollowedComicPage:this.qlData.types.followedComicPage(),HistoryPage:this.qlData.types.historyPage(),ListComicPage:this.qlData.types.listComicPage(),FollowedComic:this.qlData.types.followedComic(),HistoryEntry:this.qlData.types.historyEntry(),ComicListEntry:this.qlData.types.comicListEntry()}))}}comicUpdates(){return{queryName:"comicUpdates",description:"???",graphql:this.sortObj({query:"comicUpdates(q: ComicQP): ComicUpdatePage",ComicUpdatePage:this.qlData.types.comicUpdatePage(),ComicUpdate:this.qlData.types.comicUpdate()})}}user(){return{queryName:"user",description:'Returns the user with the matching <span class="argument">id</span> or <span class="argument">username</span>.',graphql:this.sortObj({query:"user(id: ID, username: String): ComicUser",ComicUser:this.qlData.types.comicUser(),HistoryEntry:this.qlData.types.historyEntry(),FollowedComic:this.qlData.types.followedComic(),FollowedStaff:this.qlData.types.followedStaff(),ComicList:this.qlData.types.comicList(),ComicListEntry:this.qlData.types.comicListEntry(),UserLogEntry:this.qlData.types.userLogEntry(),UserSettings:this.qlData.types.userSettings(),ComicPreferences:this.qlData.types.comicPreferences(),ComicMark:this.qlData.types.comicMark(),ComicFilterSettings:this.qlData.types.comicFilterSettings(),CategoryFilter:this.qlData.types.categoryFilter(),Loggables:this.qlData.unions.loggables()})}}comicList(){return{queryName:"comicList",description:'Returns the <b>ComicList</b> with the matching <span class="argument">id</span>.',graphql:this.sortObj({query:"comicList(listId: ID!): ComicList",ComicList:this.qlData.types.comicList(),ComicListEntry:this.qlData.types.comicListEntry()})}}comicLists(){return{queryName:"comicLists",description:'Returns all <b>ComicLists</b> belonging to the user with the matching <span class="argument">id</span>.',graphql:this.sortObj({query:"comicLists(userId: ID!): [ComicList]",ComicList:this.qlData.types.comicList(),ComicListEntry:this.qlData.types.comicListEntry()})}}sortObj(e){return Object.keys(e).sort((i,n)=>i.localeCompare(n)).reduce((i,n)=>(i[n]=e[n],i),{query:e.query})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["query-docs"]],decls:81,vars:7,consts:[[1,"docs-section","querys"],[1,"section-header"],[1,"query-list","table-entries"],[1,"table-header","entry-name"],[1,"table-header","entry-meaning"],[1,"table-header","entry-extra"],[1,"entry-name"],[1,"entry-meaning"],[1,"entry-desc"],[1,"entry-extra"],[3,"graphql"]],template:function(i,n){i&1&&(o(0,"section",0)(1,"h3",1),r(2,"Querys"),a(),o(3,"p"),r(4," This section will simply list each of the query requests available for developers and their return types. More information about the query's parameters and return type can be found under each query's documentation "),a(),o(5,"div",2)(6,"span",3),r(7,"Query"),a(),o(8,"div",4),r(9," Return Type "),a(),o(10,"div",5),r(11,"Extra"),a(),o(12,"span",6),r(13,"comicData"),a(),o(14,"div",7)(15,"span",8),r(16,"ComicData!"),a()(),g(17,"div",9),o(18,"span",6),r(19,"comic"),a(),o(20,"div",7)(21,"span",8),r(22,"Comic"),a()(),g(23,"div",9),o(24,"span",6),r(25,"comics"),a(),o(26,"div",7)(27,"span",8),r(28,"Page"),a()(),g(29,"div",9),o(30,"span",6),r(31,"comicUpdates"),a(),o(32,"div",7)(33,"span",8),r(34,"ComicUpdatePage"),a()(),g(35,"div",9),o(36,"span",6),r(37,"categories"),a(),o(38,"div",7)(39,"span",8),r(40,"[Category]!"),a()(),g(41,"div",9),o(42,"span",6),r(43,"demographics"),a(),o(44,"div",7)(45,"span",8),r(46,"[Demographics]!"),a()(),g(47,"div",9),o(48,"span",6),r(49,"comicTypes"),a(),o(50,"div",7)(51,"span",8),r(52,"[ComicType]!"),a()(),g(53,"div",9),o(54,"span",6),r(55,"user"),a(),o(56,"div",7)(57,"span",8),r(58,"ComicUser"),a()(),g(59,"div",9),o(60,"span",6),r(61,"comicList"),a(),o(62,"div",7)(63,"span",8),r(64,"ComicList!"),a()(),o(65,"div",9),r(66,"Access May Vary"),a(),o(67,"span",6),r(68,"comicLists"),a(),o(69,"div",7)(70,"span",8),r(71,"[ComicList]"),a()(),o(72,"div",9),r(73,"Access May Vary"),a()(),g(74,"graphql-query-info",10)(75,"graphql-query-info",10)(76,"graphql-query-info",10)(77,"graphql-query-info",10)(78,"graphql-query-info",10)(79,"graphql-query-info",10)(80,"graphql-query-info",10),a()),i&2&&(s(74),p("graphql",n.comicData()),s(),p("graphql",n.comic()),s(),p("graphql",n.comics()),s(),p("graphql",n.comicUpdates()),s(),p("graphql",n.user()),s(),p("graphql",n.comicList()),s(),p("graphql",n.comicLists()))},dependencies:[Ht],styles:["#comic-docs[_ngcontent-%COMP%]{position:relative;color:rgb(var(--comic-text-color));background-color:rgb(var(--comic-medium))}.content[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;min-width:0;min-height:100vh}.nav[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;flex-direction:column;gap:.5rem;min-width:calc(var(--comic-side-bar-width) - 2rem);height:100vh;padding:1rem .5rem 2rem 1rem;background-color:rgb(var(--comic-dark));overflow-y:scroll;scrollbar-width:thin;scrollbar-color:transparent transparent}.nav-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.nav-section-header[_ngcontent-%COMP%]{font-size:1.1rem}.nav-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem}.nav-item[_ngcontent-%COMP%]{cursor:pointer;color:inherit;text-decoration:unset;padding:.25rem}.nav-item[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-medium))}.docs-section[_ngcontent-%COMP%]{padding:0rem 1rem}.section-header[_ngcontent-%COMP%], .sub-section-header[_ngcontent-%COMP%], .sub-section-header2[_ngcontent-%COMP%]{margin:unset;letter-spacing:.5px}.section-header[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700}.sub-section-header[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:700}.sub-section-header2[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.documentation[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;min-width:0;font-size:.9rem}.introduction[_ngcontent-%COMP%]{white-space:pre-line;font-family:inherit}.app-name[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px}.table-entries[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;align-items:start;font-size:.85rem;border-radius:4px;border:1px solid rgb(var(--comic-dark));overflow:hidden}.table-header[_ngcontent-%COMP%], .entry-name[_ngcontent-%COMP%], .entry-meaning[_ngcontent-%COMP%], .entry-extra[_ngcontent-%COMP%]{height:100%;padding:.5rem;background-color:rgba(var(--comic-dark),.45)}.table-header[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;background-color:rgb(var(--comic-dark))}.entry-name[_ngcontent-%COMP%]{border-right:1px solid rgb(var(--comic-light))}.entry-meaning[_ngcontent-%COMP%]{display:flex;flex-direction:column}.entry-note[_ngcontent-%COMP%]{color:rgb(var(--comic-warning));font-size:.8rem}.inline-example[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.url-example[_ngcontent-%COMP%], .code-example[_ngcontent-%COMP%]{padding:.5rem;margin:unset;border-radius:4px;background-color:rgb(var(--comic-dark));scrollbar-width:thin;scrollbar-color:rgb(var(--comic-dark)) rgb(var(--comic-light-ex));overflow:auto}.code-example[_ngcontent-%COMP%]{font-size:.75rem}.example-explaination[_ngcontent-%COMP%]{padding:.35rem 0rem}.argument[_ngcontent-%COMP%]{padding:.15rem .35rem;letter-spacing:.5px;border-radius:4px;background-color:rgba(var(--comic-dark),.8)}.note[_ngcontent-%COMP%]{font-size:.8rem}.warning[_ngcontent-%COMP%]{color:rgb(var(--comic-warning))}.tip[_ngcontent-%COMP%]{color:rgb(var(--manhwa-color))}.query-list[_ngcontent-%COMP%]{grid-template-columns:auto 1fr auto}.query-list[_ngcontent-%COMP%]   .entry-name[_ngcontent-%COMP%]:nth-child(2n), .query-list[_ngcontent-%COMP%]   .entry-meaning[_ngcontent-%COMP%]:nth-child(odd), .query-list[_ngcontent-%COMP%]   .entry-extra[_ngcontent-%COMP%]:nth-child(2n+2){background-color:rgba(var(--comic-dark),.85)}.query-list[_ngcontent-%COMP%]   .entry-meaning[_ngcontent-%COMP%], .oauth2-scopes[_ngcontent-%COMP%]   .entry-meaning[_ngcontent-%COMP%]{border-right:1px solid rgb(var(--comic-light))}.querys[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}"]})}}return t})();var Ca=["querys"],_a=["mutations"];function va(t,c){t&1&&(o(0,"div",null,0),g(2,"query-docs"),a())}function ba(t,c){t&1&&(o(0,"div",null,1),g(2,"mutation-docs"),a())}function xa(t,c){t&1&&(o(0,"div",null,0),g(2,"query-docs"),a())}var Ui=(()=>{class t{constructor(){this.section=I(),this.querys=G.required("querys"),this.mutations=G.required("mutations")}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["graphql-docs"]],viewQuery:function(i,n){i&1&&ee(n.querys,Ca,5)(n.mutations,_a,5),i&2&&te(2)},inputs:{section:[1,"section"]},decls:6,vars:1,consts:[["querys",""],["mutations",""],[1,"docs-section","graphql"]],template:function(i,n){if(i&1&&(o(0,"section",2)(1,"h2"),r(2,"GraphQL"),a(),_(3,va,3,0,"div")(4,ba,3,0,"div")(5,xa,3,0,"div"),a()),i&2){let l;s(3),v((l=n.section())==="querys"?3:l==="mutations"?4:5)}},dependencies:[qi,zi],styles:["#comic-docs[_ngcontent-%COMP%]{position:relative;color:rgb(var(--comic-text-color));background-color:rgb(var(--comic-medium))}.content[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;min-width:0;min-height:100vh}.nav[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;flex-direction:column;gap:.5rem;min-width:calc(var(--comic-side-bar-width) - 2rem);height:100vh;padding:1rem .5rem 2rem 1rem;background-color:rgb(var(--comic-dark));overflow-y:scroll;scrollbar-width:thin;scrollbar-color:transparent transparent}.nav-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.nav-section-header[_ngcontent-%COMP%]{font-size:1.1rem}.nav-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem}.nav-item[_ngcontent-%COMP%]{cursor:pointer;color:inherit;text-decoration:unset;padding:.25rem}.nav-item[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-medium))}.docs-section[_ngcontent-%COMP%]{padding:0rem 1rem}.section-header[_ngcontent-%COMP%], .sub-section-header[_ngcontent-%COMP%], .sub-section-header2[_ngcontent-%COMP%]{margin:unset;letter-spacing:.5px}.section-header[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700}.sub-section-header[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:700}.sub-section-header2[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.documentation[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;min-width:0;font-size:.9rem}.introduction[_ngcontent-%COMP%]{white-space:pre-line;font-family:inherit}.app-name[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px}.table-entries[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;align-items:start;font-size:.85rem;border-radius:4px;border:1px solid rgb(var(--comic-dark));overflow:hidden}.table-header[_ngcontent-%COMP%], .entry-name[_ngcontent-%COMP%], .entry-meaning[_ngcontent-%COMP%], .entry-extra[_ngcontent-%COMP%]{height:100%;padding:.5rem;background-color:rgba(var(--comic-dark),.45)}.table-header[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;background-color:rgb(var(--comic-dark))}.entry-name[_ngcontent-%COMP%]{border-right:1px solid rgb(var(--comic-light))}.entry-meaning[_ngcontent-%COMP%]{display:flex;flex-direction:column}.entry-note[_ngcontent-%COMP%]{color:rgb(var(--comic-warning));font-size:.8rem}.inline-example[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.url-example[_ngcontent-%COMP%], .code-example[_ngcontent-%COMP%]{padding:.5rem;margin:unset;border-radius:4px;background-color:rgb(var(--comic-dark));scrollbar-width:thin;scrollbar-color:rgb(var(--comic-dark)) rgb(var(--comic-light-ex));overflow:auto}.code-example[_ngcontent-%COMP%]{font-size:.75rem}.example-explaination[_ngcontent-%COMP%]{padding:.35rem 0rem}.argument[_ngcontent-%COMP%]{padding:.15rem .35rem;letter-spacing:.5px;border-radius:4px;background-color:rgba(var(--comic-dark),.8)}.note[_ngcontent-%COMP%]{font-size:.8rem}.warning[_ngcontent-%COMP%]{color:rgb(var(--comic-warning))}.tip[_ngcontent-%COMP%]{color:rgb(var(--manhwa-color))}.query-list[_ngcontent-%COMP%]{grid-template-columns:auto 1fr auto}.query-list[_ngcontent-%COMP%]   .entry-name[_ngcontent-%COMP%]:nth-child(2n), .query-list[_ngcontent-%COMP%]   .entry-meaning[_ngcontent-%COMP%]:nth-child(odd), .query-list[_ngcontent-%COMP%]   .entry-extra[_ngcontent-%COMP%]:nth-child(2n+2){background-color:rgba(var(--comic-dark),.85)}.query-list[_ngcontent-%COMP%]   .entry-meaning[_ngcontent-%COMP%], .oauth2-scopes[_ngcontent-%COMP%]   .entry-meaning[_ngcontent-%COMP%]{border-right:1px solid rgb(var(--comic-light))}"]})}}return t})();var Hi=(()=>{class t{constructor(){}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["introduction-docs"]],decls:31,vars:0,consts:[[1,"docs-section","introduction"],[1,"docs-section","overview"],[1,"section-header"],[1,"docs-section","getting-started"],[1,"sub-section-header"]],template:function(i,n){i&1&&(b(0,"section",0)(1,"h2"),r(2,"Introduction"),x(),b(3,"section",1)(4,"h3",2),r(5,"Overview"),x(),b(6,"p"),r(7," ComicAPI allows developers to utilize its collection of data to build and enchance their applications. One could search and filter through comics getting access to each comic's information such as genres, themes, tags, creators, characters and so on. "),x(),b(8,"p"),r(9," To further improve not only developers' applications but also potentially the user's experience on one's application ComicAPI allows developers to use OAuth2 to authenticate users and access key data about the user, such as a list of comics the user is following. This allows applications to immediately recommend comics, to even first-time users, based on the user's interests. "),x(),b(10,"p"),r(11," To begin utilizing ComicAPI to their are several points to be aware of. "),x()(),b(12,"section",3)(13,"h3",2),r(14,"Getting Started"),x(),b(15,"p"),r(16," Before continuing it is recommended to read the Glossary before hand to better understand the terms used in this documentation. "),x(),b(17,"h4",4),r(18,"GraphQL"),x(),b(19,"p"),r(20," ComicAPI almost exclusively uses GraphQL for it API, and is therefore recommended developers have at least a basic understanding of GraphQL before attempting to use ComicAPI. "),be(21,"br"),r(22," The GraphQL endpoint is /graphql, and all requests to this endpoint should be POST. "),be(23,"br"),r(24," ComicAPI does provide additional endpoints strictly for OAuth2. "),x(),b(25,"h4",4),r(26,"Comic Client"),x(),b(27,"p"),r(28," In order to use ComicAPi developers must first register an account and within 'Settings > API > Applications'. This is required in order to obtain access tokens for authenticating with the API. After you create the client make so to copy and store the Client Secret and Token somewhere secure as they will only be shown once and will need to be reset, invalidating the previous secret, if lost. "),x(),b(29,"p"),r(30," Once you have your Client's Token you can begin making query requests to the /graphql endpoint. "),x()()())},styles:["#comic-docs[_ngcontent-%COMP%]{position:relative;color:rgb(var(--comic-text-color));background-color:rgb(var(--comic-medium))}.content[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;min-width:0;min-height:100vh}.nav[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;flex-direction:column;gap:.5rem;min-width:calc(var(--comic-side-bar-width) - 2rem);height:100vh;padding:1rem .5rem 2rem 1rem;background-color:rgb(var(--comic-dark));overflow-y:scroll;scrollbar-width:thin;scrollbar-color:transparent transparent}.nav-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.nav-section-header[_ngcontent-%COMP%]{font-size:1.1rem}.nav-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem}.nav-item[_ngcontent-%COMP%]{cursor:pointer;color:inherit;text-decoration:unset;padding:.25rem}.nav-item[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-medium))}.docs-section[_ngcontent-%COMP%]{padding:0rem 1rem}.section-header[_ngcontent-%COMP%], .sub-section-header[_ngcontent-%COMP%], .sub-section-header2[_ngcontent-%COMP%]{margin:unset;letter-spacing:.5px}.section-header[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700}.sub-section-header[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:700}.sub-section-header2[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.documentation[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;min-width:0;font-size:.9rem}.introduction[_ngcontent-%COMP%]{white-space:pre-line;font-family:inherit}.app-name[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px}.table-entries[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;align-items:start;font-size:.85rem;border-radius:4px;border:1px solid rgb(var(--comic-dark));overflow:hidden}.table-header[_ngcontent-%COMP%], .entry-name[_ngcontent-%COMP%], .entry-meaning[_ngcontent-%COMP%], .entry-extra[_ngcontent-%COMP%]{height:100%;padding:.5rem;background-color:rgba(var(--comic-dark),.45)}.table-header[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;background-color:rgb(var(--comic-dark))}.entry-name[_ngcontent-%COMP%]{border-right:1px solid rgb(var(--comic-light))}.entry-meaning[_ngcontent-%COMP%]{display:flex;flex-direction:column}.entry-note[_ngcontent-%COMP%]{color:rgb(var(--comic-warning));font-size:.8rem}.inline-example[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.url-example[_ngcontent-%COMP%], .code-example[_ngcontent-%COMP%]{padding:.5rem;margin:unset;border-radius:4px;background-color:rgb(var(--comic-dark));scrollbar-width:thin;scrollbar-color:rgb(var(--comic-dark)) rgb(var(--comic-light-ex));overflow:auto}.code-example[_ngcontent-%COMP%]{font-size:.75rem}.example-explaination[_ngcontent-%COMP%]{padding:.35rem 0rem}.argument[_ngcontent-%COMP%]{padding:.15rem .35rem;letter-spacing:.5px;border-radius:4px;background-color:rgba(var(--comic-dark),.8)}.note[_ngcontent-%COMP%]{font-size:.8rem}.warning[_ngcontent-%COMP%]{color:rgb(var(--comic-warning))}.tip[_ngcontent-%COMP%]{color:rgb(var(--manhwa-color))}"]})}}return t})();var $i=(()=>{class t{constructor(){this.app=j.COMIC_APP}ngOnInit(){}codeAuthorizationUrlExample(){return`${this.app.baseAuthorizationUrl}?response_type=code&client_id=YOUR_CLIENT_ID&scope=IDENTITY&scope=FOLLOWS_READ&scope=FOLLOWS_WRITE&redirect_uri=YOUR_REDIRECT_URI`}implicitAuthorizationUrlExample(){return`${this.app.baseAuthorizationUrl}?response_type=token&client_id=YOUR_CLIENT_ID&scope=IDENTITY&scope=FOLLOWS_READ&scope=FOLLOWS_WRITE&redirect_uri=YOUR_REDIRECT_URI`}implicitRedirectUrlExample(){return"https://fancysite.mywebsite#response_type=token&userId=888&accessToken=kWoasAdZ024r63KZhwMLKoxMuJQ6mqQUfaUvcmBJ0js&issuedAt=1770354811&accessExpiry=1770959611"}codeExchangeExample(){return`const API_ENDPOINT = ${this.app.apiUrl};
const CLIENT_ID = 777;
const CLIENT_SECRET = 'SUPER_SECRET_SSSSHHH';
const REDIRECT_URI = 'https://fancysite.mywebsite';

async function exchangeCode(code) {
    const data = {
        "code": code,
        "clientId": CLIENT_ID,
        "clientSecret": CLIENT_SECRET,
        "redirectUri": REDIRECT_URI,
    };

    const formEncodedParams = new URLSearchParams(data);

    return fetch(\`\${API_ENDPOINT}/oauth2/token\`,
        {
            'method': 'POST',
            'body': formEncodedParams,
            'headers': {
                'Content-Type': 'application/x-www-form-urlencoded'
            }
        }
    ).then(r => r.status === 200 ? r.json() : undefined);
}`}refreshExample(){return`const API_ENDPOINT = ${this.app.apiUrl};
const CLIENT_ID = 777;
const CLIENT_SECRET = 'SUPER_SECRET_SSSSHHH';
const REDIRECT_URI = 'https://fancysite.mywebsite';

async function exchangeCode(code) {
    const data = {
        "clientId": CLIENT_ID,
        "clientSecret": CLIENT_SECRET,
        "refreshToken": 'nXda5ApVqS0HXqjoWkwxC-4eIuxcYaVy9qkIP1MwFb0'
    };

    const formEncodedParams = new URLSearchParams(data);

    return fetch(\`\${API_ENDPOINT}/oauth2/refreshToken\`,
        {
            'method': 'POST',
            'body': formEncodedParams,
            'headers': {
                'Content-Type': 'application/x-www-form-urlencoded'
            }
        }
    ).then(r => r.status === 200 ? r.json() : undefined);
}`}codeResponseExample(){return JSON.stringify({userId:888,accessToken:"kWoasAdZ024r63KZhwMLKoxMuJQ6mqQUfaUvcmBJ0js",refreshToken:"nXda5ApVqS0HXqjoWkwxC-4eIuxcYaVy9qkIP1MwFb0",issuedAt:1770354811,accessExpiry:1770959611,refreshExpiry:1772946811},void 0,2)}userExample(){return`const API_ENDPOINT = ${this.app.apiUrl};
const COMICAPI_TOKEN = {...}; // ComicAPI Access Token

async function exchangeCode(code) {
    const formEncodedParams = new URLSearchParams(data);

    return fetch(\`\${API_ENDPOINT}/oauth2/@me\`,
        {
            "method": 'GET',
            "headers": {
                "Authorization": \`Bearer \${COMICAPI_TOKEN.accessToken}\`
            }
        }
    ).then(r => r.status === 200 ? r.json() : undefined);
}`}userResponseExample(){return JSON.stringify({user:{id:888,username:"cool_hooman",displayName:"Cool Hooman",authorities:["IDENTITY","COMIC_FOLLOWS_READ","COMIC_FOLLOWS_WRITE","LISTS_READ","LISTS_WRITE"]},application:{id:777,userId:888,clientName:"My Comic App",description:"An application that deals with comic related things",link:"https://fancysite.mywebsite"},expiry:1770959611},void 0,2)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["oauth2-docs"]],decls:265,vars:15,consts:[[1,"docs-section","oauth2"],[1,"section-header"],[1,"sub-section-header"],[1,"oauth2-scopes","table-entries"],[1,"table-header","entry-name"],[1,"table-header","entry-meaning"],[1,"table-header","entry-extra"],[1,"entry-name"],[1,"entry-meaning"],[1,"entry-desc"],[1,"entry-extra"],[1,"oauth2-urls","table-entries"],[1,"note","warning"],[1,"sub-section-header2"],[1,"inline-example"],[1,"url-example"],[1,"example-explaination"],[1,"argument"],[1,"code-example"],[1,"note","tip"]],template:function(i,n){i&1&&(b(0,"section",0)(1,"h2",1),r(2,"OAuth2"),x(),b(3,"p"),r(4," ComicAPI allows developer applications to user OAuth2 to authenticate users access relevant information and/or perform requests on their behalf. "),be(5,"br"),r(6,` One such example is a user's list of followed comics. With OAuth2 and proper permissions an application is able to access a user's follows as well as add / remove / modify them, keeping their list "synchronized" between ComicAPI and the application. `),x(),b(7,"section")(8,"h3",2),r(9,"Requirements"),x(),b(10,"div"),r(11," Before using OAuth2 with ComicAPI developers will need several things. "),b(12,"ul")(13,"li"),r(14,"The client ID"),x(),b(15,"li"),r(16,"The client secret"),x(),b(17,"li"),r(18,"Setup a redirect uri and add it to the client's list of redirects"),x(),b(19,"li"),r(20,"Knowledge of ComicAPI's scopes (listed below)"),x()()()(),b(21,"section")(22,"h3",2),r(23,"Scopes"),x(),b(24,"div",3)(25,"span",4),r(26,"Scope"),x(),b(27,"div",5),r(28," Permission "),x(),b(29,"div",6),r(30,"Enum"),x(),b(31,"span",7),r(32,"identity"),x(),b(33,"div",8)(34,"span",9),r(35,"View basic information about the user (id, username, display name)"),x()(),b(36,"div",10),r(37,"IDENTITY"),x(),b(38,"span",7),r(39,"history.read"),x(),b(40,"div",8)(41,"span",9),r(42,"Access the user's reading history"),x()(),b(43,"div",10),r(44,"HISTORY_READ"),x(),b(45,"span",7),r(46,"history.write"),x(),b(47,"div",8)(48,"span",9),r(49,"Modify the user's reading history"),x()(),b(50,"div",10),r(51,"HISTORY_WRITE"),x(),b(52,"span",7),r(53,"follows.read"),x(),b(54,"div",8)(55,"span",9),r(56,"Access the user's reading follows"),x()(),b(57,"div",10),r(58,"FOLLOWS_READ"),x(),b(59,"span",7),r(60,"follows.write"),x(),b(61,"div",8)(62,"span",9),r(63,"Modify the user's reading follows"),x()(),b(64,"div",10),r(65,"FOLLOWS_WRITE"),x(),b(66,"span",7),r(67,"lists.read"),x(),b(68,"div",8)(69,"span",9),r(70,"Access the user's reading lists"),x()(),b(71,"div",10),r(72,"LISTS_READ"),x(),b(73,"span",7),r(74,"lists.write"),x(),b(75,"div",8)(76,"span",9),r(77,"Modify the user's reading lists"),x()(),b(78,"div",10),r(79,"LISTS_WRITE"),x(),b(80,"span",7),r(81,"settings.read"),x(),b(82,"div",8)(83,"span",9),r(84,"Access the user's settings (limited access)"),x()(),b(85,"div",10),r(86,"SETTINGS_READ"),x()()(),b(87,"section")(88,"h3",2),r(89,"OAuth2 URLs"),x(),b(90,"div",11)(91,"span",4),r(92,"URL"),x(),b(93,"div",5),r(94," Purpose "),x(),b(95,"span",7),r(96),x(),b(97,"div",8)(98,"span",9),r(99,"Base Authorization URL"),x()(),b(100,"span",7),r(101),x(),b(102,"div",8)(103,"span",9),r(104,"Token Exchange"),x()(),b(105,"span",7),r(106),x(),b(107,"div",8)(108,"span",9),r(109,"Refresh Token"),x()(),b(110,"span",7),r(111),x(),b(112,"div",8)(113,"span",9),r(114,"Token Revocation"),x()(),b(115,"span",7),r(116),x(),b(117,"div",8)(118,"span",9),r(119,"Current Authorization Information"),x()()()(),b(120,"section")(121,"h3",2),r(122,"Authorization Code Grant"),x(),b(123,"p"),r(124," This section will walkthrough obtaining a user's access token using Authorization Code exchange. This exchange involves obtaining a authorization code from ComicAPI for the user that must then be exchanged to get the user's access token. "),be(125,"br"),b(126,"span",12),r(127," This type of OAuth2 requires the client secret, which should never be exposed to users. Requests that require the secret should be performed on the back-end, safe from exposure. "),x()(),b(128,"section")(129,"h4",13),r(130,"Authorization URL Example"),x(),b(131,"div",14)(132,"pre",15),r(133),x(),b(134,"span",16),r(135,"Replace the query parameters values in the URL with your "),b(136,"span",17),r(137,"client id"),x(),r(138,", "),b(139,"span",17),r(140,"redirect uri"),x(),r(141,", and the "),b(142,"span",17),r(143,"scopes"),x(),r(144," required by your application. "),be(145,"br"),b(146,"span",12),r(147,"Please note, the "),b(148,"span",17),r(149,"redirect uri"),x(),r(150," must be urlencoded."),x()(),b(151,"span",16),r(152,"Once a user navigates to this URL they will be prompted to authorize your application, giving it permissions to the listed "),b(153,"span",17),r(154,"scopes"),x(),r(155," After successfully authorizing, the user will be sent to your "),b(156,"span",17),r(157,"redirect uri"),x(),r(158," along with the generated code which will be sent as a query parameter. The url after being redirect will be akin to this "),x(),b(159,"pre",15),r(160,"https://fancysite.mywebsite?response_type=code&code=i2pqFq8uZizQlqvOWCF9G6d2D8"),x()(),b(161,"span"),r(162," Now to exchange the code for the user's access token. This is done by performing a "),b(163,"b"),r(164,"POST"),x(),r(165," request to "),b(166,"span",17),r(167),x(),r(168," with the following data in the body of the request. "),x(),b(169,"ul")(170,"li")(171,"span",17),r(172,"code"),x(),r(173," - the code attached in the query parameters"),x(),b(174,"li")(175,"span",17),r(176,"clientSecret"),x(),r(177," - your client's secret"),x(),b(178,"li")(179,"span",17),r(180,"redirectUri"),x(),r(181," - the redirect uri used in the authorization url"),x(),b(182,"li")(183,"span",17),r(184,"codeVerifier"),x(),r(185," - only send if a challenge was used in the authorzation url"),x()(),b(186,"pre",18),r(187),x()(),b(188,"section")(189,"h4",13),r(190,"Access Token Response"),x(),b(191,"pre",18),r(192),x(),b(193,"p"),r(194," Once you've obtained the user's access token you can now access the resources of the user and perform request on their behalf based on what scopes were listed in the authorization url. "),be(195,"br"),b(196,"span",12),r(197,"Warning: User privacy settings may affect the ability to access or modify resources even if the required scope is present."),x()()(),b(198,"section")(199,"h4",13),r(200,"Refreshing Access Tokens"),x(),b(201,"span"),r(202,"Refreshing an access token invalidates the previous tokens and returns a new ones."),x(),b(203,"pre",18),r(204),x()()(),b(205,"section")(206,"h3",2),r(207,"Implicit Grant"),x(),b(208,"p"),r(209," Differing from Authorization Code Grant, Implicit Grant directly recieves the access token response in the url fragment when the user is redirected to the presented uri. "),x(),b(210,"section")(211,"h4",13),r(212,"Authorization URL Example"),x(),b(213,"div",14)(214,"pre",15),r(215),x(),b(216,"span",16),r(217,"The only difference is response_type=token instead of code. Replace the query parameters values in the URL with your "),b(218,"span",17),r(219,"client id"),x(),r(220,", "),b(221,"span",17),r(222,"redirect uri"),x(),r(223,", and the "),b(224,"span",17),r(225,"scopes"),x(),r(226," required by your application. "),be(227,"br"),b(228,"span",12),r(229,"Please note, the "),b(230,"span",17),r(231,"redirect uri"),x(),r(232," must be urlencoded."),x()(),b(233,"span",16),r(234,"With implicit grant, after authorizing the application the user once again be redirect to your "),b(235,"span",17),r(236,"redirect uri"),x(),r(237,", but with the token attached to the url as a fragment instead of a code, such as this "),x(),b(238,"pre",15),r(239),x(),b(240,"span",12),r(241,"Please note, the token is in the url "),b(242,"b"),r(243,"fragment"),x(),r(244," NOT the parameters"),x()(),b(245,"p"),r(246," With this you have the user's access token available and can begin making requests on their behalf. However, unlike Authorization Code Grant the access token does not include a refresh token and has a much shorter lifespan before it expires, requiring the user to re-authorize everytime it does. "),x()()(),b(247,"section")(248,"h3",2),r(249,"Get Authorization Information"),x(),b(250,"h4",13),r(251,"Authorization URL Example"),x(),b(252,"div",14)(253,"span"),r(254,"To get current authorization information make a GET request to "),b(255,"span",17),r(256),x()(),b(257,"pre",15),r(258),x(),b(259,"span",16),r(260,"This will return the current user, the application, and the permitted scopes"),x(),b(261,"pre",15),r(262),x(),b(263,"span",19),r(264,"Note: One can use this as a means to authenticate requests sent to your application"),x()()()()),i&2&&(s(96),C(n.app.baseAuthorizationUrl),s(5),K("",n.app.apiUrl,"/oauth2/token"),s(5),K("",n.app.apiUrl,"/oauth2/token/refresh"),s(5),K("",n.app.apiUrl,"/oauth2/token/revoke"),s(5),K("",n.app.apiUrl,"/oauth2/@me"),s(17),C(n.codeAuthorizationUrlExample()),s(34),K("",n.app.apiUrl,"/oauth2/token"),s(20),C(n.codeExchangeExample()),s(5),C(n.codeResponseExample()),s(12),C(n.refreshExample()),s(11),C(n.implicitAuthorizationUrlExample()),s(24),C(n.implicitRedirectUrlExample()),s(17),K("",n.app.apiUrl,"/oauth2/@me"),s(2),C(n.userExample()),s(4),C(n.userResponseExample()))},styles:["#comic-docs[_ngcontent-%COMP%]{position:relative;color:rgb(var(--comic-text-color));background-color:rgb(var(--comic-medium))}.content[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;min-width:0;min-height:100vh}.nav[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;flex-direction:column;gap:.5rem;min-width:calc(var(--comic-side-bar-width) - 2rem);height:100vh;padding:1rem .5rem 2rem 1rem;background-color:rgb(var(--comic-dark));overflow-y:scroll;scrollbar-width:thin;scrollbar-color:transparent transparent}.nav-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.nav-section-header[_ngcontent-%COMP%]{font-size:1.1rem}.nav-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem}.nav-item[_ngcontent-%COMP%]{cursor:pointer;color:inherit;text-decoration:unset;padding:.25rem}.nav-item[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-medium))}.docs-section[_ngcontent-%COMP%]{padding:0rem 1rem}.section-header[_ngcontent-%COMP%], .sub-section-header[_ngcontent-%COMP%], .sub-section-header2[_ngcontent-%COMP%]{margin:unset;letter-spacing:.5px}.section-header[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700}.sub-section-header[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:700}.sub-section-header2[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.documentation[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;min-width:0;font-size:.9rem}.introduction[_ngcontent-%COMP%]{white-space:pre-line;font-family:inherit}.app-name[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px}.table-entries[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;align-items:start;font-size:.85rem;border-radius:4px;border:1px solid rgb(var(--comic-dark));overflow:hidden}.table-header[_ngcontent-%COMP%], .entry-name[_ngcontent-%COMP%], .entry-meaning[_ngcontent-%COMP%], .entry-extra[_ngcontent-%COMP%]{height:100%;padding:.5rem;background-color:rgba(var(--comic-dark),.45)}.table-header[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;background-color:rgb(var(--comic-dark))}.entry-name[_ngcontent-%COMP%]{border-right:1px solid rgb(var(--comic-light))}.entry-meaning[_ngcontent-%COMP%]{display:flex;flex-direction:column}.entry-note[_ngcontent-%COMP%]{color:rgb(var(--comic-warning));font-size:.8rem}.inline-example[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.url-example[_ngcontent-%COMP%], .code-example[_ngcontent-%COMP%]{padding:.5rem;margin:unset;border-radius:4px;background-color:rgb(var(--comic-dark));scrollbar-width:thin;scrollbar-color:rgb(var(--comic-dark)) rgb(var(--comic-light-ex));overflow:auto}.code-example[_ngcontent-%COMP%]{font-size:.75rem}.example-explaination[_ngcontent-%COMP%]{padding:.35rem 0rem}.argument[_ngcontent-%COMP%]{padding:.15rem .35rem;letter-spacing:.5px;border-radius:4px;background-color:rgba(var(--comic-dark),.8)}.note[_ngcontent-%COMP%]{font-size:.8rem}.warning[_ngcontent-%COMP%]{color:rgb(var(--comic-warning))}.tip[_ngcontent-%COMP%]{color:rgb(var(--manhwa-color))}.oauth2[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.75rem}.oauth2[_ngcontent-%COMP%]   section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1.5rem}.oauth2[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.oauth2-scopes[_ngcontent-%COMP%]{grid-template-columns:auto 1fr auto}.oauth2-scopes[_ngcontent-%COMP%]   .entry-name[_ngcontent-%COMP%]:nth-child(2n), .oauth2-scopes[_ngcontent-%COMP%]   .entry-meaning[_ngcontent-%COMP%]:nth-child(odd), .oauth2-scopes[_ngcontent-%COMP%]   .entry-extra[_ngcontent-%COMP%]:nth-child(2n+2){background-color:rgba(var(--comic-dark),.85)}.oauth2-scopes[_ngcontent-%COMP%]   .entry-meaning[_ngcontent-%COMP%]{border-right:1px solid rgb(var(--comic-light))}.oauth2-urls[_ngcontent-%COMP%]   .entry-name[_ngcontent-%COMP%]:nth-child(4n-1), .oauth2-urls[_ngcontent-%COMP%]   .entry-meaning[_ngcontent-%COMP%]:nth-child(4n){background-color:rgba(var(--comic-dark),.85)}"]})}}return t})();var Je=()=>["."];function ya(t,c){t&1&&g(0,"introduction-docs")}function wa(t,c){if(t&1&&g(0,"graphql-docs",14),t&2){let e=d();p("section",e.section())}}function Ma(t,c){t&1&&g(0,"oauth2-docs")}function Pa(t,c){t&1&&g(0,"glossary")}function Sa(t,c){t&1&&g(0,"introduction-docs")}var ji=(()=>{class t{constructor(){this.route=y($e),this.fragment=je(this.route.fragment),this.group=N(()=>this.docsGroup()),this.section=N(()=>this.docsSection())}ngOnInit(){}docsGroup(){return this.fragment()?.split("&")[0]??"introduction"}docsSection(){return this.fragment()?.split("&")[1]?.split("=")[1]??""}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic-docs"]],decls:33,vars:17,consts:[["id","comic-docs"],[1,"content"],[1,"nav"],[1,"nav-section"],["fragment","introduction",1,"nav-section-header","nav-item",3,"routerLink"],[1,"nav-list"],["fragment","introduction&section=overview",1,"nav-item",3,"routerLink"],["fragment","introduction&section=getting-started",1,"nav-item",3,"routerLink"],["fragment","graphql",1,"nav-section-header","nav-item",3,"routerLink"],["fragment","graphql&section=querys",1,"nav-item",3,"routerLink"],["fragment","graphql&section=mutations",1,"nav-item",3,"routerLink"],["fragment","oauth2",1,"nav-section-header","nav-item",3,"routerLink"],["fragment","glossary",1,"nav-item","nav-section-header",3,"routerLink"],[1,"documentation"],[3,"section"]],template:function(i,n){if(i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"a",4),r(5,"Introduction"),a(),o(6,"div",5)(7,"a",6),r(8,"Overview"),a(),o(9,"a",7),r(10,"Getting Started"),a()()(),o(11,"div",3)(12,"a",8),r(13,"GraphQL"),a(),o(14,"div",5)(15,"a",9),r(16,"Querys"),a(),o(17,"a",10),r(18,"Mutations"),a()()(),o(19,"div",3)(20,"a",11),r(21,"OAuth2"),a()(),o(22,"div",3)(23,"a",12),r(24,"Glossary"),a()()(),o(25,"div",13)(26,"h1"),r(27,"ComicAPI Developer Documentation"),a(),_(28,ya,1,0,"introduction-docs")(29,wa,1,1,"graphql-docs",14)(30,Ma,1,0,"oauth2-docs")(31,Pa,1,0,"glossary")(32,Sa,1,0,"introduction-docs"),a()()()),i&2){let l;s(4),p("routerLink",ae(9,Je)),s(3),p("routerLink",ae(10,Je)),s(2),p("routerLink",ae(11,Je)),s(3),p("routerLink",ae(12,Je)),s(3),p("routerLink",ae(13,Je)),s(2),p("routerLink",ae(14,Je)),s(3),p("routerLink",ae(15,Je)),s(3),p("routerLink",ae(16,Je)),s(5),v((l=n.group())==="introduction"?28:l==="graphql"?29:l==="oauth2"?30:l==="glossary"?31:32)}},dependencies:[X,ie,$i,Hi,Ui,Ri],styles:["#comic-docs[_ngcontent-%COMP%]{position:relative;color:rgb(var(--comic-text-color));background-color:rgb(var(--comic-medium))}.content[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;min-width:0;min-height:100vh}.nav[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;flex-direction:column;gap:.5rem;min-width:calc(var(--comic-side-bar-width) - 2rem);height:100vh;padding:1rem .5rem 2rem 1rem;background-color:rgb(var(--comic-dark));overflow-y:scroll;scrollbar-width:thin;scrollbar-color:transparent transparent}.nav-section[_ngcontent-%COMP%]{display:flex;flex-direction:column}.nav-section-header[_ngcontent-%COMP%]{font-size:1.1rem}.nav-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.1rem}.nav-item[_ngcontent-%COMP%]{cursor:pointer;color:inherit;text-decoration:unset;padding:.25rem;border-radius:4px}.nav-item[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-medium))}.nav-list[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{padding:.25rem 1.25rem}.docs-section[_ngcontent-%COMP%]{padding:0rem 1rem}.section-header[_ngcontent-%COMP%], .sub-section-header[_ngcontent-%COMP%], .sub-section-header2[_ngcontent-%COMP%]{margin:unset;letter-spacing:.5px}.section-header[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700}.sub-section-header[_ngcontent-%COMP%]{font-size:1.15rem;font-weight:700}.sub-section-header2[_ngcontent-%COMP%]{font-size:1rem;font-weight:700}.documentation[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;min-width:0;font-size:.9rem}.app-name[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px}.note[_ngcontent-%COMP%]{font-size:.8rem}.warning[_ngcontent-%COMP%]{color:rgb(var(--comic-warning))}"]})}}return t})();var dt=(()=>{class t{constructor(e){this.elementRef=e,this.doOnView=I.required(),this.observer=new IntersectionObserver(i=>{i[0].isIntersecting&&this.doOnView()()},{root:null,threshold:1}),this.observer.observe(e.nativeElement)}ngOnDestroy(){this.observer.disconnect()}static{this.\u0275fac=function(i){return new(i||t)(J(Z))}}static{this.\u0275dir=He({type:t,selectors:[["","scroll-anchor",""]],inputs:{doOnView:[1,"doOnView"]}})}}return t})();var Oa=["comicList"],et=(()=>{class t{constructor(){this.session=y(B),this.comics=I.required(),this.comicList=G("comicList"),this.hidePrev=E(!0),this.hideNext=E(!0)}ngOnInit(){}checkListEnds(){let e=this.comicList()?.nativeElement;e&&(this.hidePrev.set(e.scrollLeft<=20),this.hideNext.set(e.scrollWidth-(e.scrollLeft+e.offsetWidth)<=20))}onScroll(e){this.checkListEnds()}scrollPrev(){let e=this.comicList()?.nativeElement;if(e){let i=e.scrollLeft;e.scrollBy({left:-this.scrollAmount,behavior:"smooth"})}}scrollNext(){let e=this.comicList()?.nativeElement;if(e){let i=e.scrollLeft;e.scrollBy({left:this.scrollAmount,behavior:"smooth"})}}get scrollAmount(){return Math.min(this.comicWidth*3+this.gapWidth*3,document.body.clientWidth-this.comicWidth/2)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["ng-component"]],viewQuery:function(i,n){i&1&&ee(n.comicList,Oa,5),i&2&&te()},inputs:{comics:[1,"comics"]},decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})();var ka=t=>["/comic/users",t];function Ea(t,c){if(t&1&&(o(0,"div",6),g(1,"comic",12),a()),t&2){let e=c.$implicit,i=d(2);s(),p("comic",e)("display",i.comicDisplay)}}function Ta(t,c){t&1&&(o(0,"div",7),r(1,"You have no Followed Comics"),a())}function Ia(t,c){if(t&1&&(o(0,"button",8),r(1," View More "),a()),t&2){let e=d(2);p("routerLink",le(1,ka,e.session.user.value().username))}}function Fa(t,c){if(t&1){let e=P();o(0,"div",3)(1,"div",5,0),u("scroll",function(n){h(e);let l=d();return f(l.onScroll(n))}),S(3,Ea,2,2,"div",6,U,!1,Ta,2,0,"div",7),_(6,Ia,2,3,"button",8),a(),o(7,"div",9),u("click",function(){h(e);let n=d();return f(n.scrollPrev())}),o(8,"mat-icon",10),r(9,"chevron_left"),a()(),o(10,"div",11),u("click",function(){h(e);let n=d();return f(n.scrollNext())}),o(11,"mat-icon",10),r(12,"chevron_right"),a()()()}if(t&2){let e=d();s(),Ae(e.comicsClass()),s(2),O(e.comics()),s(3),v(e.comics().length>0?6:-1),s(),p("hidden",e.hidePrev()),s(3),p("hidden",e.hideNext())}}function Da(t,c){t&1&&(o(0,"div",4),r(1,"Log in to follow and track Comic updates"),a())}var Bi=(()=>{class t extends et{constructor(){super(),this.comicWidth=177,this.gapWidth=12,this.comicDisplay={position:"below",overlay:!0,lang:!1,chapter:!0,group:!0,readingInfo:!0,when:!0,width:`${this.comicWidth}px`},this.comicsClass=T(()=>this.determineComicListClass()),Ye(()=>{let e=this.comics();this.checkListEnds()})}determineComicListClass(){return!this.hidePrev()&&!this.hideNext()?"comics comics-fade-lr":this.hidePrev()?this.hideNext()?"comics":"comics comics-fade-r":"comics comics-fade-l"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["home-following"]],features:[q],decls:6,vars:1,consts:[["comicList",""],[1,"home-follow-list","comic-list"],[1,"list-header"],[1,"list-container"],[1,"no-login"],[3,"scroll"],[1,"comic"],[1,"no-follows"],["type","button","aria-label","to followed comics","fragment","following",1,"view-more",3,"routerLink"],[1,"list-prev",3,"click","hidden"],[1,"list-icon"],[1,"list-next",3,"click","hidden"],[3,"comic","display"]],template:function(i,n){i&1&&(o(0,"div",1)(1,"div",2)(2,"h4"),r(3,"Following"),a()(),_(4,Fa,13,6,"div",3)(5,Da,2,0,"div",4),a()),i&2&&(s(4),v(n.session.isAnonymous()?5:4))},dependencies:[V,Se,X,ie],styles:[".comic-list[_ngcontent-%COMP%]{--comic-list-comic-width: 175px;position:relative;display:flex;flex-direction:column;border-radius:4px;overflow:hidden}.list-header[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;letter-spacing:1px;margin:.5rem var(--comic-home-content-margin);border-bottom:2px solid rgba(120,50,50,1)}.list-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0rem}.header-dot[_ngcontent-%COMP%]{padding:.5rem;margin:.25rem;border-radius:4px;background-color:#783232}.list-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;padding:1rem 0rem;min-width:0}.list-prev[_ngcontent-%COMP%], .list-next[_ngcontent-%COMP%]{flex-shrink:0;position:absolute;top:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;border-radius:4px;opacity:.7}.list-prev[_ngcontent-%COMP%]{left:0}.list-next[_ngcontent-%COMP%]{right:0}.list-prev[_ngcontent-%COMP%]:hover, .list-next[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1;background-color:rgba(var(--comic-dark),.7);-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px)}.list-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;font-size:3rem;color:rgba(var(--comic-dark),.7);border-radius:100%;background-color:rgba(var(--comic-text-color),.7)}.comics[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;gap:.75rem;margin:0rem var(--comic-home-content-margin);overflow-x:scroll}.comics[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.comic[_ngcontent-%COMP%]{max-width:var(--comic-list-comic-width)}.view-more[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:var(--comic-list-comic-width);padding:0rem;font-size:1.5rem;color:rgba(var(--comic-text-color),.7);border:none;border-radius:var(--comic-border-radius);background-color:rgba(var(--comic-medium),.5)}.view-more[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(var(--comic-medium),1)}.view-more[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-medium),.35)}.no-follows[_ngcontent-%COMP%], .no-login[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;flex-flow:row nowrap;padding:1rem 0rem;margin:auto;font-size:1.4rem;text-align:center}.home-follow-list[_ngcontent-%COMP%]{--follow-comic-width: 177px}.comic-list[_ngcontent-%COMP%]{background-color:rgb(var(--comic-dark));box-shadow:0 6px 12px 1px #00000080}.list-header[_ngcontent-%COMP%]{border:none}.list-icon[_ngcontent-%COMP%]{font-size:3rem;width:3rem;height:3rem;color:rgba(var(--comic-dark),.7);border-radius:100%;background-color:rgba(var(--comic-text-color),.7)}.comics-fade-lr[_ngcontent-%COMP%]{-webkit-mask-image:linear-gradient(to right,transparent,black 3%,black 97%,transparent);mask-image:linear-gradient(to right,transparent,black 3%,black 97%,transparent)}.comics-fade-l[_ngcontent-%COMP%]{-webkit-mask-image:linear-gradient(to right,transparent,black 3%);mask-image:linear-gradient(to right,transparent,black 3%)}.comics-fade-r[_ngcontent-%COMP%]{-webkit-mask-image:linear-gradient(to left,transparent,black 3%);mask-image:linear-gradient(to left,transparent,black 3%)}.comic[_ngcontent-%COMP%]{max-width:var(--follow-comic-width)}"]})}}return t})();var Aa=t=>["/comic/users",t];function La(t,c){if(t&1&&(o(0,"div",7),g(1,"comic",13),a()),t&2){let e=c.$implicit,i=d(2);s(),p("comic",e)("display",i.comicDisplay)}}function Na(t,c){t&1&&(o(0,"div",8),r(1,"You have no Reading History"),a())}function Ra(t,c){if(t&1&&(o(0,"button",9),r(1,"View More"),a()),t&2){let e=d(2);p("routerLink",le(1,Aa,e.session.user.value().username))}}function Va(t,c){if(t&1){let e=P();o(0,"div",4)(1,"div",6,0),u("scroll",function(n){h(e);let l=d();return f(l.onScroll(n))}),S(3,La,2,2,"div",7,U,!1,Na,2,0,"div",8),_(6,Ra,2,3,"button",9),a(),o(7,"div",10),u("click",function(){h(e);let n=d();return f(n.scrollPrev())}),o(8,"mat-icon",11),r(9,"chevron_left"),a()(),o(10,"div",12),u("click",function(){h(e);let n=d();return f(n.scrollNext())}),o(11,"mat-icon",11),r(12,"chevron_right"),a()()()}if(t&2){let e=d();s(3),O(e.comics()),s(3),v(e.comics().length>0?6:-1),s(),p("hidden",e.hidePrev()),s(3),p("hidden",e.hideNext())}}function za(t,c){t&1&&(o(0,"div",5),r(1,"Log in to track Reading History"),a())}var Wi=(()=>{class t extends et{constructor(){super(),this.comicWidth=126,this.gapWidth=12,this.comicDisplay={position:"none",overlay:!0,lang:!1,chapter:!0,overlayTitle:!0,group:!0,when:!0,width:`${this.comicWidth}px`,height:`${Math.ceil(this.comicWidth*(Math.round(4/3*10)/10))}px`,remove:!0},Ye(()=>{let e=this.comics();this.checkListEnds()})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["home-history"]],features:[q],decls:7,vars:1,consts:[["comicList",""],[1,"home-history-list","comic-list"],[1,"list-header"],[1,"header-dot"],[1,"list-container"],[1,"no-login"],[1,"comics",3,"scroll"],[1,"comic"],[1,"no-follows"],["type","button","aria-label","to followed comics","fragment","following",1,"view-more",3,"routerLink"],[1,"list-prev",3,"click","hidden"],[1,"list-icon"],[1,"list-next",3,"click","hidden"],[1,"inner-comic",3,"comic","display"]],template:function(i,n){i&1&&(o(0,"div",1)(1,"div",2),g(2,"div",3),o(3,"h4"),r(4,"Reading History"),a()(),_(5,Va,13,4,"div",4)(6,za,2,0,"div",5),a()),i&2&&(s(5),v(n.session.isAnonymous()?6:5))},dependencies:[V,X,ie,Se],styles:[".comic-list[_ngcontent-%COMP%]{--comic-list-comic-width: 175px;position:relative;display:flex;flex-direction:column;border-radius:4px;overflow:hidden}.list-header[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;letter-spacing:1px;margin:.5rem var(--comic-home-content-margin);border-bottom:2px solid rgba(120,50,50,1)}.list-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0rem}.header-dot[_ngcontent-%COMP%]{padding:.5rem;margin:.25rem;border-radius:4px;background-color:#783232}.list-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;padding:1rem 0rem;min-width:0}.list-prev[_ngcontent-%COMP%], .list-next[_ngcontent-%COMP%]{flex-shrink:0;position:absolute;top:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;border-radius:4px;opacity:.7}.list-prev[_ngcontent-%COMP%]{left:0}.list-next[_ngcontent-%COMP%]{right:0}.list-prev[_ngcontent-%COMP%]:hover, .list-next[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1;background-color:rgba(var(--comic-dark),.7);-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px)}.list-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;font-size:3rem;color:rgba(var(--comic-dark),.7);border-radius:100%;background-color:rgba(var(--comic-text-color),.7)}.comics[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;gap:.75rem;margin:0rem var(--comic-home-content-margin);overflow-x:scroll}.comics[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.comic[_ngcontent-%COMP%]{max-width:var(--comic-list-comic-width)}.view-more[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:var(--comic-list-comic-width);padding:0rem;font-size:1.5rem;color:rgba(var(--comic-text-color),.7);border:none;border-radius:var(--comic-border-radius);background-color:rgba(var(--comic-medium),.5)}.view-more[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(var(--comic-medium),1)}.view-more[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-medium),.35)}.no-follows[_ngcontent-%COMP%], .no-login[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;flex-flow:row nowrap;padding:1rem 0rem;margin:auto;font-size:1.4rem;text-align:center}.home-history-list[_ngcontent-%COMP%]{--history-comic-width: 126px}.comic[_ngcontent-%COMP%]{position:relative;flex-shrink:0;width:var(--history-comic-width);max-width:unset;aspect-ratio:3/4}.view-more[_ngcontent-%COMP%]{min-width:var(--history-comic-width);background-color:rgba(var(--comic-dark),.5)}.view-more[_ngcontent-%COMP%]:hover{background-color:rgba(var(--comic-dark),1)}.view-more[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-dark),.35)}"]})}}return t})();function qa(t,c){if(t&1&&(o(0,"div",7),g(1,"comic",12),a()),t&2){let e=c.$implicit,i=d(2);s(),p("comic",e)("display",i.comicDisplay)}}function Ua(t,c){if(t&1){let e=P();o(0,"div",4)(1,"div",6,0),u("scroll",function(n){h(e);let l=d();return f(l.onScroll(n))}),S(3,qa,2,2,"div",7,U),o(5,"button",8),r(6,"View More"),a()(),o(7,"div",9),u("click",function(){h(e);let n=d();return f(n.scrollPrev())}),o(8,"mat-icon",10),r(9,"chevron_left"),a()(),o(10,"div",11),u("click",function(){h(e);let n=d();return f(n.scrollNext())}),o(11,"mat-icon",10),r(12,"chevron_right"),a()()()}if(t&2){let e=d();s(3),O(e.comics()),s(4),p("hidden",e.hidePrev()),s(3),p("hidden",e.hideNext())}}function Ha(t,c){t&1&&(o(0,"div",5),r(1,"Log in to follow and track Comic updates"),a())}var Gi=(()=>{class t extends et{constructor(){super(),this.comicWidth=177,this.gapWidth=12,this.comicsClass=T(()=>this.determineComicListClass()),this.comicDisplay={position:"none",overlay:!0,overlayTitle:!0,lang:!1,chapter:!0,description:!0,status:!0,width:`${this.comicWidth}px`,height:`${Math.ceil(this.comicWidth*(4/3))}px`,add:!0,followed:!0},Ye(()=>{let e=this.comics();this.checkListEnds()})}determineComicListClass(){return!this.hidePrev()&&!this.hideNext()?"comics comics-fade-lr":this.hidePrev()?this.hideNext()?"comics":"comics comics-fade-r":"comics comics-fade-l"}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["home-popular"]],features:[q],decls:7,vars:1,consts:[["comicList",""],[1,"home-popular-list","comic-list"],[1,"list-header"],[1,"header-dot"],[1,"list-container"],[1,"no-login"],[1,"comics",3,"scroll"],[1,"comic"],["type","button","aria-label","to followed comics",1,"view-more"],[1,"list-prev",3,"click","hidden"],[1,"list-icon"],[1,"list-next",3,"click","hidden"],["comic-hover-info","",1,"inner-comic",3,"comic","display"]],template:function(i,n){i&1&&(o(0,"div",1)(1,"div",2),g(2,"div",3),o(3,"h4"),r(4,"Popular Comics"),a()(),_(5,Ua,13,2,"div",4)(6,Ha,2,0,"div",5),a()),i&2&&(s(5),v(5))},dependencies:[V,Se],styles:[".comic-list[_ngcontent-%COMP%]{--comic-list-comic-width: 175px;position:relative;display:flex;flex-direction:column;border-radius:4px;overflow:hidden}.list-header[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;letter-spacing:1px;margin:.5rem var(--comic-home-content-margin);border-bottom:2px solid rgba(120,50,50,1)}.list-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0rem}.header-dot[_ngcontent-%COMP%]{padding:.5rem;margin:.25rem;border-radius:4px;background-color:#783232}.list-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;padding:1rem 0rem;min-width:0}.list-prev[_ngcontent-%COMP%], .list-next[_ngcontent-%COMP%]{flex-shrink:0;position:absolute;top:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;border-radius:4px;opacity:.7}.list-prev[_ngcontent-%COMP%]{left:0}.list-next[_ngcontent-%COMP%]{right:0}.list-prev[_ngcontent-%COMP%]:hover, .list-next[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1;background-color:rgba(var(--comic-dark),.7);-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px)}.list-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;font-size:3rem;color:rgba(var(--comic-dark),.7);border-radius:100%;background-color:rgba(var(--comic-text-color),.7)}.comics[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;gap:.75rem;margin:0rem var(--comic-home-content-margin);overflow-x:scroll}.comics[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.comic[_ngcontent-%COMP%]{max-width:var(--comic-list-comic-width)}.view-more[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:var(--comic-list-comic-width);padding:0rem;font-size:1.5rem;color:rgba(var(--comic-text-color),.7);border:none;border-radius:var(--comic-border-radius);background-color:rgba(var(--comic-medium),.5)}.view-more[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(var(--comic-medium),1)}.view-more[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-medium),.35)}.no-follows[_ngcontent-%COMP%], .no-login[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;flex-flow:row nowrap;padding:1rem 0rem;margin:auto;font-size:1.4rem;text-align:center}.home-popular-list[_ngcontent-%COMP%]{--popular-comic-width: 177px}.comic[_ngcontent-%COMP%]{position:relative;flex-shrink:0;width:var(--popular-comic-width);max-width:unset;aspect-ratio:3/4}.inner-comic[_ngcontent-%COMP%]{position:absolute}.view-more[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:var(--popular-comic-width);padding:0rem;font-size:1.5rem;color:rgba(var(--comic-text-color),.7);border:none;border-radius:4px;background-color:rgba(var(--comic-dark),.5)}.view-more[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(var(--comic-dark),1)}.view-more[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-dark),.35)}"]})}}return t})();function $a(t,c){if(t&1&&g(0,"div",10),t&2){let e=c.$implicit;me("background-color",e)}}function ja(t,c){if(t&1&&(o(0,"div",11)(1,"div",12),r(2),a(),o(3,"div",13),r(4),a(),o(5,"div",14),r(6),a()()),t&2){let e=c.$implicit,i=d(2);s(2),K("Chapter ",e.chapter),s(2),C(e.language),s(2),C(i.when(e.updated))}}function Ba(t,c){if(t&1&&(o(0,"div",9),S(1,ja,7,3,"div",11,U),a()),t&2){let e,i=d();s(),O((e=i.comic().updates)==null?null:e.slice(0,3))}}var Qi=(()=>{class t{constructor(){this.session=y(B),this.comic=I.required(),this.coverDisplay=I(),this.hoverDisplay=I(),this.comicType=T(()=>this.comic().type.toLowerCase()),this.marks=T(()=>j.comicMarks(this.comic(),this.session.user.value())),this.when=j.when}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["update-comic"]],inputs:{comic:[1,"comic"],coverDisplay:[1,"coverDisplay"],hoverDisplay:[1,"hoverDisplay"]},decls:13,vars:6,consts:[[1,"comic"],[3,"comic","display"],[1,"info"],[1,"type"],[1,"comic-type"],[3,"className"],[1,"comic-marks"],[1,"comic-mark",3,"background-color"],[1,"title"],[1,"updates"],[1,"comic-mark"],[1,"update"],[1,"chapter"],[1,"lang"],[1,"when"]],template:function(i,n){i&1&&(o(0,"div",0),g(1,"comic",1),o(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),r(6),a()(),o(7,"div",6),S(8,$a,1,2,"div",7,U),a()(),o(10,"div",8),r(11),a(),_(12,Ba,3,0,"div",9),a()()),i&2&&(s(),p("comic",n.comic())("display",n.coverDisplay()),s(4),p("className",n.comicType()),s(),C(n.comicType()),s(2),O(n.marks()),s(3),C(n.comic().title),s(),v(n.comic().updates?12:-1))},dependencies:[Se,X],styles:[".comic[_ngcontent-%COMP%]{--update-comic-width: 130px;position:relative;flex-shrink:0;display:flex;flex-flow:row nowrap;width:100%;max-width:unset;border:1px solid rgba(var(--comic-comic-border-color),.5);border-radius:4px;background-color:rgba(var(--comic-dark),1);box-shadow:0 3px 8px 1px #28000040}.comic-cover-container[_ngcontent-%COMP%]{position:relative;width:var(--update-comic-width);border-radius:3px;background-color:rgba(var(--comic-dark),.8);overflow:hidden}.comic-cover[_ngcontent-%COMP%]{width:100%;aspect-ratio:3/4;object-fit:fill}.info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.5rem;padding:.75rem;overflow:hidden}.type[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;gap:.25rem}.comic-type[_ngcontent-%COMP%]{flex-shrink:0;font-size:.8rem;color:#f08080;text-transform:capitalize}.manga[_ngcontent-%COMP%]{color:rgb(var(--manga-color))}.manhwa[_ngcontent-%COMP%]{color:rgb(var(--manhwa-color))}.manhua[_ngcontent-%COMP%]{color:rgb(var(--manhua-color))}.other[_ngcontent-%COMP%]{color:rgb(var(--other-color))}.comic-marks[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.5rem}.comic-mark[_ngcontent-%COMP%]{padding:.35rem;color:red;border-radius:100%;background-color:red}.title[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.25px;text-wrap:nowrap;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.updates[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:.25rem;width:100%;margin-top:auto}.update[_ngcontent-%COMP%]{display:grid;grid-template-columns:40% auto auto;justify-content:space-between;gap:.5rem;padding:.25rem .5rem;font-size:.7rem;border-radius:4px;background-color:rgba(var(--comic-medium),1)}.update[_ngcontent-%COMP%]:first-child{box-shadow:0 0 5px 1px #ffffff40}.update[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(var(--comic-medium),.5)}.update[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-medium),.25)}.lang[_ngcontent-%COMP%]{text-transform:uppercase}.inner-comic[_ngcontent-%COMP%]{position:absolute}"],changeDetection:0})}}return t})();var Yi=(t,c)=>c.id;function Wa(t,c){if(t&1){let e=P();o(0,"button",10),u("click",function(){let n=h(e).$implicit,l=d();return f(l.changeFilter(n.id))}),r(1),a()}if(t&2){let e=c.$implicit,i=d();Ae("type-filter "+e.name.toLowerCase()),k("active",i.isActive(e.id)),s(),C(e.name)}}function Ga(t,c){if(t&1&&g(0,"update-comic",9),t&2){let e=c.$implicit,i=d();p("comic",e)("coverDisplay",i.coverDisplay)("hoverDisplay",i.hoverDisplay)}}var Ki=(()=>{class t extends et{constructor(){super(),this.comicWidth=132,this.gapWidth=12,this.comicHeight=this.comicWidth*.75+2,this.activeFilter=se(void 0),this.availFilters=I([]),this.coverDisplay={position:"none",add:!0,followed:!0,width:`${this.comicWidth}px`},this.hoverDisplay={lang:!1,chapter:!0,description:!0,status:!0}}isActive(e){return this.activeFilter()==e}changeFilter(e){this.activeFilter.set(e)}id(e,i){return i.id}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["home-updates"]],inputs:{activeFilter:[1,"activeFilter"],availFilters:[1,"availFilters"]},outputs:{activeFilter:"activeFilterChange"},features:[q],decls:15,vars:2,consts:[["comicList",""],[1,"home-update-list","comic-list"],[1,"list-header"],[1,"header-dot"],[1,"type-filters"],[1,"type-filter","all",3,"click"],[3,"class","active"],[1,"list-container"],[1,"comics"],[3,"comic","coverDisplay","hoverDisplay"],[3,"click"]],template:function(i,n){if(i&1){let l=P();o(0,"div",1)(1,"div",2),g(2,"div",3),o(3,"h4"),r(4,"Latest Updates"),a(),o(5,"div",4)(6,"button",5),u("click",function(){return h(l),f(n.changeFilter(void 0))}),r(7,"All"),a(),S(8,Wa,2,5,"button",6,Yi),a()(),o(10,"div",7)(11,"div",8,0),S(13,Ga,1,3,"update-comic",9,Yi),a()()()}i&2&&(s(6),k("active",n.isActive(void 0)),s(2),O(n.availFilters()),s(5),O(n.comics()))},dependencies:[X,Qi],styles:[".comic-list[_ngcontent-%COMP%]{--comic-list-comic-width: 175px;position:relative;display:flex;flex-direction:column;border-radius:4px;overflow:hidden}.list-header[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:700;letter-spacing:1px;margin:.5rem var(--comic-home-content-margin);border-bottom:2px solid rgba(120,50,50,1)}.list-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0rem}.header-dot[_ngcontent-%COMP%]{padding:.5rem;margin:.25rem;border-radius:4px;background-color:#783232}.list-container[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;padding:1rem 0rem;min-width:0}.list-prev[_ngcontent-%COMP%], .list-next[_ngcontent-%COMP%]{flex-shrink:0;position:absolute;top:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;border-radius:4px;opacity:.7}.list-prev[_ngcontent-%COMP%]{left:0}.list-next[_ngcontent-%COMP%]{right:0}.list-prev[_ngcontent-%COMP%]:hover, .list-next[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:1;background-color:rgba(var(--comic-dark),.7);-webkit-backdrop-filter:blur(1px);backdrop-filter:blur(1px)}.list-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;font-size:3rem;color:rgba(var(--comic-dark),.7);border-radius:100%;background-color:rgba(var(--comic-text-color),.7)}.comics[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;gap:.75rem;margin:0rem var(--comic-home-content-margin);overflow-x:scroll}.comics[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.comic[_ngcontent-%COMP%]{max-width:var(--comic-list-comic-width)}.view-more[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:var(--comic-list-comic-width);padding:0rem;font-size:1.5rem;color:rgba(var(--comic-text-color),.7);border:none;border-radius:var(--comic-border-radius);background-color:rgba(var(--comic-medium),.5)}.view-more[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(var(--comic-medium),1)}.view-more[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-medium),.35)}.no-follows[_ngcontent-%COMP%], .no-login[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;flex-flow:row nowrap;padding:1rem 0rem;margin:auto;font-size:1.4rem;text-align:center}.home-update-list[_ngcontent-%COMP%]{--update-comic-width: 132px}.type-filters[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.25rem;padding:0rem 1rem;margin-left:auto}.type-filter[_ngcontent-%COMP%]{color:rgba(var(--comic-text-color),.75);border:none;background-color:transparent}.type-filter.active[_ngcontent-%COMP%]{font-weight:700}.all[_ngcontent-%COMP%]:hover, .manga[_ngcontent-%COMP%]:hover, .manhwa[_ngcontent-%COMP%]:hover, .manhua[_ngcontent-%COMP%]:hover, .other[_ngcontent-%COMP%]:hover{cursor:pointer}.all.active[_ngcontent-%COMP%], .all[_ngcontent-%COMP%]:hover{color:rgba(var(--comic-text-color),1)}.manga.active[_ngcontent-%COMP%], .manga[_ngcontent-%COMP%]:hover{color:rgb(var(--manga-color))}.manhwa.active[_ngcontent-%COMP%], .manhwa[_ngcontent-%COMP%]:hover{color:rgb(var(--manhwa-color))}.manhua.active[_ngcontent-%COMP%], .manhua[_ngcontent-%COMP%]:hover{color:rgb(var(--manhua-color))}.other.active[_ngcontent-%COMP%], .other[_ngcontent-%COMP%]:hover{color:rgb(var(--other-color))}.comics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));overflow:unset}"],changeDetection:0})}}return t})();var Xi=(()=>{class t{constructor(){this.api=y(zt),this.comicService=y(Ce),this.storage=y(fe),this.session=y(B),this.comicTypeFilters=N(()=>this.storage.comicData().comicTypes),this.updateComicType=E(void 0),this.following=pe({params:()=>({user:this.session.user.value()}),stream:({params:e})=>this.initFollowing(e.user),defaultValue:[]}),this.popular=se([]),this.updatesRx=pe({params:()=>({user:this.session.user.value(),type:this.updateComicType(),cursor:this.cursor()}),stream:({params:e})=>this.loadUpates(e.user,e.type,e.cursor),defaultValue:[]}),this.updates=E([]),this.lastResult=E(void 0),this.cursor=N(()=>{let e=this.session.user.value(),i=this.updateComicType()}),this.throttler=new li}ngOnInit(){}getMoreUpdates(){var e=this.lastResult();this.updatesRx.isLoading()||!e?.pageInfo.more||this.throttler.throttle(()=>{let i=this.lastResult();i&&i.pageInfo.more&&this.cursor.set(i.pageInfo.next)},j.SCROLL_LOAD_DELAY)}initFollowing(e){if(e.id==0||this.session.user.isLoading())return W([]);let i=e.settings.comicPreferences.languages;return this.comicService.searchComics({userId:e.id,chapterLanguages:i,followStates:["READING"],sort:"CHAPTER_UPDATE"}).pipe(Y(n=>n.results.map(l=>l.comic)))}loadUpates(e,i,n){var l;if(this.session.user.isLoading())l=W(this.lastResult()?.results??[]);else{let m=e.settings.comicPreferences.title,w=e.settings.comicPreferences.languages,F=e.settings.comicFilterSettings.enableMatureContent,z=e.settings.comicPreferences.displayFollows,de={excludedCategories:e.settings.comicFilterSettings.categoryFilters.filter(re=>re.enabled&&re.type!="TYPE").map(re=>re.categoryId),matureContent:F,chapterLanguages:w,includeFollowing:z,sort:"CHAPTER_UPDATE"};i&&(de.categories=[i]),n&&(de.cursor=n),l=this.comicService.searchComics(de).pipe(_e(re=>this.lastResult.set(re)),Y(re=>re.results))}return l.pipe(Y(m=>n?j.appendComics(this.updates()??[],m):m),_e(m=>this.updates.set(m)))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic-home"]],inputs:{popular:[1,"popular"]},outputs:{popular:"popularChange"},decls:6,vars:7,consts:[[1,"comic-home"],[3,"comics"],[3,"activeFilterChange","comics","activeFilter","availFilters"],["scroll-anchor","",1,"scroll-anchor",3,"doOnView"]],template:function(i,n){i&1&&(o(0,"div",0),g(1,"home-following",1)(2,"home-history",1)(3,"home-popular",1),o(4,"home-updates",2),Re("activeFilterChange",function(m){return Ne(n.updateComicType,m)||(n.updateComicType=m),m}),a(),g(5,"div",3),a()),i&2&&(s(),p("comics",n.following.value()),s(),p("comics",n.popular()),s(),p("comics",n.popular()),s(),p("comics",n.updates()),Le("activeFilter",n.updateComicType),p("availFilters",n.comicTypeFilters()),s(),p("doOnView",n.getMoreUpdates.bind(n)))},dependencies:[Ki,Gi,Bi,Wi,dt],styles:[".comic-home[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:2.5rem}.scroll-anchor[_ngcontent-%COMP%]{position:absolute;bottom:15rem;width:100%;height:2rem}"]})}}return t})();var xe=(()=>{class t{constructor(){this.popups$=E([]),this.popupIdGen=0}showPopup(e,i){let n={id:this.popupIdGen++,type:e,data:i};this.popups$.update(l=>[...l,n])}showAuthPopup(e){let i={id:this.popupIdGen++,type:"AUTH",data:e};this.popups$.update(n=>[...n,i])}showConfirmPopup(e){let i={id:this.popupIdGen++,type:"CONFIRM",data:e};this.popups$.update(n=>[...n,i])}showFilterPopup(e){e.closable=!0;let i={id:this.popupIdGen++,type:"FILTER",data:e};this.popups$.update(n=>[...n,i])}closePopup(e){this.popups$.update(i=>i.filter(n=>n.id!=e))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var $t=(()=>{class t{constructor(){this.session=y(B),this.popups=y(xe),this.user$=N(()=>this.session.user.value()),this.isAnonymous=this.session.isAnonymous}ngOnInit(){}showLogin(){let e={authType:"LOGIN",closable:!0,onClose:i=>{}};this.popups.showAuthPopup(e)}showLogout(){let e={authType:"LOGOUT",closable:!0,onClose:i=>{}};this.popups.showAuthPopup(e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})();var Cn=0;function Qa(){return Cn}function tt(t,c){return(...e)=>{try{return Cn=c,t(...e)}finally{Cn=0}}}function Ya(t){return!t}function Zi(t){return t}function Ve(t){return Array.isArray(t)}function mt(t){return(typeof t=="object"||typeof t=="function")&&t!=null}var ot=Symbol(),Xt=Symbol(),St=class{predicates;fns=[];constructor(c){this.predicates=c}push(c){this.fns.push(Ji(this.predicates,c))}mergeIn(c){let e=this.predicates?c.fns.map(i=>Ji(this.predicates,i)):c.fns;this.fns.push(...e)}},Bt=class extends St{get defaultValue(){return!1}compute(c){return this.fns.some(e=>{let i=e(c);return i&&i!==Xt})}},pt=class t extends St{ignore;static ignoreNull(c){return new t(c,e=>e===null)}constructor(c,e){super(c),this.ignore=e}get defaultValue(){return[]}compute(c){return this.fns.reduce((e,i)=>{let n=i(c);return n===void 0||n===Xt?e:Ve(n)?[...e,...this.ignore?n.filter(l=>!this.ignore(l)):n]:this.ignore&&this.ignore(n)?e:[...e,n]},[])}},_n=class extends pt{constructor(c){super(c,void 0)}},vn=class extends St{key;get defaultValue(){return this.key.reducer.getInitial()}constructor(c,e){super(c),this.key=e}compute(c){if(this.fns.length===0)return this.key.reducer.getInitial();let e=this.key.reducer.getInitial();for(let i=0;i<this.fns.length;i++){let n=this.fns[i](c);n!==Xt&&(e=this.key.reducer.reduce(e,n))}return e}};function Ji(t,c){return t.length===0?c:e=>{for(let i of t){let n=e.stateOf(i.path),l=ve(n.structure.pathKeys).length-i.depth;for(let m=0;m<l;m++)n=n.structure.parent;if(!i.fn(n.context))return Xt}return c(e)}}var gt=class{predicates;hidden;disabledReasons;readonly;syncErrors;syncTreeErrors;asyncErrors;metadata=new Map;constructor(c){this.predicates=c,this.hidden=new Bt(c),this.disabledReasons=new _n(c),this.readonly=new Bt(c),this.syncErrors=pt.ignoreNull(c),this.syncTreeErrors=pt.ignoreNull(c),this.asyncErrors=pt.ignoreNull(c)}hasMetadata(c){return this.metadata.has(c)}getMetadataKeys(){return this.metadata.keys()}getMetadata(c){return this.metadata.has(c)||this.metadata.set(c,new vn(this.predicates,c)),this.metadata.get(c)}mergeIn(c){this.hidden.mergeIn(c.hidden),this.disabledReasons.mergeIn(c.disabledReasons),this.readonly.mergeIn(c.readonly),this.syncErrors.mergeIn(c.syncErrors),this.syncTreeErrors.mergeIn(c.syncTreeErrors),this.asyncErrors.mergeIn(c.asyncErrors);for(let e of c.getMetadataKeys()){let i=c.metadata.get(e);this.getMetadata(e).mergeIn(i)}}},Wt=class{depth;constructor(c){this.depth=c}build(){return new Gt(this,[],0)}},ut=class t extends Wt{constructor(c){super(c)}current;all=[];addHiddenRule(c){this.getCurrent().addHiddenRule(c)}addDisabledReasonRule(c){this.getCurrent().addDisabledReasonRule(c)}addReadonlyRule(c){this.getCurrent().addReadonlyRule(c)}addSyncErrorRule(c){this.getCurrent().addSyncErrorRule(c)}addSyncTreeErrorRule(c){this.getCurrent().addSyncTreeErrorRule(c)}addAsyncErrorRule(c){this.getCurrent().addAsyncErrorRule(c)}addMetadataRule(c,e){this.getCurrent().addMetadataRule(c,e)}getChild(c){if(c===ot){let e=this.getCurrent().children;e.size>(e.has(ot)?1:0)&&(this.current=void 0)}return this.getCurrent().getChild(c)}hasLogic(c){return this===c?!0:this.all.some(({builder:e})=>e.hasLogic(c))}mergeIn(c,e){e?this.all.push({builder:c,predicate:{fn:tt(e.fn,this.depth),path:e.path}}):this.all.push({builder:c}),this.current=void 0}getCurrent(){return this.current===void 0&&(this.current=new Ot(this.depth),this.all.push({builder:this.current})),this.current}static newRoot(){return new t(0)}},Ot=class extends Wt{logic=new gt([]);children=new Map;constructor(c){super(c)}addHiddenRule(c){this.logic.hidden.push(tt(c,this.depth))}addDisabledReasonRule(c){this.logic.disabledReasons.push(tt(c,this.depth))}addReadonlyRule(c){this.logic.readonly.push(tt(c,this.depth))}addSyncErrorRule(c){this.logic.syncErrors.push(tt(c,this.depth))}addSyncTreeErrorRule(c){this.logic.syncTreeErrors.push(tt(c,this.depth))}addAsyncErrorRule(c){this.logic.asyncErrors.push(tt(c,this.depth))}addMetadataRule(c,e){this.logic.getMetadata(c).push(tt(e,this.depth))}getChild(c){return this.children.has(c)||this.children.set(c,new ut(this.depth+1)),this.children.get(c)}hasLogic(c){return this===c}},Gt=class t{builder;predicates;depth;logic;constructor(c,e,i){this.builder=c,this.predicates=e,this.depth=i,this.logic=c?Ka(c,e,i):new gt([])}getChild(c){let e=this.builder?eo(this.builder,c):[];if(e.length===0)return new t(void 0,[],this.depth+1);if(e.length===1){let{builder:i,predicates:n}=e[0];return new t(i,[...this.predicates,...n.map(l=>xn(l,this.depth))],this.depth+1)}else{let i=e.map(({builder:n,predicates:l})=>new t(n,[...this.predicates,...l.map(m=>xn(m,this.depth))],this.depth+1));return new bn(i)}}hasLogic(c){return this.builder?.hasLogic(c)??!1}},bn=class t{all;logic;constructor(c){this.all=c,this.logic=new gt([]);for(let e of c)this.logic.mergeIn(e.logic)}getChild(c){return new t(this.all.flatMap(e=>e.getChild(c)))}hasLogic(c){return this.all.some(e=>e.hasLogic(c))}};function eo(t,c){if(t instanceof ut)return t.all.flatMap(({builder:e,predicate:i})=>{let n=eo(e,c);return i?n.map(({builder:l,predicates:m})=>({builder:l,predicates:[...m,i]})):n});if(t instanceof Ot)return[...c!==ot&&t.children.has(ot)?[{builder:t.getChild(ot),predicates:[]}]:[],...t.children.has(c)?[{builder:t.getChild(c),predicates:[]}]:[]];throw new we(1909,!1)}function Ka(t,c,e){let i=new gt(c);if(t instanceof ut){let n=t.all.map(({builder:l,predicate:m})=>new Gt(l,m?[...c,xn(m,e)]:c,e));for(let l of n)i.mergeIn(l.logic)}else if(t instanceof Ot)i.mergeIn(t.logic);else throw new we(1909,!1);return i}function xn(t,c){return $(R({},t),{depth:c})}var to=Symbol("PATH"),ze=class t{keys;parent;keyInParent;root;children=new Map;fieldPathProxy=new Proxy(this,Xa);logicBuilder;constructor(c,e,i,n){this.keys=c,this.parent=i,this.keyInParent=n,this.root=e??this,i||(this.logicBuilder=ut.newRoot())}get builder(){return this.logicBuilder?this.logicBuilder:this.parent.builder.getChild(this.keyInParent)}getChild(c){return this.children.has(c)||this.children.set(c,new t([...this.keys,c],this.root,this,c)),this.children.get(c)}mergeIn(c,e){let i=c.compile();this.builder.mergeIn(i.builder,e)}static unwrapFieldPath(c){return c[to]}static newRoot(){return new t([],void 0,void 0,void 0)}},Xa={get(t,c){return c===to?t:t.getChild(c).fieldPathProxy}},jt,Pt=new Map,Qt=class t{schemaFn;constructor(c){this.schemaFn=c}compile(){if(Pt.has(this))return Pt.get(this);let c=ze.newRoot();Pt.set(this,c);let e=jt;try{jt=c,this.schemaFn(c.fieldPathProxy)}finally{jt=e}return c}static create(c){return c instanceof t?c:new t(c)}static rootCompile(c){try{return Pt.clear(),c===void 0?ze.newRoot():c instanceof t?c.compile():new t(c).compile()}finally{Pt.clear()}}};function Za(t){return t instanceof Qt||typeof t=="function"}function Tt(t){if(jt!==ze.unwrapFieldPath(t).root)throw new we(1908,!1)}function ht(t,c,e){return Tt(t),ze.unwrapFieldPath(t).builder.addMetadataRule(c,e),c}var Qe={list(){return{reduce:(t,c)=>c===void 0?t:[...t,c],getInitial:()=>[]}},min(){return{reduce:(t,c)=>t===void 0||c===void 0?t??c:Math.min(t,c),getInitial:()=>{}}},max(){return{reduce:(t,c)=>t===void 0||c===void 0?t??c:Math.max(t,c),getInitial:()=>{}}},or(){return{reduce:(t,c)=>t||c,getInitial:()=>!1}},and(){return{reduce:(t,c)=>t&&c,getInitial:()=>!0}},override:Ja};function Ja(t){return{reduce:(c,e)=>e,getInitial:()=>t?.()}}var kt=class{reducer;create;brand;constructor(c,e){this.reducer=c,this.create=e}};function We(t){return new kt(t??Qe.override())}function no(t,c){return new kt(c??Qe.override(),t)}var In=We(Qe.or()),io=We(Qe.max()),oo=We(Qe.min()),Fn=We(Qe.max()),ro=We(Qe.min()),ao=We(Qe.list());function ec(t){return t.errors().length>0?"invalid":t.pending()?"unknown":"valid"}var yn=class{node;constructor(c){this.node=c}rawSyncTreeErrors=T(()=>this.shouldSkipValidation()?[]:[...this.node.logicNode.logic.syncTreeErrors.compute(this.node.context),...this.node.structure.parent?.validationState.rawSyncTreeErrors()??[]]);syncErrors=T(()=>this.shouldSkipValidation()?[]:[...this.node.logicNode.logic.syncErrors.compute(this.node.context),...this.syncTreeErrors(),...tc(this.node.submitState.serverErrors())]);syncValid=T(()=>this.shouldSkipValidation()?!0:this.node.structure.reduceChildren(this.syncErrors().length===0,(c,e)=>e&&c.validationState.syncValid(),Ya));syncTreeErrors=T(()=>this.rawSyncTreeErrors().filter(c=>c.fieldTree===this.node.fieldProxy));rawAsyncErrors=T(()=>this.shouldSkipValidation()?[]:[...this.node.logicNode.logic.asyncErrors.compute(this.node.context),...this.node.structure.parent?.validationState.rawAsyncErrors()??[]]);asyncErrors=T(()=>this.shouldSkipValidation()?[]:this.rawAsyncErrors().filter(c=>c==="pending"||c.fieldTree===this.node.fieldProxy));errors=T(()=>[...this.syncErrors(),...this.asyncErrors().filter(c=>c!=="pending")]);errorSummary=T(()=>this.node.structure.reduceChildren(this.errors(),(c,e)=>[...e,...c.errorSummary()]));pending=T(()=>this.node.structure.reduceChildren(this.asyncErrors().includes("pending"),(c,e)=>e||c.validationState.asyncErrors().includes("pending")));status=T(()=>{if(this.shouldSkipValidation())return"valid";let c=ec(this);return this.node.structure.reduceChildren(c,(e,i)=>i==="invalid"||e.validationState.status()==="invalid"?"invalid":i==="unknown"||e.validationState.status()==="unknown"?"unknown":"valid",e=>e==="invalid")});valid=T(()=>this.status()==="valid");invalid=T(()=>this.status()==="invalid");shouldSkipValidation=T(()=>this.node.hidden()||this.node.disabled()||this.node.readonly())};function tc(t){return t===void 0?[]:Ve(t)?t:[t]}function Zt(t,c){if(Ve(t))for(let e of t)e.fieldTree??=c;else t&&(t.fieldTree??=c);return t}var Yt=We(),wn=class{node;cache=new WeakMap;constructor(c){this.node=c}resolve(c){if(!this.cache.has(c)){let e=T(()=>{let i=ze.unwrapFieldPath(c),n=this.node,l=Qa();for(;l>0||!n.structure.logic.hasLogic(i.root.builder);)if(l--,n=n.structure.parent,n===void 0)throw new we(1900,!1);for(let m of i.keys)if(n=n.structure.getChild(m),n===void 0)throw new we(1901,!1);return n.fieldProxy});this.cache.set(c,e)}return this.cache.get(c)()}get fieldTree(){return this.node.fieldProxy}get state(){return this.node}get value(){return this.node.structure.value}get key(){return this.node.structure.keyInParent}get pathKeys(){return this.node.structure.pathKeys}index=T(()=>{let c=this.key();if(!Ve(ve(this.node.structure.parent.value)))throw new we(1906,!1);return Number(c)});fieldTreeOf=c=>this.resolve(c);stateOf=c=>this.resolve(c)();valueOf=c=>{let e=this.resolve(c)().value();if(e instanceof ri)throw new we(1907,!1);return e}},Mn=class{node;metadata=new Map;constructor(c){this.node=c;for(let e of this.node.logicNode.logic.getMetadataKeys())if(e.create){let i=this.node.logicNode.logic.getMetadata(e),n=ve(()=>ln(this.node.structure.injector,()=>e.create(T(()=>i.compute(this.node.context)))));this.metadata.set(e,n)}}get(c){if(this.has(c)&&!this.metadata.has(c)){if(c.create)throw Error("Managed metadata cannot be created lazily");let e=this.node.logicNode.logic.getMetadata(c);this.metadata.set(c,T(()=>e.compute(this.node.context)))}return this.metadata.get(c)}has(c){return this.node.logicNode.logic.hasMetadata(c)}},nc={get(t,c,e){let i=t(),n=i.structure.getChild(c);if(n!==void 0)return n.fieldProxy;let l=ve(i.value);if(Ve(l)){if(c==="length")return i.value().length;if(c===Symbol.iterator)return()=>(i.value(),Array.prototype[Symbol.iterator].apply(i.fieldProxy))}if(mt(l)&&c===Symbol.iterator)return function*(){for(let m in e)yield[m,e[m]]}},getOwnPropertyDescriptor(t,c){let e=ve(t().value),i=Reflect.getOwnPropertyDescriptor(e,c);return i&&!i.configurable&&(i.configurable=!0),i},ownKeys(t){let c=ve(t().value);return typeof c=="object"&&c!==null?Reflect.ownKeys(c):[]}};function ic(t,c){let e=T(()=>t()[c()]);return e[cn]=t[cn],e.set=i=>{t.update(n=>oc(n,i,c()))},e.update=i=>{e.set(i(ve(e)))},e.asReadonly=()=>e,e}function oc(t,c,e){if(Ve(t)){let i=[...t];return i[e]=c,i}else return $(R({},t),{[e]:c})}var Kt=class{logic;node;createChildNode;identitySymbol=Symbol();_injector=void 0;get injector(){return this._injector??=wt.create({providers:[],parent:this.fieldManager.injector}),this._injector}constructor(c,e,i){this.logic=c,this.node=e,this.createChildNode=i}children(){let c=this.childrenMap();return c===void 0?[]:Array.from(c.byPropertyKey.values()).map(e=>ve(e.reader))}getChild(c){let e=c.toString(),i=ve(this.childrenMap)?.byPropertyKey.get(e)?.reader;return i||(i=this.createReader(e)),i()}reduceChildren(c,e,i){let n=this.childrenMap();if(!n)return c;let l=c;for(let m of n.byPropertyKey.values()){if(i?.(l))break;l=e(ve(m.reader),l)}return l}destroy(){this.injector.destroy()}createKeyInParent(c,e,i){if(c.kind==="root")return co;if(e===void 0){let n=i;return T(()=>{if(this.parent.structure.getChild(n)!==this.node)throw new we(1902,!1);return n})}else{let n=i;return T(()=>{let l=this.parent.structure.value();if(!Ve(l))throw new we(1903,!1);let m=l[n];if(mt(m)&&m.hasOwnProperty(this.parent.structure.identitySymbol)&&m[this.parent.structure.identitySymbol]===e)return n;for(let w=0;w<l.length;w++){let F=l[w];if(mt(F)&&F.hasOwnProperty(this.parent.structure.identitySymbol)&&F[this.parent.structure.identitySymbol]===e)return n=w.toString()}throw new we(1904,!1)})}}createChildrenMap(){return N({source:this.value,computation:(c,e)=>{if(!mt(c))return;let i=e?.value??{byPropertyKey:new Map},n,l=Ve(c);i!==void 0&&(l?n=ac(i,c,this.identitySymbol):n=cc(i,c));for(let m of Object.keys(c)){let w,F=c[m];if(F===void 0){i.byPropertyKey.has(m)&&(n??=R({},i),n.byPropertyKey.delete(m));continue}l&&mt(F)&&!Ve(F)&&(w=F[this.identitySymbol]??=Symbol(""));let z;w&&(i.byTrackingKey?.has(w)||(n??=R({},i),n.byTrackingKey??=new Map,n.byTrackingKey.set(w,this.createChildNode(m,w,l))),z=(n??i).byTrackingKey.get(w));let ge=i.byPropertyKey.get(m);ge===void 0?(n??=R({},i),n.byPropertyKey.set(m,{reader:this.createReader(m),node:z??this.createChildNode(m,w,l)})):z&&z!==ge.node&&(n??=R({},i),ge.node=z)}return n??i}})}createReader(c){return T(()=>this.childrenMap()?.byPropertyKey.get(c)?.node)}},Pn=class extends Kt{fieldManager;value;get parent(){}get root(){return this.node}get pathKeys(){return rc}get keyInParent(){return co}childrenMap;constructor(c,e,i,n,l){super(e,c,l),this.fieldManager=i,this.value=n,this.childrenMap=this.createChildrenMap()}},Sn=class extends Kt{logic;parent;root;pathKeys;keyInParent;value;childrenMap;get fieldManager(){return this.root.structure.fieldManager}constructor(c,e,i,n,l,m){super(e,c,m),this.logic=e,this.parent=i,this.root=this.parent.structure.root,this.keyInParent=this.createKeyInParent({kind:"child",parent:i,pathNode:void 0,logic:e,initialKeyInParent:l,identityInParent:n,fieldAdapter:void 0},n,l),this.pathKeys=T(()=>[...i.structure.pathKeys(),this.keyInParent()]),this.value=ic(this.parent.structure.value,this.keyInParent),this.childrenMap=this.createChildrenMap(),this.fieldManager.structures.add(this)}};var rc=T(()=>[]),co=T(()=>{throw new we(1905,!1)});function ac(t,c,e){let i,n=new Set(t.byPropertyKey.keys()),l=new Set(t.byTrackingKey?.keys());for(let m=0;m<c.length;m++){let w=c[m];n.delete(m.toString()),mt(w)&&w.hasOwnProperty(e)&&l.delete(w[e])}if(n.size>0){i??=R({},t);for(let m of n)i.byPropertyKey.delete(m)}if(l.size>0){i??=R({},t);for(let m of l)i.byTrackingKey?.delete(m)}return i}function cc(t,c){let e;for(let i of t.byPropertyKey.keys())c.hasOwnProperty(i)||(e??=R({},t),e.byPropertyKey.delete(i));return e}var On=class{node;selfSubmitting=E(!1);serverErrors;constructor(c){this.node=c,this.serverErrors=N({source:this.node.structure.value,computation:()=>[]})}submitting=T(()=>this.selfSubmitting()||(this.node.structure.parent?.submitting()??!1))},Et=class{structure;validationState;metadataState;nodeState;submitState;fieldAdapter;_context=void 0;get context(){return this._context??=new wn(this)}fieldProxy=new Proxy(()=>this,nc);pathNode;constructor(c){this.pathNode=c.pathNode,this.fieldAdapter=c.fieldAdapter,this.structure=this.fieldAdapter.createStructure(this,c),this.validationState=this.fieldAdapter.createValidationState(this,c),this.nodeState=this.fieldAdapter.createNodeState(this,c),this.metadataState=new Mn(this),this.submitState=new On(this)}pendingSync=N({source:()=>this.value(),computation:(c,e)=>{e?.value?.abort()}});get logicNode(){return this.structure.logic}get value(){return this.structure.value}_controlValue=N(()=>this.value());get controlValue(){return this._controlValue.asReadonly()}get keyInParent(){return this.structure.keyInParent}get errors(){return this.validationState.errors}get errorSummary(){return this.validationState.errorSummary}get pending(){return this.validationState.pending}get valid(){return this.validationState.valid}get invalid(){return this.validationState.invalid}get dirty(){return this.nodeState.dirty}get touched(){return this.nodeState.touched}get disabled(){return this.nodeState.disabled}get disabledReasons(){return this.nodeState.disabledReasons}get hidden(){return this.nodeState.hidden}get readonly(){return this.nodeState.readonly}get fieldBindings(){return this.nodeState.fieldBindings}get submitting(){return this.submitState.submitting}get name(){return this.nodeState.name}get max(){return this.metadata(oo)}get maxLength(){return this.metadata(ro)}get min(){return this.metadata(io)}get minLength(){return this.metadata(Fn)}get pattern(){return this.metadata(ao)??sc}get required(){return this.metadata(In)??lc}metadata(c){return this.metadataState.get(c)}hasMetadata(c){return this.metadataState.has(c)}markAsTouched(){this.nodeState.markAsTouched(),this.pendingSync()?.abort(),this.sync()}markAsDirty(){this.nodeState.markAsDirty()}reset(c){ve(()=>this._reset(c))}_reset(c){c!==void 0&&this.value.set(c),this.nodeState.markAsUntouched(),this.nodeState.markAsPristine();for(let e of this.structure.children())e._reset()}setControlValue(c){this._controlValue.set(c),this.markAsDirty(),this.debounceSync()}sync(){this.value.set(this.controlValue())}debounceSync(){return yt(this,null,function*(){this.pendingSync()?.abort();let c=this.nodeState.debouncer();if(c){let e=new AbortController,i=c(e.signal);if(i&&(this.pendingSync.set(e),yield i,e.signal.aborted))return}this.sync()})}static newRoot(c,e,i,n){return n.newRoot(c,e,i,n)}createStructure(c){return c.kind==="root"?new Pn(this,c.logic,c.fieldManager,c.value,this.newChild.bind(this)):new Sn(this,c.logic,c.parent,c.identityInParent,c.initialKeyInParent,this.newChild.bind(this))}newChild(c,e,i){let n,l;return i?(n=this.pathNode.getChild(ot),l=this.structure.logic.getChild(ot)):(n=this.pathNode.getChild(c),l=this.structure.logic.getChild(c)),this.fieldAdapter.newChild({kind:"child",parent:this,pathNode:n,logic:l,initialKeyInParent:c,identityInParent:e,fieldAdapter:this.fieldAdapter})}},sc=T(()=>[]),lc=T(()=>!1),kn=class{node;selfTouched=E(!1);selfDirty=E(!1);markAsTouched(){this.selfTouched.set(!0)}markAsDirty(){this.selfDirty.set(!0)}markAsPristine(){this.selfDirty.set(!1)}markAsUntouched(){this.selfTouched.set(!1)}fieldBindings=E([]);constructor(c){this.node=c}dirty=T(()=>{let c=this.selfDirty()&&!this.isNonInteractive();return this.node.structure.reduceChildren(c,(e,i)=>i||e.nodeState.dirty(),Zi)});touched=T(()=>{let c=this.selfTouched()&&!this.isNonInteractive();return this.node.structure.reduceChildren(c,(e,i)=>i||e.nodeState.touched(),Zi)});disabledReasons=T(()=>[...this.node.structure.parent?.nodeState.disabledReasons()??[],...this.node.logicNode.logic.disabledReasons.compute(this.node.context)]);disabled=T(()=>!!this.disabledReasons().length);readonly=T(()=>(this.node.structure.parent?.nodeState.readonly()||this.node.logicNode.logic.readonly.compute(this.node.context))??!1);hidden=T(()=>(this.node.structure.parent?.nodeState.hidden()||this.node.logicNode.logic.hidden.compute(this.node.context))??!1);name=T(()=>{let c=this.node.structure.parent;return c?`${c.name()}.${this.node.structure.keyInParent()}`:this.node.structure.fieldManager.rootName});debouncer=T(()=>{if(this.node.logicNode.logic.hasMetadata(Yt)){let e=this.node.logicNode.logic.getMetadata(Yt).compute(this.node.context);if(e)return i=>e(this.node.context,i)}return this.node.structure.parent?.nodeState.debouncer?.()});isNonInteractive=T(()=>this.hidden()||this.disabled()||this.readonly())},En=class{newRoot(c,e,i,n){return new Et({kind:"root",fieldManager:c,value:e,pathNode:i,logic:i.builder.build(),fieldAdapter:n})}newChild(c){return new Et(c)}createNodeState(c){return new kn(c)}createValidationState(c){return new yn(c)}createStructure(c,e){return c.createStructure(e)}},Tn=class{injector;rootName;constructor(c,e){this.injector=c,this.rootName=e??`${this.injector.get(Hn)}.form${dc++}`}structures=new Set;createFieldManagementEffect(c){ne(()=>{let e=new Set;this.markStructuresLive(c,e);for(let i of this.structures)e.has(i)||(this.structures.delete(i),ve(()=>i.destroy()))},{injector:this.injector})}markStructuresLive(c,e){e.add(c);for(let i of c.children())this.markStructuresLive(i.structure,e)}},dc=0;function mc(t){let c,e,i;return t.length===3?[c,e,i]=t:t.length===2?Za(t[1])?[c,e]=t:[c,i]=t:[c]=t,[c,e,i]}function H(...t){let[c,e,i]=mc(t),n=i?.injector??y(wt),l=ln(n,()=>Qt.rootCompile(e)),m=new Tn(n,i?.name),w=i?.adapter??new En,F=Et.newRoot(m,c,l,w);return m.createFieldManagementEffect(F.structure),F.fieldProxy}var pc=new sn("");var Dn=class{field;constructor(c){this.field=c}control=this;get value(){return this.field().value()}get valid(){return this.field().valid()}get invalid(){return this.field().invalid()}get pending(){return this.field().pending()}get disabled(){return this.field().disabled()}get enabled(){return!this.field().disabled()}get errors(){let c=this.field().errors();if(c.length===0)return null;let e={};for(let i of c)e[i.kind]=i;return e}get pristine(){return!this.field().dirty()}get dirty(){return this.field().dirty()}get touched(){return this.field().touched()}get untouched(){return!this.field().touched()}get status(){if(this.field().disabled())return"DISABLED";if(this.field().valid())return"VALID";if(this.field().invalid())return"INVALID";if(this.field().pending())return"PENDING";throw new we(1910,!1)}valueAccessor=null;hasValidator(c){return c===ii.required?this.field().required():!1}updateValueAndValidity(){}},gc=new sn(""),uc={create:D,update:Gn},Q=(()=>{class t{element=y(Z).nativeElement;injector=y(wt);field=I.required();state=T(()=>this.field()());[jn]=uc;config=y(pc,{optional:!0});classes=Object.entries(this.config?.classes??{}).map(([e,i])=>[e,T(()=>i(this))]);controlValueAccessors=y(ni,{optional:!0,self:!0});interopNgControl;get \u0275interopControl(){return this.controlValueAccessors?.[0]??this.interopNgControl?.valueAccessor??void 0}getOrCreateNgControl(){return this.interopNgControl??=new Dn(this.state)}\u0275register(){ne(e=>{let i=this.state();i.nodeState.fieldBindings.update(n=>[...n,this]),e(()=>{i.nodeState.fieldBindings.update(n=>n.filter(l=>l!==this))})},{injector:this.injector})}static \u0275fac=function(i){return new(i||t)};static \u0275dir=He({type:t,selectors:[["","field",""]],inputs:{field:[1,"field"]},features:[Kn([{provide:gc,useExisting:t},{provide:oi,useFactory:()=>y(t).getOrCreateNgControl()}])]})}return t})();function hc(t){return new Ln(t)}function fc(t,c){return new Nn(t,c)}function rt(t){return new An(t)}var An=class{__brand=void 0;kind="";fieldTree;message;constructor(c){c&&Object.assign(this,c)}},Jt=class{__brand=void 0;kind="";fieldTree;message;constructor(c){c&&Object.assign(this,c)}},Ln=class extends Jt{kind="required"};var Nn=class extends Jt{minLength;kind="minLength";constructor(c,e){super(e),this.minLength=c}};function Cc(t){let c=t;return typeof c.length=="number"?c.length:c.size}function en(t,c){return t instanceof Function?t(c):t}function lo(t){return typeof t=="number"?isNaN(t):t===""||t===!1||t==null}function _c(t){return typeof t=="object"&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function so(t){return _c(t)?rt(t):t}function vc(t){return t==null?t:Ve(t)?t.map(so):so(t)}function ft(t,c){Tt(t),ze.unwrapFieldPath(t).builder.addSyncErrorRule(i=>vc(Zt(c(i),i.fieldTree)))}function Ct(t,c,e){let i=ht(t,We(),n=>typeof c=="number"?c:c(n));ht(t,Fn,({state:n})=>n.metadata(i)()),ft(t,n=>{if(lo(n.value()))return;let l=n.state.metadata(i)();if(l!==void 0&&Cc(n.value())<l)return e?.error?en(e.error,n):fc(l,{message:en(e?.message,n)})})}function De(t,c){let e=ht(t,We(),i=>c?.when?c.when(i):!0);ht(t,In,({state:i})=>i.metadata(e)()),ft(t,i=>{if(i.state.metadata(e)()&&lo(i.value()))return c?.error?en(c.error,i):hc({message:en(c?.message,i)})})}function mo(t,c){Tt(t);let e=ze.unwrapFieldPath(t),i=no(c.factory);ht(t,i,n=>{let m=n.stateOf(t).validationState;if(!(m.shouldSkipValidation()||!m.syncValid()))return c.params(n)}),e.builder.addAsyncErrorRule(n=>{let l=n.state.metadata(i),m;switch(l.status()){case"idle":return;case"loading":case"reloading":return"pending";case"resolved":case"local":return l.hasValue()?(m=c.onSuccess(l.value(),n),Zt(m,n.fieldTree)):void 0;case"error":return m=c.onError(l.error(),n),Zt(m,n.fieldTree)}})}function nt(t,c){Tt(t);let e=ze.unwrapFieldPath(t),i=typeof c=="function"?c:c>0?bc(c):xc;e.builder.addMetadataRule(Yt,()=>i)}function bc(t){return(c,e)=>new Promise(i=>{let n=setTimeout(i,t);e.addEventListener("abort",()=>clearTimeout(n))})}function xc(){}var yc=["searchBar"],wc=["searchInput"],Mc=["searchPreview"],tn=(()=>{class t{constructor(e){this.superRef=e,this.session=y(B),this.render=y(he),this.isOpened=E(!1),this.search=E({search:""}),this.searchForm=H(this.search),this.searchResults=pe({params:()=>({search:this.searchForm.search().value()}),stream:({params:i})=>this.getSearchResults(i.search)}),this.searchBar=G.required("searchBar"),this.searchInput=G.required("searchInput"),this.searchPreview=G.required("searchPreview")}ngOnInit(){this.adjustPreviewWidth()}adjustPreviewWidth(){let e=this.searchBar().nativeElement.clientWidth;this.render.setStyle(this.searchPreview().nativeElement,"width",`${e}px`)}onAnyClick(e){let i=this.isOpened(),n=this.superRef.nativeElement.contains(e.target);!i&&n&&(this.isOpened.set(!0),this.searchResults.reload()),n||this.isOpened.set(!1)}onKeyPress(e){let i=e.target;if(e.key=="ArrowDown"){e.preventDefault();let n=this.searchInput().nativeElement,l=this.searchPreview().nativeElement;i==n?l.firstElementChild?.focus():i==l.lastElementChild?n.focus():i.nextElementSibling.focus()}else if(e.key=="ArrowUp"){e.preventDefault();let n=this.searchInput().nativeElement,l=this.searchPreview().nativeElement;i==n?l.lastElementChild?.focus():i==l.firstElementChild?n.focus():i.previousElementSibling.focus()}else if(e.key=="Escape")e.preventDefault(),i.blur(),this.isOpened.set(!1);else if(e.key=="Enter"){let n=this.searchInput().nativeElement;if(i.className.includes("comic-result"))i.click(),this.isOpened.set(!1);else if(i==n){let l=this.searchResults.value(),m=this.searchPreview().nativeElement;l&&l.length==1&&m.firstElementChild?.click()}}}getSearchResults(e){return this.activeSearch?.unsubscribe(),/[\S+]/.test(e)?It(500).pipe(zn(()=>this.search$(e))):W(void 0)}static{this.\u0275fac=function(i){return new(i||t)(J(Z))}}static{this.\u0275cmp=M({type:t,selectors:[["ng-component"]],viewQuery:function(i,n){i&1&&ee(n.searchBar,yc,5)(n.searchInput,wc,5)(n.searchPreview,Mc,5),i&2&&te(3)},hostBindings:function(i,n){i&1&&u("click",function(m){return n.onAnyClick(m)},Ue)("keydown",function(m){return n.onKeyPress(m)})},decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})();var Pc=t=>["comics",t],Sc=(t,c)=>c.id;function Oc(t,c){if(t&1&&(o(0,"button",10)(1,"span",12,3),g(3,"img",13),a(),o(4,"span",14)(5,"span",15),r(6),a(),o(7,"span",16),r(8),a(),o(9,"span",17),r(10),a()()()),t&2){let e=c.$implicit,i=d(2);p("routerLink",le(7,Pc,e.id)),s(3),p("src",e.covers[0].source,ue),s(2),p("title",e.title),s(),C(e.title),s(),p("title",i.comicCreators(e)),s(),C(i.comicCreators(e)),s(2),C(i.comicStatus(e))}}function kc(t,c){t&1&&(o(0,"div",11),r(1,"No Results Found"),a())}function Ec(t,c){if(t&1&&S(0,Oc,11,9,"button",10,Sc,!1,kc,2,0,"div",11),t&2){let e=d();O(e.searchResults.value())}}var po=(()=>{class t extends tn{constructor(e){super(e),this.elementRef=e,this.comicService=y(Ce)}search$(e){return this.comicService.searchComics({title:e}).pipe(Y(i=>i.results))}comicCreators(e){let i=e.staff.filter(m=>m.role.includes("Story")),n=e.staff.filter(m=>m.role.includes("Art"));return[...i,...n].reduce((m,w)=>(m.findIndex(F=>F.staff.id==w.staff.id)<0&&m.push(w),m),[]).map(m=>m.staff.name).join(" \xB7 ")}comicStatus(e){return`${e.status.toLowerCase()} \xB7 Chapters ${e.chapters||"?"} \xB7 Volumes ${e.volumes||"?"}`}static{this.\u0275fac=function(i){return new(i||t)(J(Z))}}static{this.\u0275cmp=M({type:t,selectors:[["comic-search"]],features:[q],decls:12,vars:6,consts:[["searchBar",""],["searchInput",""],["searchPreview",""],["coverContainer",""],["size-observer","",1,"comic-search",3,"doOnChange"],[1,"bar"],[1,"search-btn"],["placeholder","Search Comics",1,"search-input",3,"field"],[1,"search-preview"],[1,"preview-results"],["type","button",1,"search-result","comic-result",3,"routerLink"],[1,"no-results"],[1,"comic-cover-container"],[1,"comic-cover",3,"src"],[1,"comic-info"],[1,"comic-title",3,"title"],[1,"comic-creators",3,"title"],[1,"comic-status"]],template:function(i,n){i&1&&(o(0,"div",4,0)(2,"div",5)(3,"button",6)(4,"mat-icon"),r(5,"search"),a()(),g(6,"input",7,1),D(),a(),o(8,"div",8)(9,"div",9,2),_(11,Ec,3,1),a()()()),i&2&&(p("doOnChange",n.adjustPreviewWidth.bind(n)),s(6),A(n.searchForm.search),s(3),k("preview-expanded",n.searchResults.value()&&n.isOpened()),s(2),v(n.searchResults.value()&&n.isOpened()?11:-1))},dependencies:[Be,V,Q,X,ie],styles:[".comic-search[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-flow:row nowrap;gap:1rem;height:2rem;padding:0rem .5rem;border-radius:.5rem}.bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;align-items:center}.search-input[_ngcontent-%COMP%]{flex:1;color:var(--comic-top-nav-text-color);margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none}.search-btn[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);display:flex;align-items:center;padding:0rem;border:none;background-color:transparent}.search-btn[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.75}.search-preview[_ngcontent-%COMP%]{position:absolute;top:100%;left:0}.preview-results[_ngcontent-%COMP%]{position:sticky;display:flex;flex-direction:column;max-height:min(50rem,10rem);background-color:rgb(var(--comic-medium));overflow-y:scroll;scrollbar-width:thin;scrollbar-color:rgba(var(--comic-medium)) rgba(var(--comic-dark));z-index:888}.preview-results.sticky[_ngcontent-%COMP%]{position:sticky;max-height:min(50rem,10rem);background-color:rgb(var(--comic-medium))}.preview-results.fixed[_ngcontent-%COMP%]{position:fixed;max-height:min(50rem,50%);background-color:rgb(var(--comic-medium))}.preview-expanded[_ngcontent-%COMP%]{border:2px solid rgb(var(--comic-dark));border-radius:.5px .5px .5rem .5rem;box-shadow:0 3px rgba(var(--comic-dark),.5)}.search-result[_ngcontent-%COMP%]{flex-shrink:0;display:flex;flex-flow:row nowrap;gap:.75rem;color:var(--comic-nav-text-color);padding:.25rem;border:none;background-color:transparent}.search-result[_ngcontent-%COMP%]:hover, .search-result[_ngcontent-%COMP%]:focus-visible{color:#fff;background-color:#c8c8c81a}.search-result[_ngcontent-%COMP%]:active{color:rgb(var(--comic-text-color),.8)}.search-result[_ngcontent-%COMP%]:focus-visible{outline:rgb(var(--comic-text-color),.5) 1px solid}.search-result[_ngcontent-%COMP%]:disabled{color:rgb(var(--comic-text-color),.5);background-color:transparent!important}.comic-search[_ngcontent-%COMP%]{align-items:center;background-color:rgb(var(--comic-medium))}.search-preview[_ngcontent-%COMP%]{top:unset;bottom:-5px}.preview-results[_ngcontent-%COMP%]{position:fixed;max-height:min(50rem,50%);background-color:rgb(var(--comic-dark));scrollbar-width:unset;scrollbar-color:rgba(var(--comic-dark)) rgba(var(--comic-medium))}.comic-cover-container[_ngcontent-%COMP%]{flex-shrink:0;position:relative;width:3.5rem;border-radius:var(--comic-border-radius);background-color:rgba(var(--comic-dark),.8);overflow:hidden}.comic-cover[_ngcontent-%COMP%]{width:100%;aspect-ratio:3/4;object-fit:fill}.comic-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;overflow:hidden;text-align:start}.comic-title[_ngcontent-%COMP%], .comic-creators[_ngcontent-%COMP%], .comic-status[_ngcontent-%COMP%]{max-width:100%;text-wrap:nowrap;text-overflow:ellipsis;overflow:hidden}.comic-creators[_ngcontent-%COMP%], .comic-status[_ngcontent-%COMP%]{font-size:1rem;text-transform:capitalize}.comic-creators[_ngcontent-%COMP%]{font-size:.8rem}.comic-status[_ngcontent-%COMP%]{margin-top:auto}.no-results[_ngcontent-%COMP%]{padding:.5rem}"]})}}return t})();var go=t=>["users",t],Tc=()=>["settings"];function Ic(t,c){if(t&1){let e=P();o(0,"div",7)(1,"button",8)(2,"mat-icon"),r(3,"my_library_books"),a()(),o(4,"button",9)(5,"mat-icon"),r(6,"person"),a()(),o(7,"button",10)(8,"mat-icon"),r(9,"settings"),a()(),o(10,"button",11),u("click",function(){h(e);let n=d();return f(n.showLogout())}),o(11,"mat-icon"),r(12,"logout"),a()()()}if(t&2){let e=d();s(),p("routerLink",le(3,go,e.user$().username)),s(3),p("routerLink",le(5,go,e.user$().username)),s(3),p("routerLink",ae(7,Tc))}}function Fc(t,c){if(t&1){let e=P();o(0,"div",7)(1,"button",12),u("click",function(){h(e);let n=d();return f(n.showLogin())}),o(2,"span"),r(3,"Login"),a(),o(4,"mat-icon"),r(5,"login"),a()()()}}var uo=(()=>{class t extends $t{constructor(){super(),this.title=I.required(),this.subtitle=I.required(),this.showSideBar=se()}toggleSideBar(){this.showSideBar.update(e=>!e)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic-nav"]],inputs:{title:[1,"title"],subtitle:[1,"subtitle"],showSideBar:[1,"showSideBar"]},outputs:{showSideBar:"showSideBarChange"},features:[q],decls:13,vars:4,consts:[[1,"comic-nav"],[1,"nav-content"],[1,"info"],["id","side-bar-toggle",1,"nav-button",3,"click"],[1,"page-title"],[1,"page-subtitle",3,"title"],[1,"comic-search"],[1,"nav-buttons"],["type","button","fragment","lists",1,"nav-button",3,"routerLink"],["type","button",1,"nav-button",3,"routerLink"],["type","button","aria-label","settings",1,"nav-button",3,"routerLink"],["type","button","aria-label","logout",1,"nav-button","logout-button",3,"click"],["type","button","aria-label","login","title","login",1,"nav-button","login-button",3,"click"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),u("click",function(){return n.toggleSideBar()}),o(4,"mat-icon"),r(5,"menu"),a()(),o(6,"div",4),r(7),a(),o(8,"div",5),r(9),a()(),g(10,"comic-search",6),_(11,Ic,13,8,"div",7)(12,Fc,6,0,"div",7),a()()),i&2&&(s(7),C(n.title()),s(),p("title",n.subtitle()),s(),C(n.subtitle()||""),s(2),v(n.isAnonymous()?12:11))},dependencies:[V,X,ie,po],styles:[".nav-button[_ngcontent-%COMP%]{display:flex;padding:0rem;gap:.25rem;align-items:center;border:none;background-color:transparent}.nav-button[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.75}.comic-nav[_ngcontent-%COMP%]{font-size:var(--comic-nav-font-size);color:var(--comic-nav-text-color);background-color:rgb(var(--comic-dark));display:flex;flex-flow:row nowrap;gap:2rem;align-items:center;justify-content:center;width:100%;max-width:100%;height:var(--comic-nav-height);overflow:hidden}.nav-content[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:2rem;align-items:center;width:100%;overflow:hidden;transition:margin-left .25s ease-in-out,max-width .25s ease-in-out}#side-bar-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{pointer-events:none}.info[_ngcontent-%COMP%]{flex-shrink:0;display:flex;flex-flow:row nowrap;gap:1rem;padding:0rem .5rem;text-wrap:nowrap;overflow:hidden}.page-title[_ngcontent-%COMP%]{font-family:monospace;letter-spacing:2px;text-transform:uppercase}.page-subtitle[_ngcontent-%COMP%]{max-width:10rem;text-wrap:nowrap;overflow:hidden;text-overflow:ellipsis}.comic-search[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center}.nav-buttons[_ngcontent-%COMP%]{color:rgb(var(--comic-text-color));flex-shrink:0;display:flex;flex-flow:row nowrap;gap:1rem;padding:0rem .5rem}.nav-button[_ngcontent-%COMP%]{color:var(--comic-nav-text-color)}.login-button[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.5rem}.logout-button[_ngcontent-%COMP%]{margin-left:2rem}.nav-shortened-width[_ngcontent-%COMP%]{max-width:calc(100% - var(--comic-side-bar-width))}@media(max-width:720px){.top-nav[_ngcontent-%COMP%]{margin-left:0}.page-title[_ngcontent-%COMP%]{display:none}.nav-shortened-width[_ngcontent-%COMP%]{margin-left:var(--comic-side-bar-width)}.nav-buttons[_ngcontent-%COMP%]{display:none}.comic-search[_ngcontent-%COMP%]{padding-right:.5rem}}"]})}}return t})();var Dc=()=>["home"],Ac=()=>["search"],ho=t=>["users",t],Lc=()=>["settings"];function Nc(t,c){if(t&1){let e=P();o(0,"div",4)(1,"button",5),u("click",function(){h(e);let n=d();return f(n.showLogin())}),o(2,"mat-icon"),r(3,"login"),a(),o(4,"span"),r(5,"Login"),a()()()}}function Rc(t,c){if(t&1){let e=P();o(0,"button",6)(1,"mat-icon"),r(2,"my_library_books"),a(),o(3,"span"),r(4,"My Lists"),a()(),o(5,"button",7)(6,"mat-icon"),r(7,"person"),a(),o(8,"span"),r(9,"Profile"),a()(),o(10,"button",8)(11,"mat-icon"),r(12,"settings"),a(),o(13,"span"),r(14,"Settings"),a()(),o(15,"button",9),u("click",function(){h(e);let n=d();return f(n.showLogout())}),o(16,"mat-icon"),r(17,"logout"),a(),o(18,"span"),r(19,"Logout"),a()()}if(t&2){let e=d();p("routerLink",le(3,ho,e.user$().username)),s(5),p("routerLink",le(5,ho,e.user$().username)),s(5),p("routerLink",ae(7,Lc))}}var fo=(()=>{class t extends $t{constructor(e){super(),this.elementRef=e,this.isShown=se(!1)}onAnyClick(e){if(!this.isShown())return;let n=e.target.id=="side-bar-toggle";!this.elementRef.nativeElement.contains(e.target)&&!n&&this.isShown.set(!1)}static{this.\u0275fac=function(i){return new(i||t)(J(Z))}}static{this.\u0275cmp=M({type:t,selectors:[["comic-side-bar"]],hostBindings:function(i,n){i&1&&u("click",function(m){return n.onAnyClick(m)},Ue)},inputs:{isShown:[1,"isShown"]},outputs:{isShown:"isShownChange"},features:[q],decls:14,vars:7,consts:[[1,"side-bar"],[1,"side-bar-content"],[1,"nav-button",3,"routerLink"],["aria-label","advanced search",1,"nav-button",3,"routerLink"],[1,"nav-buttons"],["type","button","aria-label","login",1,"nav-button","side-bar-item",3,"click"],["type","button","aria-label","my lists","fragment","lists",1,"nav-button",3,"routerLink"],["type","button","aria-label","profile",1,"nav-button",3,"routerLink"],["type","button","aria-label","settings",1,"nav-button",3,"routerLink"],["type","button","aria-label","logout",1,"nav-button","logout-button",3,"click"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon"),r(4,"home"),a(),o(5,"span"),r(6,"Home"),a()(),o(7,"div",3)(8,"mat-icon"),r(9,"search"),a(),o(10,"span"),r(11,"Search"),a()(),_(12,Nc,6,0,"div",4)(13,Rc,20,8),a()()),i&2&&(k("side-bar-shown",n.isShown()),s(2),p("routerLink",ae(5,Dc)),s(5),p("routerLink",ae(6,Ac)),s(5),v(n.isAnonymous()?12:13))},dependencies:[V,X,ie],styles:[".nav-button[_ngcontent-%COMP%]{display:flex;padding:0rem;gap:.25rem;align-items:center;border:none;background-color:transparent}.nav-button[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.75}.side-bar[_ngcontent-%COMP%]{background-color:rgb(var(--comic-dark));width:0px;position:fixed;top:0;left:0;height:100vh;flex-shrink:0;opacity:.95;overflow:hidden;transition:margin-left .25s ease-in-out,max-width .25s ease-in-out,width .25s ease-in-out;z-index:101}.side-bar-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-width:fit-content;height:100%;padding:3.5rem 1rem 1rem;text-wrap:nowrap}.nav-button[_ngcontent-%COMP%]{color:rgb(var(--comic-text-color))}.logout-button[_ngcontent-%COMP%]{margin-top:auto}.side-bar-shown[_ngcontent-%COMP%]{width:var(--comic-side-bar-width);margin-left:0}"]})}}return t})();var Vc=(t,c)=>c.id;function zc(t,c){if(t&1&&be(0,"div",4),t&2){let e=d().$implicit;Ge("textContent",e.body)}}function qc(t,c){if(t&1&&(b(0,"div"),be(1,"div",3),_(2,zc,1,1,"div",4),x()),t&2){let e=c.$implicit;Ae(e.type),s(),Ge("textContent",e.header),s(),v(e.body!=""?2:-1)}}var nn=(()=>{class t{constructor(){this.notifService=y(oe),this.notifications=this.notifService.notifications$}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["notifications"]],decls:4,vars:0,consts:[["id","comic-notifications"],[1,"notification-list"],[3,"class"],[1,"header",3,"textContent"],[1,"body",3,"textContent"]],template:function(i,n){i&1&&(b(0,"div",0)(1,"div",1),S(2,qc,3,4,"div",2,Vc),x()()),i&2&&(s(2),O(n.notifications()))},styles:["#comic-notifications[_ngcontent-%COMP%]{position:fixed;bottom:1rem;right:1rem;z-index:500}.notification-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.notification[_ngcontent-%COMP%], .good[_ngcontent-%COMP%], .bad[_ngcontent-%COMP%], .warning[_ngcontent-%COMP%], .plain[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;min-width:10rem;padding:.5rem;border-radius:4px;background-color:#006400;-webkit-backdrop-filter:var(--comic-filter-blur);backdrop-filter:var(--comic-filter-blur)}.good[_ngcontent-%COMP%]{background-color:#00640080}.bad[_ngcontent-%COMP%]{background-color:#dc354580}.warning[_ngcontent-%COMP%]{background-color:#daa52080}.plain[_ngcontent-%COMP%]{background-color:#64646480}.header[_ngcontent-%COMP%]{font-size:1rem;text-transform:capitalize}.body[_ngcontent-%COMP%]{font-size:.9rem}.body[_ngcontent-%COMP%]:first-letter{text-transform:uppercase}"]})}}return t})();var _t=(()=>{class t{constructor(){this.render=y(he),this.popupService=y(xe),this.notifService=y(oe),this.id=I.required(),this.width=I("25rem"),this.closable=I(!0),this.onClose=ce()}ngOnInit(){}close(e,i=!1){(this.closable()||i)&&(this.onClose.emit(e),this.popupService.closePopup(this.id()))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["ng-component"]],inputs:{id:[1,"id"],width:[1,"width"],closable:[1,"closable"]},outputs:{onClose:"onClose"},decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})();var ye=(()=>{class t{static{this.NUMBER_REGISTRATION_QUESTIONS=3}static{this.USERNAME_MIN_LENGTH=5}static{this.INVALID_USERNAMES=["comic","comics","user","users","dashboard","auth","oauth","oauth2","login","register","home","settings","confirm-user","post","posts","search","confirm","valid","invalid"]}static{this.INVALID_USERNAME_CHARACTERS=/^[^A-Za-z0-9._]$/}static{this.INVALID_USERNAME_SEQUENCE=/^[\._]|[\._]{2,}/}static{this.PASSWORD_MIN_LENGTH=8}static{this.INVALID_PASSWORD_CHARACTERS=/[\s]/}static{this.VALID_SECURITY_QUESTION_ANSWER_SEQUENCE=/\w+/}static{this.INVALID_SECURITY_QUESTION_ANSWER_SEQUENCE=/^[\s]+|[\s]+$/}static{this.VALID_POST_FILE_TYPES=["image/jpeg","image/apng","image/png","image/webp","image/svg","image/avif","image/gif"]}static passwordConfirmed(e){return i=>i.value==e.value?null:{notMatching:{value:"Passwords do not match"}}}static validatePassword(e,i){ft(e,({value:n})=>this.invalidCharacters(n,t.INVALID_PASSWORD_CHARACTERS).map(m=>`'${m}'`).length>0?rt({kind:"invalidPasswordCharacter",message:"Password cannot contain spaces"}):null)}static confirmPassword(e,i,n){ft(e,({value:l,valueOf:m})=>{let w=l(),F=m(i);return w!==F?rt({kind:"passwordMismatch",message:"Passwords do not match"}):null})}static validateUsername(e,i){ft(e,({value:n})=>{let l=this.invalidCharacters(n,t.INVALID_USERNAME_CHARACTERS).map(m=>`'${m}'`);return t.INVALID_USERNAMES.includes(n().trim().toLowerCase())?rt({kind:"invalidUsername",message:"Cannot use this username"}):l.length>0?rt({kind:"invalidUsernameCharacter",message:`Username contains invalid charactes: [ ${l.join(", ")} ]`}):this.invalidSequence(n,t.INVALID_USERNAME_SEQUENCE)?rt({kind:"invalidUsernameSequence",message:"Username cannot start with or contain consecutive . or _"}):null})}static invalidCharacters(e,i){let n=e(),l=[];for(let m=0;m<n.length;m++){let w=n.charAt(m);i.test(w)&&(l.includes(w)||l.push(w))}return l}static invalidSequence(e,i){let n=e();return i.test(n)}}return t})();var Hc=["loginPopup"],$c=["logoutPopup"],jc=["registerPopup"];function Bc(t,c){if(t&1){let e=P();o(0,"button",18),u("click",function(){h(e);let n=d(2);return f(n.close())}),o(1,"mat-icon",19),r(2,"close"),a()()}}function Wc(t,c){t&1&&(o(0,"div",10),g(1,"div",20),o(2,"div",21),g(3,"mat-progress-spinner",22),a()())}function Gc(t,c){if(t&1&&(o(0,"div",23),r(1),a()),t&2){let e=c.$implicit;s(),C(e.message)}}function Qc(t,c){if(t&1&&S(0,Gc,2,1,"div",23,U),t&2){let e=d(2);O(e.loginForm.username().errors())}}function Yc(t,c){if(t&1&&(o(0,"div",23),r(1),a()),t&2){let e=c.$implicit;s(),C(e.message)}}function Kc(t,c){if(t&1&&S(0,Yc,2,1,"div",23,U),t&2){let e=d(2);O(e.loginForm.password().errors())}}function Xc(t,c){}function Zc(t,c){if(t&1){let e=P();o(0,"div",6,0)(2,"form",7),u("submit",function(n){h(e);let l=d();return f(l.doLogin(n))}),o(3,"div",8)(4,"h4"),r(5,"Account Login"),a(),_(6,Bc,3,0,"button",9),a(),_(7,Wc,4,0,"div",10),o(8,"div",11)(9,"mat-form-field",12)(10,"mat-label"),r(11,"Username"),a(),g(12,"input",13),D(),a(),_(13,Qc,2,0),a(),o(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),r(17,"Password"),a(),g(18,"input",14),D(),a(),_(19,Kc,2,0),o(20,"span",15),r(21,"Forgot Password?"),a()(),_(22,Xc,0,0),o(23,"button",16),r(24,"Login"),a(),o(25,"span"),r(26,"No Account? "),o(27,"span",17),u("click",function(){h(e);let n=d();return f(n.changeType("REGISTER"))}),r(28,"Register Now"),a()()()()}if(t&2){let e=d();me("width",e.width()),s(6),v(e.closable()?6:-1),s(),v(e.loading()?7:-1),s(5),A(e.loginForm.username),s(),v(e.loginForm.username().touched()&&e.loginForm.username().invalid()?13:-1),s(5),A(e.loginForm.password),s(),v(e.loginForm.password().touched()&&e.loginForm.password().invalid()?19:-1),s(3),v(e.loginForm().touched()&&e.loginForm().invalid()?22:-1),s(),k("form-error",e.loginForm().invalid()),p("disabled",e.loginForm().invalid())}}function Jc(t,c){if(t&1){let e=P();o(0,"button",18),u("click",function(){h(e);let n=d(2);return f(n.close())}),o(1,"mat-icon",19),r(2,"close"),a()()}}function es(t,c){t&1&&(o(0,"div",10),g(1,"div",20),o(2,"div",21),g(3,"mat-progress-spinner",22),a()())}function ts(t,c){if(t&1&&(o(0,"mat-hint"),r(1),a()),t&2){let e=d(2);s(),C(e.usernameError())}}function ns(t,c){if(t&1&&(o(0,"mat-hint"),r(1),a()),t&2){let e=d(2);s(),C(e.PasswordError())}}function is(t,c){t&1&&(o(0,"mat-hint"),r(1,"Password do not match"),a())}function os(t,c){if(t&1){let e=P();o(0,"div",6,1)(2,"form",7),u("submit",function(n){h(e);let l=d();return f(l.doRegister(n))}),o(3,"div",8)(4,"h4"),r(5,"Account Register"),a(),_(6,Jc,3,0,"button",9),a(),_(7,es,4,0,"div",10),o(8,"mat-form-field",12)(9,"mat-label"),r(10,"Username"),a(),g(11,"input",13),D(),_(12,ts,2,1,"mat-hint"),a(),o(13,"div",11)(14,"mat-form-field",12)(15,"mat-label"),r(16,"Password"),a(),g(17,"input",14),D(),_(18,ns,2,1,"mat-hint"),a()(),o(19,"div",11)(20,"mat-form-field",12)(21,"mat-label"),r(22,"Confirm Password"),a(),g(23,"input",14),D(),_(24,is,2,0,"mat-hint"),a()(),o(25,"button",16),r(26,"Register"),a(),o(27,"span"),r(28,"Already have an account? "),o(29,"span",17),u("click",function(){h(e);let n=d();return f(n.changeType("LOGIN"))}),r(30,"Login"),a()()()()}if(t&2){let e=d();me("width",e.width()),s(6),v(e.closable()?6:-1),s(),v(e.loading()?7:-1),s(4),A(e.registerForm.username),s(),v(e.registerForm.username().invalid()?12:-1),s(5),A(e.registerForm.password),s(),v(e.registerForm.password().invalid()?18:-1),s(5),A(e.registerForm.confirmPassword),s(),v(e.registerForm.confirmPassword().invalid()?24:-1),s(),k("form-error",e.registerForm().invalid()),p("disabled",e.registerForm().invalid())}}function rs(t,c){if(t&1){let e=P();o(0,"button",18),u("click",function(){h(e);let n=d(2);return f(n.close())}),o(1,"mat-icon",19),r(2,"close"),a()()}}function as(t,c){t&1&&(o(0,"div",10),g(1,"div",20),o(2,"div",21),g(3,"mat-progress-spinner",22),a()())}function cs(t,c){if(t&1){let e=P();o(0,"div",24,2)(2,"form",7),u("submit",function(n){h(e);let l=d();return f(l.doLogout(n))}),o(3,"div",8)(4,"h4"),r(5,"Log Out"),a(),_(6,rs,3,0,"button",9),a(),_(7,as,4,0,"div",10),o(8,"div"),r(9,"We hope to see you again!"),a(),o(10,"button",25),r(11,"Logout"),a()()()}if(t&2){let e=d();me("width",e.width()),s(6),v(e.closable()?6:-1),s(),v(e.loading()?7:-1)}}var Co=(()=>{class t extends _t{constructor(){super(),this.storage=y(fe),this.auth=y(ct),this.authType=se.required(),this.loading=E(!1),this.loginPopup=G("loginPopup"),this.logoutPopup=G("logoutPopup"),this.registerPopup=G("registerPopup"),this.loginModal=E({username:"",password:""}),this.loginForm=H(this.loginModal,e=>{De(e.username,{message:"Enter username"}),De(e.password,{message:"Enter password"})}),this.registerModal=E({username:"",password:"",confirmPassword:""}),this.registerForm=H(this.registerModal,e=>{De(e.username,{message:"Enter username"}),De(e.password,{message:"Enter password"}),De(e.confirmPassword,{message:"Please confirm your password"}),Ct(e.username,ye.USERNAME_MIN_LENGTH),Ct(e.password,ye.PASSWORD_MIN_LENGTH),ye.validateUsername(e.username),ye.validatePassword(e.password),ye.confirmPassword(e.confirmPassword,e.password)}),this.usernameError=T(()=>{let e=this.registerForm.username().errors();return e.length>0?e[0].message:""}),this.PasswordError=T(()=>{let e=this.registerForm.password().errors();return e.length>0?e[0].message:""}),this.loginShowing=!1,this.logoutShowing=!1,this.registerShowing=!1}ngAfterViewChecked(){let e=this.loginPopup(),i=this.logoutPopup(),n=this.registerPopup();e&&!this.loginShowing&&(this.loginShowing=!0,this.logoutShowing=!1,this.registerShowing=!1,this.registerForm().reset(),setTimeout(()=>{this.render.setStyle(e?.nativeElement,"opacity",1)},10)),n&&!this.registerShowing&&(this.registerShowing=!0,this.loginShowing=!1,this.logoutShowing=!1,this.loginForm().reset(),setTimeout(()=>{this.render.setStyle(n?.nativeElement,"opacity",1)},10)),i&&!this.logoutShowing&&(this.logoutShowing=!0,this.loginShowing=!1,this.registerShowing=!1,this.registerForm().reset(),this.loginForm().reset(),setTimeout(()=>{this.render.setStyle(i?.nativeElement,"opacity",1)},10))}changeType(e){this.authType.set(e)}doLogin(e){if(e?.preventDefault(),!this.loading()){this.loading.set(!0);let i=this.loginModal();this.auth.login$(i.username,i.password).subscribe(n=>{n!=null&&this.successfulAuth(n)}).add(()=>this.loading.set(!1))}}doLogout(e){e?.preventDefault(),this.loading()||(this.loading.set(!0),this.auth.logout$().subscribe(i=>{this.storage.clearToken(),this.storage.clearUser(),this.notifService.notify({type:"good",header:"Logged Out",body:"Come back soon!"},4e3),this.close({},!0)}).add(()=>this.loading.set(!1)))}doRegister(e){if(e?.preventDefault(),!this.loading()){this.loading.set(!0);let i=this.registerModal();this.auth.register$(i.username,i.username,i.password).pipe(ke((n,l)=>(n instanceof Mt?this.notifyErrors("Registration Error",n):this.unknownError(),it))).subscribe(n=>{this.successfulAuth(n)}).add(()=>this.loading.set(!1))}}notifyErrors(e,i){this.notifService.notify({type:"bad",header:e,body:`${i.message}`},5e3)}successfulAuth(e){this.storage.storeToken(e.token),this.authType()==="LOGIN"?this.notifService.notify({type:"good",header:`Welcome back ${e.user.displayName}`,body:"Successfully logged in"},4e3):this.notifService.notify({type:"good",header:`Welcome ${e.user.displayName}`,body:"Successfully registered"},4e3),this.storage.storeUser(e.user),console.log(e),this.close(e,!0)}unknownError(){this.notifService.notify({type:"bad",header:"Unknown Erro",body:"Something didn't work right, sorry!"},5e3)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["auth-popup"]],viewQuery:function(i,n){i&1&&ee(n.loginPopup,Hc,5)(n.logoutPopup,$c,5)(n.registerPopup,jc,5),i&2&&te(3)},inputs:{authType:[1,"authType"]},outputs:{authType:"authTypeChange"},features:[q],decls:4,vars:1,consts:[["loginPopup",""],["registerPopup",""],["logoutPopup",""],[1,"popup-backdrop",3,"click"],[1,"popup","auth-popup",3,"width"],[1,"popup","auth-popup","logout",3,"width"],[1,"popup","auth-popup"],[1,"auth-container",3,"submit"],[1,"auth-header"],["type","button","mat-icon-button",""],[1,"loading"],[1,"password-container"],["appearance","outline",1,"search"],["matInput","","placeholder","Username ...",3,"field"],["type","password","matInput","","placeholder","Password ...",3,"field"],[1,"forgot-text"],["type","submit","mat-button","",1,"auth-btn",3,"disabled"],[1,"to-other-text",3,"click"],["type","button","mat-icon-button","",3,"click"],[1,"close-auth"],[1,"loading-backdrop"],[1,"spinner"],["mode","indeterminate"],[1,"form-error-text"],[1,"popup","auth-popup","logout"],["type","submit","mat-button","",1,"auth-btn"]],template:function(i,n){i&1&&(o(0,"div",3),u("click",function(){return n.close()}),a(),_(1,Zc,29,14,"div",4)(2,os,31,16,"div",4)(3,cs,12,4,"div",5)),i&2&&(s(),v(n.authType()=="LOGIN"?1:n.authType()=="REGISTER"?2:n.authType()=="LOGOUT"?3:-1))},dependencies:[V,ei,Jn,Zn,Vt,Rt,Nt,ai,si,ci,ti,Te,Q],styles:[".popup-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(var(--comic-dark),.8);-webkit-backdrop-filter:var(--comic-filter-blur);backdrop-filter:var(--comic-filter-blur);z-index:200}.popup[_ngcontent-%COMP%]{display:flex;position:fixed;top:3rem;left:50%;transform:translate(-50%);width:25rem;max-width:100vw;min-height:25rem;margin:auto;opacity:0;border:1px solid rgb(var(--comic-dark));border-radius:6px;background-color:rgba(var(--comic-medium));text-align:center;z-index:201;transition:opacity .25s ease-in-out}.auth-popup[_ngcontent-%COMP%]{z-index:201}.auth-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;width:100%;padding:1rem}.auth-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline}.close-auth[_ngcontent-%COMP%]{display:flex;color:rgb(var(--comic-text-color))}.close-auth[_ngcontent-%COMP%]:hover{color:#fff;scale:1.01}.password-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.forgot-text[_ngcontent-%COMP%]:hover{cursor:pointer}.auth-btn[_ngcontent-%COMP%]{color:rgb(var(--comic-dark));margin-top:auto;border-radius:4px;background-color:#87cefa}.form-error[_ngcontent-%COMP%]{background-color:rgb(var(--comic-error))}.form-error-text[_ngcontent-%COMP%]{color:rgb(var(--comic-error))}.to-other-text[_ngcontent-%COMP%]{color:#87cefa}.to-other-text[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.8}.loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;width:100%;height:100%}.spinner[_ngcontent-%COMP%]{position:relative;margin:auto;z-index:2}"]})}}return t})();var vt=(t,c)=>c.category.id;function ss(t,c){if(t&1){let e=P();o(0,"label",4),u("contextmenu",function(n){h(e);let l=d().$implicit,m=d(3);return f(m.switchState(l,n))}),o(1,"span"),r(2),a(),o(3,"input",5),u("click",function(){h(e);let n=d().$implicit,l=d(3);return f(l.switchState(n))}),a(),o(4,"span",6)(5,"mat-icon",7),r(6,"check"),a()()()}if(t&2){let e=d().$implicit;k("included",e.selection==!0)("excluded",e.selection==!1),p("title",e.category.name),s(2),C(e.category.name),s(),p("name",e.category.name)("indeterminate",e.selection==null)("value",e.selection),s(2),p("hidden",e.selection==null)}}function ls(t,c){if(t&1&&_(0,ss,7,10,"label",3),t&2){let e=c.$implicit,i=d(3);v(i.matching.has(e.category.id)?0:-1)}}function ds(t,c){if(t&1&&S(0,ls,1,1,null,null,vt),t&2){let e=d(2);O(e.genres())}}function ms(t,c){if(t&1){let e=P();o(0,"label",4),u("contextmenu",function(n){let l=h(e).$implicit,m=d(3);return f(m.switchState(l,n))}),o(1,"span"),r(2),a(),o(3,"input",5),u("click",function(){let n=h(e).$implicit,l=d(3);return f(l.switchState(n))}),a(),o(4,"span",6)(5,"mat-icon",7),r(6,"check"),a()()()}if(t&2){let e=c.$implicit;k("included",e.selection==!0)("excluded",e.selection==!1),p("title",e.category.name),s(2),C(e.category.name),s(),p("name",e.category.name)("indeterminate",e.selection==null)("value",e.selection),s(2),p("hidden",e.selection==null)}}function ps(t,c){if(t&1&&S(0,ms,7,10,"label",3,vt),t&2){let e=d(2);O(e.genres())}}function gs(t,c){if(t&1&&(o(0,"div",1),r(1,"Genres"),a(),o(2,"div",2),_(3,ds,2,0)(4,ps,2,0),a()),t&2){let e=d();s(3),v(e.matching.size>0?3:4)}}function us(t,c){if(t&1){let e=P();o(0,"label",4),u("contextmenu",function(n){h(e);let l=d().$implicit,m=d(3);return f(m.switchState(l,n))}),o(1,"span"),r(2),a(),o(3,"input",5),u("click",function(){h(e);let n=d().$implicit,l=d(3);return f(l.switchState(n))}),a(),o(4,"span",6)(5,"mat-icon",7),r(6,"check"),a()()()}if(t&2){let e=d().$implicit;k("included",e.selection==!0)("excluded",e.selection==!1),p("title",e.category.name),s(2),C(e.category.name),s(),p("name",e.category.name)("indeterminate",e.selection==null)("value",e.selection),s(2),p("hidden",e.selection==null)}}function hs(t,c){if(t&1&&_(0,us,7,10,"label",3),t&2){let e=c.$implicit,i=d(3);v(i.matching.has(e.category.id)?0:-1)}}function fs(t,c){if(t&1&&S(0,hs,1,1,null,null,vt),t&2){let e=d(2);O(e.themes())}}function Cs(t,c){if(t&1){let e=P();o(0,"label",4),u("contextmenu",function(n){let l=h(e).$implicit,m=d(3);return f(m.switchState(l,n))}),o(1,"span"),r(2),a(),o(3,"input",5),u("click",function(){let n=h(e).$implicit,l=d(3);return f(l.switchState(n))}),a(),o(4,"span",6)(5,"mat-icon",7),r(6,"check"),a()()()}if(t&2){let e=c.$implicit;k("included",e.selection==!0)("excluded",e.selection==!1),p("title",e.category.name),s(2),C(e.category.name),s(),p("name",e.category.name)("indeterminate",e.selection==null)("value",e.selection),s(2),p("hidden",e.selection==null)}}function _s(t,c){if(t&1&&S(0,Cs,7,10,"label",3,vt),t&2){let e=d(2);O(e.themes())}}function vs(t,c){if(t&1&&(o(0,"div",1),r(1,"Themes"),a(),o(2,"div",8),_(3,fs,2,0)(4,_s,2,0),a()),t&2){let e=d();s(3),v(e.matching.size>0?3:4)}}function bs(t,c){if(t&1){let e=P();o(0,"label",4),u("contextmenu",function(n){h(e);let l=d().$implicit,m=d(3);return f(m.switchState(l,n))}),o(1,"span"),r(2),a(),o(3,"input",5),u("click",function(){h(e);let n=d().$implicit,l=d(3);return f(l.switchState(n))}),a(),o(4,"span",6)(5,"mat-icon",7),r(6,"check"),a()()()}if(t&2){let e=d().$implicit;k("included",e.selection==!0)("excluded",e.selection==!1),p("title",e.category.name),s(2),C(e.category.name),s(),p("name",e.category.name)("indeterminate",e.selection==null)("value",e.selection),s(2),p("hidden",e.selection==null)}}function xs(t,c){if(t&1&&_(0,bs,7,10,"label",3),t&2){let e=c.$implicit,i=d(3);v(i.matching.has(e.category.id)?0:-1)}}function ys(t,c){if(t&1&&S(0,xs,1,1,null,null,vt),t&2){let e=d(2);O(e.tags())}}function ws(t,c){if(t&1){let e=P();o(0,"label",4),u("contextmenu",function(n){let l=h(e).$implicit,m=d(3);return f(m.switchState(l,n))}),o(1,"span"),r(2),a(),o(3,"input",5),u("click",function(){let n=h(e).$implicit,l=d(3);return f(l.switchState(n))}),a(),o(4,"span",6)(5,"mat-icon",7),r(6,"check"),a()()()}if(t&2){let e=c.$implicit;k("included",e.selection==!0)("excluded",e.selection==!1),p("title",e.category.name),s(2),C(e.category.name),s(),p("name",e.category.name)("indeterminate",e.selection==null)("value",e.selection),s(2),p("hidden",e.selection==null)}}function Ms(t,c){if(t&1&&S(0,ws,7,10,"label",3,vt),t&2){let e=d(2);O(e.tags())}}function Ps(t,c){if(t&1&&(o(0,"div",1),r(1,"Tags"),a(),o(2,"div",8),_(3,ys,2,0)(4,Ms,2,0),a()),t&2){let e=d();s(3),v(e.matching.size>0?3:4)}}var _o=(()=>{class t{constructor(){this.storage=y(fe),this.search=I(""),this.types=I(["GENRE","THEME"]),this.selections=se([]),this.genres=N(()=>this.initCategories("GENRE")),this.themes=N(()=>this.initCategories("THEME")),this.tags=N(()=>this.initCategories("TAG")),this.displayGenres=N(()=>this.types().includes("GENRE")),this.displayThemes=N(()=>this.types().includes("THEME")),this.displayTags=N(()=>this.types().includes("TAG")),this.matching=new Map,ne(()=>{let e=this.search();if(!/[\S+]/.test(e)){this.matching.clear();return}this.storage.comicData().categories.forEach(i=>{i.name.toLowerCase().includes(e.toLowerCase())?this.matching.set(i.id,!0):this.matching.delete(i.id)})})}ngOnInit(){}initCategories(e){if(!this.types().includes(e))return[];let i=this.selections()||[],n=this.storage.comicData().categories.filter(l=>l.type==e).map(l=>({category:l,selection:void 0}));for(let l of i){let m=n.findIndex(w=>w.category.id==l.category.id);m>-1&&(n[m]=l)}return n}switchState(e,i){let n=e.selection;i&&i.button==2?(i.preventDefault(),n==null?e.selection=!1:n?e.selection=void 0:n||(e.selection=!0)):n==null?e.selection=!0:n?e.selection=!1:n||(e.selection=void 0);let l=[...this.genres(),...this.themes(),...this.tags()].filter(m=>m.selection!=null);this.selections.update(m=>{let w=m?[...m]:[];for(let F of l){let z=w.findIndex(ge=>ge.category.id==F.category.id);z<0?w.push(F):w[z]=F}return w})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["category-select"]],inputs:{search:[1,"search"],types:[1,"types"],selections:[1,"selections"]},outputs:{selections:"selectionsChange"},decls:4,vars:3,consts:[[1,"category-select"],[1,"category-header"],[1,"genres"],[1,"category",3,"title","included","excluded"],[1,"category",3,"contextmenu","title"],["type","checkbox",1,"category-toggle",3,"click","name","indeterminate","value"],[1,"checkbox"],[1,"checkmark",3,"hidden"],[1,"themes"]],template:function(i,n){i&1&&(o(0,"div",0),_(1,gs,5,1),_(2,vs,5,1),_(3,Ps,5,1),a()),i&2&&(s(),v(n.displayGenres()?1:-1),s(),v(n.displayThemes()?2:-1),s(),v(n.displayTags()?3:-1))},dependencies:[V],styles:[".category-select[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:.5rem;font-size:.75rem;border:2px dotted rgb(var(--comic-dark))}.category-header[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:700;letter-spacing:.5px}.genres[_ngcontent-%COMP%], .themes[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(125px,1fr));gap:.25rem .5rem}.category[_ngcontent-%COMP%]{position:relative;display:block;padding:.25rem 0rem .25rem 1.5rem;text-wrap:nowrap;white-space:nowrap;text-overflow:ellipsis;border-radius:4px;overflow:hidden}.category.included[_ngcontent-%COMP%]{font-weight:700}.category.excluded[_ngcontent-%COMP%]{text-decoration:line-through}.category[_ngcontent-%COMP%]:hover{color:#fff;background-color:rgba(var(--comic-dark),.5)}.category-toggle[_ngcontent-%COMP%]{cursor:pointer;position:absolute;width:0px;height:0px;opacity:0;pointer-events:none}.checkbox[_ngcontent-%COMP%]{display:flex;position:absolute;top:50%;left:.25rem;height:1rem;width:1rem;border-radius:4px;background-color:#eee;transform:translateY(-50%);overflow:hidden}.checkmark[_ngcontent-%COMP%]{font-size:1rem}.category.included[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background-color:#1e90ff}.category.excluded[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background-color:red}"],changeDetection:0})}}return t})();var Ss=["filterPopup"],Os=["categoryInputbar"],ks=["tagInputbar"],Es=()=>["TAG"],vo=(t,c)=>c.category.id;function Ts(t,c){if(t&1){let e=P();o(0,"div",51),u("click",function(){let n=h(e).$implicit,l=d();return f(l.removeSelection(n))}),o(1,"mat-icon",52),r(2,"clear"),a(),o(3,"span"),r(4),a()()}if(t&2){let e=c.$implicit;k("genre",e.category.type=="GENRE")("theme",e.category.type=="THEME")("excluded",e.selection==!1),s(4),C(e.category.name)}}function Is(t,c){if(t&1){let e=P();o(0,"div",53),u("click",function(){let n=h(e).$implicit,l=d();return f(l.removeSelection(n))}),o(1,"mat-icon",52),r(2,"clear"),a(),o(3,"span"),r(4),a()()}if(t&2){let e=c.$implicit;k("excluded",e.selection==!1),s(4),C(e.category.name)}}function Fs(t,c){if(t&1&&(o(0,"label",47)(1,"span"),r(2),a(),g(3,"input",48),D(),o(4,"span",49)(5,"mat-icon",50),r(6,"check"),a()()()),t&2){let e=c.$implicit,i=c.$index,n=d();k("included",n.comicTypes()[i].selection==!0),s(2),C(n.comicTypes()[i].category.name.toLowerCase()),s(),A(e.selection),s(2),p("hidden",!n.comicTypes()[i].selection)}}function Ds(t,c){if(t&1&&(o(0,"label",47)(1,"span"),r(2),a(),g(3,"input",48),D(),o(4,"span",49)(5,"mat-icon",50),r(6,"check"),a()()()),t&2){let e=c.$implicit,i=c.$index,n=d();k("included",n.demographics()[i].selection==!0),s(2),C(n.demographics()[i].category.name.toLowerCase()),s(),A(e.selection),s(2),p("hidden",!n.demographics()[i].selection)}}var bo=(()=>{class t extends _t{constructor(){super(),this.session=y(B),this.storage=y(fe),this.popup=G.required("filterPopup"),this.initialFilters=I(j.emptyFilter()),this.filters=N(()=>this.collectFilters()),this.filtersForm=H(this.filters),this.categoryInputBar=G.required("categoryInputbar"),this.category=E(""),this.categoryForm=H(this.category),this.showCategorySelect=E(!1),this.tagInputBar=G.required("tagInputbar"),this.tag=E(""),this.tagForm=H(this.tag),this.showTagSelect=E(!1),this.selectedCategories=N(()=>this.initSelectedCategories()),this.selectedGenresAndThemes=T(()=>this.selectedCategories().filter(e=>e.category.type=="GENRE"||e.category.type=="THEME")),this.selectedTags=T(()=>this.selectedCategories().filter(e=>e.category.type=="TAG")),this.demographics=N(()=>this.initDemographics()),this.demographicsForm=H(this.demographics),this.comicTypes=N(()=>this.initComicTypes()),this.comicTypesForm=H(this.comicTypes)}ngAfterViewChecked(){setTimeout(()=>{this.render.setStyle(this.popup().nativeElement,"opacity",1)},10)}onClick(e){let i=this.showCategorySelect(),n=this.showTagSelect();if(!i&&!n)return;let l=this.categoryInputBar().nativeElement.contains(e.target),m=this.tagInputBar().nativeElement.contains(e.target);l||this.showCategorySelect.set(!1),m||this.showTagSelect.set(!1)}sendFilters(){let e=this.filters();this.close(e)}collectFilters(){let e=R(R({},j.emptyFilter()),structuredClone(this.initialFilters())),i=this.comicTypes(),n=this.demographics(),l=[],m=[];for(let z of this.selectedCategories())z.selection==!0?l.push(z.category.id):z.selection==!1&&m.push(z.category.id);let w=i.filter(z=>z.selection==!1).map(z=>z.category.id);w.length!=i.length&&m.push(...w);let F=n.filter(z=>z.selection==!1).map(z=>z.category.id);return F.length!=n.length&&m.push(...F),$(R({},e),{categories:l,excludedCategories:m})}showCategories(e=!0,i){i||this.showCategorySelect.set(e),i&&this.showTagSelect.set(e)}removeSelection(e){e.selection=void 0,this.selectedCategories.update(i=>i.filter(n=>n.category.id!=e.category.id))}initDemographics(){let e=this.storage.comicData().demographics,i=this.initialFilters().excludedCategories.filter(n=>e.find(l=>l.id==n));return i.length>0?e.map(n=>{let l=!i.find(w=>w==n.id);return{category:n,selection:l}}):e.map(n=>({category:n,selection:!1}))}initComicTypes(){let e=this.storage.comicData().comicTypes,i=this.initialFilters().excludedCategories.filter(n=>e.find(l=>l.id==n));return i.length>0?e.map(n=>{let l=!i.find(w=>w==n.id);return{category:n,selection:l}}):e.map(n=>({category:n,selection:!1}))}initCategories(){return this.storage.comicData().categories.map(e=>({category:e,selection:!1}))}initSelectedCategories(){let e=this.storage.comicData(),i=[...e.comicTypes,...e.demographics,...e.categories],n=this.initialFilters();if(!n)return[];let l=n.categories.map(w=>i.find(F=>F.id==w)).filter(w=>w!=null).filter(w=>w.type!="DEMOGRAPHIC"&&w.type!="TYPE").map(w=>({category:w,selection:!0})),m=n.excludedCategories.map(w=>i.find(F=>F.id==w)).filter(w=>w!=null).filter(w=>w.type!="DEMOGRAPHIC"&&w.type!="TYPE").map(w=>({category:w,selection:!1}));return[...l,...m]}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["filter-popup"]],viewQuery:function(i,n){i&1&&ee(n.popup,Ss,5)(n.categoryInputBar,Os,5)(n.tagInputBar,ks,5),i&2&&te(3)},hostBindings:function(i,n){i&1&&u("click",function(m){return n.onClick(m)})},inputs:{initialFilters:[1,"initialFilters"]},features:[q],decls:138,vars:33,consts:[["filterPopup",""],["categoryInputbar",""],["categorySelect",""],["tagInputbar",""],["tagSelect",""],[1,"popup-backdrop",3,"click"],[1,"popup","filter-popup"],[1,"filter-header"],[1,"filter-sections"],[1,"filter-section"],[1,"section-name"],[1,"filter"],[1,"input-bar"],["placeholder","Search Genres",1,"filter-input",3,"focus","field"],["type","button",1,"input-btn",3,"click"],[1,"input-icon"],[1,"category-select"],[3,"selectionsChange","search","selections"],[1,"selected-categories"],[1,"selected-category",3,"genre","theme","excluded"],[1,"category-select","tag"],[3,"selectionsChange","search","types","selections"],[1,"selected-category","tag",3,"excluded"],[1,"demographics"],[1,"simple-on-off",3,"included"],["type","number","placeholder","Chapters",1,"filter-input",3,"field"],[1,"filter-input","filter-select",3,"field"],["value",""],["value","FINISHED"],["value","ONGOING"],["value","HIATUS"],["value","CANCELLED"],[1,"input-prefix","from"],["placeholder","Year",1,"filter-input","year-input","from",3,"field"],["type","button",1,"input-btn"],[1,"input-prefix","to"],["placeholder","Year",1,"filter-input","year-input","to",3,"field"],["value","3d"],["value","7d"],["value","2w"],["value","1m"],["value","3m"],["value","6m"],["value","SAFE"],["value","SUGGESTIVE"],["value","MATURE"],[1,"extra-filters"],[1,"simple-on-off"],["type","checkbox",1,"simple-on-off-toggle",3,"field"],[1,"checkbox"],[1,"checkmark",3,"hidden"],[1,"selected-category",3,"click"],[1,"remove-category"],[1,"selected-category","tag",3,"click"]],template:function(i,n){if(i&1){let l=P();o(0,"div",5),u("click",function(){return h(l),f(n.sendFilters())}),a(),o(1,"div",6,0)(3,"div",7),r(4,"Comic Filters"),a(),o(5,"div",8)(6,"div",9)(7,"span",10),r(8,"Categories"),a(),o(9,"div",11)(10,"div",12,1)(12,"input",13),u("focus",function(){return h(l),f(n.showCategories())}),a(),D(),o(13,"button",14),u("click",function(){return h(l),f(n.category.set(""))}),o(14,"mat-icon",15),r(15,"clear"),a()(),o(16,"div",16,2)(18,"category-select",17),Re("selectionsChange",function(w){return h(l),Ne(n.selectedCategories,w)||(n.selectedCategories=w),f(w)}),a()()(),o(19,"div",18),S(20,Ts,5,7,"div",19,vo),a()()(),o(22,"div",9)(23,"span",10),r(24,"Tags"),a(),o(25,"div",11)(26,"div",12,3)(28,"input",13),u("focus",function(){return h(l),f(n.showCategories(!0,!0))}),a(),D(),o(29,"button",14),u("click",function(){return h(l),f(n.tag.set(""))}),o(30,"mat-icon",15),r(31,"clear"),a()(),o(32,"div",20,4)(34,"category-select",21),Re("selectionsChange",function(w){return h(l),Ne(n.selectedCategories,w)||(n.selectedCategories=w),f(w)}),a()()(),o(35,"div",18),S(36,Is,5,3,"div",22,vo),a()()(),o(38,"div",9)(39,"span",10),r(40,"Comic Type"),a(),o(41,"div",11)(42,"div",23),S(43,Fs,7,6,"label",24,U),a()()(),o(45,"div",9)(46,"span",10),r(47,"Demographics"),a(),o(48,"div",11)(49,"div",23),S(50,Ds,7,6,"label",24,U),a()()(),o(52,"div",9)(53,"span",10),r(54,"Minium Chapters"),a(),o(55,"div",11)(56,"div",12),g(57,"input",25),D(),a()()(),o(58,"div",9)(59,"span",10),r(60,"Status"),a(),o(61,"div",11)(62,"div",12)(63,"select",26)(64,"option",27),r(65,"Any"),a(),o(66,"option",28),r(67,"Completed"),a(),o(68,"option",29),r(69,"Ongoing"),a(),o(70,"option",30),r(71,"Hiatus"),a(),o(72,"option",31),r(73,"Cancelled"),a()(),D(),a()()(),o(74,"div",9)(75,"span",10),r(76,"Released"),a(),o(77,"div",11)(78,"div",12)(79,"span",32),r(80,"From:"),a(),g(81,"input",33),D(),o(82,"button",34)(83,"mat-icon",15),r(84,"clear"),a()()(),o(85,"div",12)(86,"span",35),r(87,"To:"),a(),g(88,"input",36),D(),o(89,"button",34)(90,"mat-icon",15),r(91,"clear"),a()()()()(),o(92,"div",9)(93,"span",10),r(94,"Last Updated"),a(),o(95,"div",11)(96,"div",12)(97,"select",26)(98,"option",27),r(99,"Any"),a(),o(100,"option",37),r(101,"3 Days Ago"),a(),o(102,"option",38),r(103,"7 Days Ago"),a(),o(104,"option",39),r(105,"2 Weeks Ago"),a(),o(106,"option",40),r(107,"1 Month Ago"),a(),o(108,"option",41),r(109,"3 Month Ago"),a(),o(110,"option",42),r(111,"6 Month Ago"),a()(),D(),a()()(),o(112,"div",9)(113,"span",10),r(114,"Content Rating"),a(),o(115,"div",11)(116,"div",12)(117,"select",26)(118,"option",27),r(119,"Any"),a(),o(120,"option",43),r(121,"Safe"),a(),o(122,"option",44),r(123,"Suggestive"),a(),o(124,"option",45),r(125,"Erotica"),a()(),D(),a()()(),o(126,"div",9)(127,"span",10),r(128,"Extra"),a(),o(129,"div",11)(130,"div",46)(131,"label",47)(132,"span"),r(133,"Include Followed Comics"),a(),g(134,"input",48),D(),o(135,"span",49)(136,"mat-icon",50),r(137,"check"),a()()()()()()()()}i&2&&(s(),me("width",n.width()),s(11),A(n.categoryForm),s(4),k("hidden",!n.showCategorySelect()),s(2),p("search",n.category()),Le("selections",n.selectedCategories),s(2),O(n.selectedGenresAndThemes()),s(8),A(n.tagForm),s(4),k("hidden",!n.showTagSelect()),s(2),p("search",n.tag())("types",ae(32,Es)),Le("selections",n.selectedCategories),s(2),O(n.selectedTags()),s(7),O(n.comicTypesForm),s(7),O(n.demographicsForm),s(7),A(n.filtersForm.chapters),s(6),A(n.filtersForm.status),s(18),A(n.filtersForm.releasedFrom),s(7),A(n.filtersForm.releasedTo),s(9),A(n.filtersForm.lastUpdated),s(20),A(n.filtersForm.lastUpdated),s(14),k("included",n.filters().includeFollowing==!0),s(3),A(n.filtersForm.includeFollowing),s(2),p("hidden",!n.filters().includeFollowing))},dependencies:[V,Q,_o],styles:[".popup-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(var(--comic-dark),.8);-webkit-backdrop-filter:var(--comic-filter-blur);backdrop-filter:var(--comic-filter-blur);z-index:200}.popup[_ngcontent-%COMP%]{display:flex;position:fixed;top:3rem;left:50%;transform:translate(-50%);width:25rem;max-width:100vw;min-height:25rem;margin:auto;opacity:0;border:1px solid rgb(var(--comic-dark));border-radius:6px;background-color:rgba(var(--comic-medium));text-align:center;z-index:201;transition:opacity .25s ease-in-out}.filter-popup[_ngcontent-%COMP%]{top:50%;transform:translate3d(-50%,-50%,0);display:flex;flex-direction:column;width:unset!important;min-width:70vw;height:100%;height:fit-content;max-height:80vh;overflow-y:auto;background-color:rgb(var(--comic-dark))}.filter-header[_ngcontent-%COMP%]{font-size:1.2rem}.filter-sections[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:.25rem;padding:.25rem;width:100%;height:fit-content}.filter-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:start;gap:.25rem;padding:.5rem;border-radius:4px;background-color:rgb(var(--comic-medium))}.section-name[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px}.filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;width:100%}.input-bar[_ngcontent-%COMP%]{position:relative;border-radius:4px;background-color:rgb(var(--comic-light-ex));overflow:hidden}.filter-input[_ngcontent-%COMP%]{color:rgb(var(--comic-text-color));width:100%;padding:.25rem;border:none;border-radius:4px;background-color:transparent}.input-btn[_ngcontent-%COMP%]{position:absolute;top:50%;right:.15rem;transform:translateY(-50%);height:1.5rem;padding:0rem;color:rgb(var(--comic-text-color));border:none;background-color:transparent}.input-icon[_ngcontent-%COMP%]:hover{color:#fff;background-color:rgb(var(--comic-light))}.category-select[_ngcontent-%COMP%]{position:fixed;width:80%;max-height:70%;text-align:start;overflow-y:scroll;scrollbar-color:rgb(var(--comic-dark)) rgb(var(--comic-light));border:1px solid rgb(var(--comic-light-ex));border-radius:4px;background-color:rgb(var(--comic-dark));z-index:999}.category-select.tag[_ngcontent-%COMP%]{right:.75rem}.category-select.hidden[_ngcontent-%COMP%]{visibility:hidden}.selected-categories[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.5rem}.selected-category[_ngcontent-%COMP%]{cursor:pointer;display:flex;flex-flow:row nowrap;align-items:center;gap:.25rem;padding:.15rem;font-size:.8rem;border-radius:4px}.selected-category[_ngcontent-%COMP%]:hover{opacity:.8}.selected-category.genre[_ngcontent-%COMP%]{background-color:rgb(var(--genre-color))}.selected-category.theme[_ngcontent-%COMP%]{background-color:rgb(var(--theme-color))}.selected-category.tag[_ngcontent-%COMP%]{background-color:rgb(var(--tag-color))}.selected-category.excluded[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-decoration:line-through}.remove-category[_ngcontent-%COMP%]{display:flex;font-size:.8rem;width:.8rem;height:.8rem}.tag-search[_ngcontent-%COMP%]{width:100%;background-color:rgb(var(--comic-light-ex))}.demographics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(4rem,1fr));gap:.25rem .5rem;font-size:.85rem}.simple-on-off[_ngcontent-%COMP%]{position:relative;display:block;padding:.25rem 0rem .25rem 1.25rem;border-radius:4px;text-align:start}.simple-on-off.included[_ngcontent-%COMP%]{font-weight:700}.simple-on-off[_ngcontent-%COMP%]:hover{color:#fff;background-color:rgba(var(--comic-dark),.5)}.simple-on-off[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:capitalize}.simple-on-off-toggle[_ngcontent-%COMP%]{cursor:pointer;position:absolute;width:0px;height:0px;opacity:0;pointer-events:none}.checkbox[_ngcontent-%COMP%]{display:flex;position:absolute;top:50%;left:.25rem;height:.85rem;width:.85rem;border-radius:4px;background-color:#eee;transform:translateY(-50%);overflow:hidden}.checkmark[_ngcontent-%COMP%]{font-size:.85rem}.simple-on-off.included[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background-color:#1e90ff}.simple-on-off.excluded[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background-color:red}.input-prefix[_ngcontent-%COMP%]{position:absolute;top:50%;left:.25rem;transform:translateY(-50%);pointer-events:none}.input-prefix.from[_ngcontent-%COMP%], .input-prefix.to[_ngcontent-%COMP%]{left:0rem;height:100%;width:3rem;padding:.25rem;opacity:.6;background-color:rgba(var(--comic-dark))}.year-input[_ngcontent-%COMP%]{padding-left:3.25rem}.filter-select[_ngcontent-%COMP%]{width:100%}.filter-select[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{background-color:rgba(var(--comic-dark))}@media(max-width:720px){.filter-sections[_ngcontent-%COMP%]{grid-template-columns:1fr}}.simple-on-off.reversed[_ngcontent-%COMP%]{font-weight:700}.simple-on-off.reversed.included[_ngcontent-%COMP%]{font-weight:unset}.checkbox.reversed[_ngcontent-%COMP%]{display:flex;position:absolute;top:50%;left:.25rem;height:.85rem;width:.85rem;border-radius:4px;background-color:#eee;transform:translateY(-50%);overflow:hidden}.checkmark.reversed[_ngcontent-%COMP%]{font-size:.85rem}.simple-on-off.reversed.included[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background-color:#1e90ff}.simple-on-off.reversed.excluded[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background-color:red}"],changeDetection:0})}}return t})();var As=["confirmPopup"];function Ls(t,c){if(t&1){let e=P();o(0,"button",7),u("click",function(){h(e);let n=d();return f(n.confirm())}),r(1),a()}if(t&2){let e=d();s(),K(" ",e.confirmButton()||"Confirm"," ")}}function Ns(t,c){if(t&1&&(g(0,"input",8,1),D()),t&2){let e=d(2);A(e.confirmationForm),p("placeholder",e.confirmHint()||"Confirm")}}function Rs(t,c){if(t&1){let e=P();_(0,Ns,2,3,"input",8),o(1,"div",9)(2,"button",7),u("click",function(){h(e);let n=d();return f(n.cancel())}),r(3,"Cancel"),a(),o(4,"button",10),u("click",function(){h(e);let n=d();return f(n.confirm())}),r(5),a()()}if(t&2){let e=d();v(e.confirmTest()?0:-1),s(4),k("disabled",!e.validConfirm()),p("disabled",!e.validConfirm()),s(),K(" ",e.confirmButton()||"Confirm"," ")}}var xo=(()=>{class t extends _t{constructor(){super(),this.isNotify=I(),this.confirmText=I.required(),this.confirmTest=I(),this.confirmHint=I(),this.confirmButton=I(),this.confirmPopup=G.required("confirmPopup"),this.confirmationInput=E(""),this.confirmationForm=H(this.confirmationInput)}validConfirm(){return this.confirmTest()?this.confirmationInput()==this.confirmTest():!0}confirm(){this.isNotify()&&(this.onClose.emit(!1),this.popupService.closePopup(this.id())),this.close(!0,!0)}cancel(){this.onClose.emit(!1),this.popupService.closePopup(this.id())}ngAfterViewChecked(){setTimeout(()=>{this.render.setStyle(this.confirmPopup().nativeElement,"opacity",1)},10)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["confirm-popup"]],viewQuery:function(i,n){i&1&&ee(n.confirmPopup,As,5),i&2&&te()},inputs:{isNotify:[1,"isNotify"],confirmText:[1,"confirmText"],confirmTest:[1,"confirmTest"],confirmHint:[1,"confirmHint"],confirmButton:[1,"confirmButton"]},features:[q],decls:8,vars:4,consts:[["confirmPopup",""],["confirmationInput",""],[1,"popup-backdrop",3,"click"],[1,"popup","confirm-popup"],[1,"confirm-form"],[1,"confirm"],["type","submit",1,"confirm-popup-btn"],["type","submit",1,"confirm-popup-btn",3,"click"],[1,"confirm-input",3,"field","placeholder"],[1,"btn-row"],["type","submit",1,"confirm-popup-btn",3,"click","disabled"]],template:function(i,n){if(i&1){let l=P();o(0,"div",2),u("click",function(){return h(l),f(n.close())}),a(),o(1,"div",3,0)(3,"div",4)(4,"div",5),r(5),a(),_(6,Ls,2,1,"button",6)(7,Rs,6,5),a()()}i&2&&(s(),me("width",n.width()),s(4),C(n.confirmText()),s(),v(n.isNotify()?6:7))},dependencies:[Q],styles:[".popup-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:rgba(var(--comic-dark),.8);-webkit-backdrop-filter:var(--comic-filter-blur);backdrop-filter:var(--comic-filter-blur);z-index:200}.popup[_ngcontent-%COMP%]{display:flex;position:fixed;top:3rem;left:50%;transform:translate(-50%);width:25rem;max-width:100vw;min-height:25rem;margin:auto;opacity:0;border:1px solid rgb(var(--comic-dark));border-radius:6px;background-color:rgba(var(--comic-medium));text-align:center;z-index:201;transition:opacity .25s ease-in-out}.confirm-popup[_ngcontent-%COMP%]{top:20%;min-height:unset}.confirm-form[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;gap:2rem;height:fit-content;padding:2rem}.confirm[_ngcontent-%COMP%]{font-size:1.2rem}.confirm-input[_ngcontent-%COMP%]{width:100%;height:2rem;color:rgb(var(--comic-text-color));text-align:center;border:none;border-radius:4px;background-color:rgb(var(--comic-dark))}.btn-row[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-between;gap:1rem;width:100%}.confirm-popup-btn[_ngcontent-%COMP%]{padding:.5rem;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:rgb(var(--comic-dark))}.confirm-popup-btn[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-light-ex))}.confirm-popup-btn.disabled[_ngcontent-%COMP%]{opacity:.6}.confirm-popup-btn.disabled[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-dark))!important}"]})}}return t})();var Vs=(t,c)=>c.id;function zs(t,c){if(t&1){let e=P();o(0,"auth-popup",4),u("onClose",function(n){h(e);let l=d().$implicit;return f(l.data.onClose(n))}),a()}if(t&2){let e=d().$implicit;p("id",e.id)("authType",e.data.authType)("width",e.data.width)("closable",e.data.closable)}}function qs(t,c){if(t&1){let e=P();o(0,"filter-popup",5),u("onClose",function(n){h(e);let l=d().$implicit;return f(l.data.onClose(n))}),a()}if(t&2){let e=d().$implicit;p("id",e.id)("initialFilters",e.data.initialFilters)("width",e.data.width)("closable",e.data.closable)}}function Us(t,c){if(t&1){let e=P();o(0,"confirm-popup",6),u("onClose",function(n){h(e);let l=d().$implicit;return f(l.data.onClose(n))}),a()}if(t&2){let e=d().$implicit;p("id",e.id)("isNotify",e.data.isNotify)("confirmText",e.data.confirmText)("confirmTest",e.data.confirmTest)("confirmHint",e.data.confirmHint)("confirmButton",e.data.confirmButton)("width",e.data.width)("closable",e.data.closable)}}function Hs(t,c){if(t&1&&_(0,zs,1,4,"auth-popup",1)(1,qs,1,4,"filter-popup",2)(2,Us,1,8,"confirm-popup",3),t&2){let e=c.$implicit;v(e.type=="AUTH"?0:e.type=="FILTER"?1:e.type=="CONFIRM"?2:-1)}}var yo=(()=>{class t{constructor(){this.popupService=y(xe),this.popups=this.popupService.popups$}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["popup-handler"]],decls:3,vars:0,consts:[[1,"popup-handler"],[3,"id","authType","width","closable"],[3,"id","initialFilters","width","closable"],[3,"id","isNotify","confirmText","confirmTest","confirmHint","confirmButton","width","closable"],[3,"onClose","id","authType","width","closable"],[3,"onClose","id","initialFilters","width","closable"],[3,"onClose","id","isNotify","confirmText","confirmTest","confirmHint","confirmButton","width","closable"]],template:function(i,n){i&1&&(o(0,"div",0),S(1,Hs,3,1,null,null,Vs),a()),i&2&&(s(),O(n.popups()))},dependencies:[Co,bo,xo],encapsulation:2})}}return t})();var wo=(()=>{class t{constructor(){this.storage=y(fe),this.comicData=I.required(),this.subtitle=E("Index"),this.showSideBar=E(!1),ne(()=>{let e=this.comicData();console.log(e),this.storage.storeComicData(e)})}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic-index"]],inputs:{comicData:[1,"comicData"]},decls:11,vars:4,consts:[["index",""],["contentBox",""],["id","comic-index"],[3,"isShownChange","isShown"],[3,"showSideBarChange","title","subtitle","showSideBar"],[1,"content"],[1,"content-content"]],template:function(i,n){if(i&1){let l=P();o(0,"div",2,0)(2,"comic-side-bar",3),Re("isShownChange",function(w){return h(l),Ne(n.showSideBar,w)||(n.showSideBar=w),f(w)}),a(),g(3,"div"),o(4,"comic-nav",4),Re("showSideBarChange",function(w){return h(l),Ne(n.showSideBar,w)||(n.showSideBar=w),f(w)}),a(),o(5,"div",5,1)(7,"div",6),g(8,"router-outlet"),a()(),g(9,"notifications")(10,"popup-handler"),a()}i&2&&(s(2),Le("isShown",n.showSideBar),s(2),p("title","Comic")("subtitle",n.subtitle()),Le("showSideBar",n.showSideBar))},dependencies:[uo,X,Xn,fo,nn,yo],styles:["#comic-index[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;align-items:center;justify-content:center;min-height:100%;color:rgb(var(--comic-text-color));background-color:rgb(var(--comic-medium))}.content[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;min-width:0;max-width:var(--comic-content-max-width);min-height:calc(100vh - var(--comic-top-nav-height));margin-top:var(--comic-top-nav-height);transition:margin-left .25s ease-in-out,max-width .25s ease-in-out}.content-content[_ngcontent-%COMP%]{height:100%;width:100%}comic-nav[_ngcontent-%COMP%]{position:fixed;top:0;z-index:100;width:100%}comic-side-bar[_ngcontent-%COMP%]{z-index:99}popup-handler[_ngcontent-%COMP%]{position:fixed;z-index:101}@media(max-width:720px){.content[_ngcontent-%COMP%]{margin-left:0}.side-nav[_ngcontent-%COMP%]{opacity:.95}}"]})}}return t})();var on=(()=>{class t{constructor(){this.session=y(B),this.comicService=y(Ce),this.search=E({title:"",sort:"CHAPTER_UPDATE",desc:!0}),this.searchForm=H(this.search,e=>{nt(e.title,500)}),this.filters=N(()=>this.loadFilter()),this.filtersForm=H(this.filters),this.pageRx=pe({params:()=>({user:this.session.user.value(),filters:this.filtersForm().value()}),stream:({params:e})=>this.doSearch(e.user,e.filters),defaultValue:[]}),this.results=E([]),this.lastResult=E(void 0),this.searchEff=ne(()=>{let e=ve(()=>this.filters());e.title=this.searchForm.title().value(),e.sort=this.searchForm.sort().value(),e.desc=this.searchForm.desc().value(),this.filters.set($(R({},e),{cursor:void 0}))})}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["ng-component"]],decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})();var $s=["categories"],js=["status"],Mo=(t,c)=>c.id;function Bs(t,c){if(t&1&&g(0,"div",21),t&2){let e=c.$implicit;me("background-color",e)}}function Ws(t,c){if(t&1&&S(0,Bs,1,2,"div",20,U),t&2){let e=d(2);O(e.marks())}}function Gs(t,c){t&1&&g(0,"div")}function Qs(t,c){if(t&1&&(o(0,"div",18),g(1,"textarea",22),D(),a()),t&2){let e=d(2);s(),A(e.editForm.notes)}}function Ys(t,c){if(t&1&&(o(0,"div",25),r(1),a()),t&2){let e=c.$implicit;s(),C(e.name)}}function Ks(t,c){if(t&1&&(o(0,"div",26),r(1),a()),t&2){let e=c.$implicit;s(),C(e.name)}}function Xs(t,c){if(t&1){let e=P();o(0,"button",32),u("click",function(){h(e);let n=d(3);return f(n.toggleCategoryExpand())}),r(1,"More"),a()}if(t&2){let e=d(3);p("hidden",!e.longCategories())}}function Zs(t,c){if(t&1){let e=P();o(0,"button",32),u("click",function(){h(e);let n=d(3);return f(n.toggleCategoryExpand())}),r(1,"Less"),a()}if(t&2){let e=d(3);p("hidden",!e.longCategories())}}function Js(t,c){if(t&1){let e=P();o(0,"div",18)(1,"div",23,0)(3,"div",24,1),S(5,Ys,2,1,"div",25,Mo),S(7,Ks,2,1,"div",26,Mo),_(9,Xs,2,1,"button",27)(10,Zs,2,1,"button",27),a(),o(11,"div",28)(12,"div",29),r(13,"Chapters"),a(),o(14,"div",30),r(15),a()(),o(16,"div",28)(17,"div",29),r(18,"Status"),a(),o(19,"div",30),r(20),a()()(),o(21,"button",13),u("click",function(){h(e);let n=d(2);return f(n.toggleNotesExpand())}),o(22,"span",31),r(23),a()()()}if(t&2){let e=d(2);s(),k("hidden",e.expandNotes()),s(2),k("shown",e.expandCategories()),s(2),O(e.listEntry().comic.genres),s(2),O(e.listEntry().comic.themes),s(2),v(e.expandCategories()?10:9),s(6),C(e.listEntry().comic.chapters||"?"),s(5),C(e.listEntry().comic.status.toLowerCase()||"?"),s(3),C(e.listEntry().notes)}}function el(t,c){if(t&1){let e=P();o(0,"button",33),u("click",function(){h(e);let n=d(2);return f(n.deleteEntry())}),o(1,"mat-icon"),r(2,"remove_circle"),a()()}}function tl(t,c){if(t&1){let e=P();o(0,"div",2),g(1,"div",4),o(2,"div",5)(3,"div",6),g(4,"comic",3),a(),o(5,"div",7)(6,"div",8)(7,"div",9)(8,"div",10),r(9,"Manga"),a(),o(10,"div",11),Ft(11,Ws,2,0)(12,Gs,1,0),Dt(13,11,null,null,12),At(0,-1),a()(),o(15,"div",12),r(16),a()(),o(17,"button",13),u("click",function(){h(e);let n=d();return f(n.toggleDescriptionExpand())}),g(18,"span",14),a()()(),o(19,"div",15)(20,"button",16),u("click",function(){h(e);let n=d();return f(n.flip())}),o(21,"mat-icon",17),r(22,"undo"),a()(),_(23,Qs,2,2,"div",18)(24,Js,24,8,"div",18),_(25,el,3,0,"button",19),a()()}if(t&2){let e=d();p("doOnChange",e.adjust.bind(e)),s(),p("hidden",!e.hasChanges()),s(3),p("comic",e.listEntry().comic)("display",e.coverOnlyDisplay),s(2),k("hidden",e.expandDescription()),s(10),C(e.listEntry().comic.title),s(2),p("innerHTML",e.listEntry().comic.description,qe),s(),k("shown",e.flipped()),s(2),k("shown",e.flipped()),s(2),v(e.editMode()?23:24),s(2),v(e.editMode()?25:-1)}}function nl(t,c){if(t&1&&g(0,"comic",3),t&2){let e=d();p("comic",e.listEntry().comic)("display",e.coverOnlyDisplay)}}var Po=(()=>{class t{constructor(){this.session=y(B),this.render=y(he),this.comicWidth=150,this.coverOnlyDisplay={position:"none",add:!0,followed:!0,width:`${this.comicWidth}px`,overlay:!0,overlayUpdated:!0},this.hoverDisplay={position:"none",add:!0,followed:!0,width:`${this.comicWidth}px`,description:!0},this.listEntry=I.required(),this.editMode=I(!1),this.coverOnly=I(!1),this.onChange=ce(),this.onDelete=ce(),this.edit=N(()=>structuredClone(this.listEntry())),this.editForm=H(this.edit),this.hasChanges=N(()=>this.checkForChanges()),this.marks=T(()=>j.comicMarks(this.listEntry().comic,this.session.user.value())),this.expandDescription=E(!1),this.expandNotes=E(!1),this.flipped=E(!1),this.longCategories=E(!1),this.expandCategories=E(!1),this.categoriesEle=G.required("categories"),this.statusEle=G.required("status")}ngOnInit(){}adjust(){if(!this.editMode()){let e=this.categoriesEle().nativeElement;e.scrollHeight>e.clientHeight?this.longCategories.set(!0):this.longCategories.set(!1)}}toggleDescriptionExpand(){this.expandDescription.set(!this.expandDescription())}toggleNotesExpand(){this.expandNotes.set(!this.expandNotes())}flip(){this.flipped.set(!this.flipped())}toggleCategoryExpand(){let e=this.categoriesEle().nativeElement,i=this.statusEle().nativeElement,n=this.expandCategories();n?(this.render.removeStyle(e,"height"),this.render.removeStyle(i,"height")):(this.render.setStyle(i,"height",`${81+(e.scrollHeight-e.clientHeight)}px`),this.render.setStyle(e,"height",`${e.scrollHeight}px`)),this.expandCategories.set(!n)}saveEntry(){this.onChange.emit(this.edit())}deleteEntry(){this.onDelete.emit(this.edit())}checkForChanges(){let e=this.listEntry();return this.edit().notes!=e.notes?(this.onChange.emit(this.edit()),!0):!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["list-comic"]],viewQuery:function(i,n){i&1&&ee(n.categoriesEle,$s,5)(n.statusEle,js,5),i&2&&te(2)},inputs:{listEntry:[1,"listEntry"],editMode:[1,"editMode"],coverOnly:[1,"coverOnly"]},outputs:{onChange:"onChange",onDelete:"onDelete"},decls:2,vars:1,consts:[["status",""],["categories",""],["size-observer","",1,"list-entry",3,"doOnChange"],[3,"comic","display"],[1,"overlay",3,"hidden"],[1,"main-info"],[1,"comic-cover-container"],[1,"info"],[1,"comic-header","hiddable"],[1,"type"],[1,"comic-type"],[1,"comic-marks"],[1,"title"],["type","button",1,"comic-info","description-container",3,"click"],[1,"description",3,"innerHTML"],[1,"extra-info"],["type","button",1,"flip-btn","comic-info",3,"click"],[1,"flip-icon"],[1,"info","extra"],["type","button",1,"remove"],[1,"comic-mark",3,"background-color"],[1,"comic-mark"],["placeholder","Notes",1,"note-input",3,"field"],[1,"status","hiddable"],[1,"categories"],[1,"genre"],[1,"theme"],[1,"more",3,"hidden"],[1,"comic-info"],[1,"chapter"],[1,"when"],[1,"description"],[1,"more",3,"click","hidden"],["type","button",1,"remove",3,"click"]],template:function(i,n){i&1&&_(0,tl,26,14,"div",2)(1,nl,1,2,"comic",3),i&2&&v(n.coverOnly()?1:0)},dependencies:[V,Q,Be,Se],styles:[".list-entry[_ngcontent-%COMP%]{--list-comic-width: 150px;position:relative;flex-shrink:0;display:flex;flex-flow:row nowrap;width:100%;max-width:unset;max-height:calc(calc(var(--list-comic-width) / .75) + 2px);border:1px solid rgba(var(--comic-light),1);border:1px solid rgba(90,51,56,.5);border-radius:4px;background-color:rgba(var(--comic-dark),1);box-shadow:0 3px 8px 1px #28000040}.overlay[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;box-shadow:inset 0 .25rem .5rem .75rem #00800040;z-index:99;pointer-events:none}.info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;padding:.5rem;overflow:hidden}.info.extra[_ngcontent-%COMP%]{gap:.25rem;scrollbar-width:thin;scrollbar-color:transparent transparent;overflow:auto}.info.extra[_ngcontent-%COMP%]:hover{scrollbar-color:rgb(var(--comic-dark)) rgb(var(--comic-medium))}.main-info[_ngcontent-%COMP%]{display:flex;width:60%}.extra-info[_ngcontent-%COMP%]{flex:1}.comic-cover-container[_ngcontent-%COMP%]{flex-shrink:0;position:relative;width:var(--list-comic-width);border-radius:3px;background-color:rgba(var(--comic-dark),.8);overflow:hidden}.comic-cover[_ngcontent-%COMP%]{width:100%;aspect-ratio:3/4;object-fit:fill}.comic-header[_ngcontent-%COMP%]{height:44px;overflow:hidden}.type-filters[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.25rem;padding:0rem 1rem;margin-left:auto}.type-filter[_ngcontent-%COMP%]{color:rgba(var(--comic-text-color),.75);border:none;background-color:transparent}.type-filter.active[_ngcontent-%COMP%]{font-weight:700}.type[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;gap:.25rem}.comic-type[_ngcontent-%COMP%]{flex-shrink:0;font-size:.8rem;color:#f08080}.comic-marks[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.5rem}.comic-mark[_ngcontent-%COMP%]{padding:.35rem;color:red;border-radius:100%;background-color:red}.comic-info[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;gap:.5rem;padding:.25rem .5rem;font-size:.75rem;border-radius:4px;background-color:rgba(var(--comic-medium),1)}.comic-info[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(var(--comic-medium),.5)}.comic-info[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-medium),.25)}.title[_ngcontent-%COMP%]{flex-shrink:0;font-weight:700;letter-spacing:.25px;text-wrap:nowrap;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.description-container[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;flex-direction:column;min-height:1.75rem;color:rgb(var(--comic-text-color));text-align:start;border:none;scrollbar-width:thin;scrollbar-color:transparent transparent;overflow:auto}.description-container[_ngcontent-%COMP%]:hover{scrollbar-color:rgb(var(--comic-dark)) rgb(var(--comic-medium))}.status[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;width:100%;height:81px;margin-top:auto;text-transform:capitalize}.hiddable[_ngcontent-%COMP%]{flex-shrink:0;margin-bottom:.25rem;overflow:hidden;transition:height .15s ease-in,margin-bottom .15s ease-in}.hidden[_ngcontent-%COMP%]{height:0px!important;margin-bottom:0rem}.categories[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row wrap;justify-content:start;gap:.5rem;font-size:.6rem;height:21px;overflow:hidden;transition:height .15s ease-in}.genre[_ngcontent-%COMP%]{padding:.2rem .35rem;border-radius:.5rem;background-color:#6399}.theme[_ngcontent-%COMP%]{padding:.2rem .35rem;border-radius:.5rem;background-color:#33997c99}.more[_ngcontent-%COMP%]{position:absolute;bottom:0;right:0;color:rgb(var(--comic-text-color));font-size:.75rem;font-weight:700;border:none;border-radius:4px;background-color:rgb(var(--comic-dark));opacity:.6}.more[_ngcontent-%COMP%]:hover{color:#fff;opacity:1}.flip-btn[_ngcontent-%COMP%]{display:none;border:none;color:rgb(var(--comic-text-color));overflow:hidden;transition:transform .25s ease-in}.flip-icon[_ngcontent-%COMP%]{transition:.25s ease-in}.flip-icon.shown[_ngcontent-%COMP%]{rotate:-180deg}.remove[_ngcontent-%COMP%], .confirm[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;flex-direction:column;align-items:center;padding:.25rem;color:red;border:2px solid rgb(var(--comic-dark));border-radius:100%;background-color:rgb(var(--comic-text-color))}.confirm[_ngcontent-%COMP%]{color:green;top:unset;bottom:0}.remove[_ngcontent-%COMP%]:hover, .confirm[_ngcontent-%COMP%]:hover{background-color:#fff}.remove[_ngcontent-%COMP%]:active, .confirm[_ngcontent-%COMP%]:active{color:rgb(var(--comic-dark))}.note-input[_ngcontent-%COMP%]{flex:1;padding:.25rem .5rem;color:rgb(var(--comic-text-color));font-size:.75rem;border-radius:4px;background-color:rgba(var(--comic-medium),1)}@media(max-width:720px){.list-entry[_ngcontent-%COMP%]{overflow:hidden}.main-info[_ngcontent-%COMP%]{width:calc(100% - 40px)}.extra-info[_ngcontent-%COMP%]{display:flex;position:absolute;right:0;height:100%;width:calc(100% - var(--list-comic-width));padding:.25rem;transform:translate(calc(100% - 40px - .5rem));transition:transform .25s ease-in;background-color:rgb(var(--comic-dark))}.extra-info.shown[_ngcontent-%COMP%]{transform:translate(0)}.status[_ngcontent-%COMP%]{margin-top:unset}.flip-btn[_ngcontent-%COMP%]{display:flex}}"]})}}return t})();var il=(t,c)=>c.comic.id;function ol(t,c){t&1&&g(0,"div",2)}function rl(t,c){if(t&1&&(g(0,"input",10),D(),g(1,"textarea",11),D()),t&2){let e=d();A(e.listForm.name),s(),A(e.listForm.description)}}function al(t,c){if(t&1&&(o(0,"h3",12)(1,"span"),r(2),a()(),o(3,"div",13),r(4),a()),t&2){let e=d();s(2),C(e.list().name),s(2),K("",e.list().description," Lorem ipsum dolor sit amet consectetur adipisicing elit. Magni consequuntur ratione dolor temporibus earum eos sed asperiores iure suscipit, atque qui cum. Reiciendis, numquam tempore? Voluptatum, aut. Voluptatum, impedit laborum. Lorem ipsum dolor sit amet consectetur adipisicing elit. Fugit perspiciatis repudiandae non, perferendis voluptatem eius impedit officiis voluptatibus deleniti eligendi vel explicabo enim ex laboriosam nisi. Aliquid iure similique reiciendis. ")}}function cl(t,c){if(t&1){let e=P();o(0,"button",15),u("click",function(){h(e);let n=d(2);return f(n.deleteList())}),o(1,"mat-icon"),r(2,"create"),a(),o(3,"span"),r(4,"Delete"),a()(),o(5,"button",16),u("click",function(){h(e);let n=d(2);return f(n.cancelEdit())}),o(6,"mat-icon"),r(7,"create"),a(),o(8,"span"),r(9,"Cancel"),a()(),o(10,"button",17),u("click",function(){h(e);let n=d(2);return f(n.submit())}),o(11,"mat-icon"),r(12,"create"),a(),o(13,"span"),r(14,"Save"),a()()}}function sl(t,c){if(t&1){let e=P();o(0,"div",8)(1,"button",14),u("click",function(){h(e);let n=d();return f(n.toggleEdit())}),o(2,"mat-icon"),r(3,"create"),a(),o(4,"span"),r(5,"Edit"),a()(),_(6,cl,15,0),a()}if(t&2){let e=d();s(6),v(e.editMode()?6:-1)}}function ll(t,c){if(t&1){let e=P();o(0,"div",18)(1,"span"),r(2),a(),o(3,"button",20),u("click",function(){h(e);let n=d().$implicit,l=d();return f(l.undoRemoval(n))}),r(4,"Undo"),a()()}if(t&2){let e=d().$implicit,i=d();s(2),Yn("Removing [",e.comic.title,"] from ",i.list().name)}}function dl(t,c){t&1&&g(0,"div",2)}function ml(t,c){if(t&1){let e=P();o(0,"div",19)(1,"list-comic",21),u("onDelete",function(n){h(e);let l=d(2);return f(l.pendRemoval(n))})("onChange",function(n){h(e);let l=d(2);return f(l.pendSave(n))}),a(),_(2,dl,1,0,"div",2),a()}if(t&2){let e=d().$implicit,i=d();s(),p("listEntry",e)("editMode",i.editMode()),s(),v(i.saves.has(e.comicId)?2:-1)}}function pl(t,c){if(t&1&&_(0,ll,5,2,"div",18)(1,ml,3,3,"div",19),t&2){let e=c.$implicit,i=d();v(i.removed.has(e.comicId)?0:1)}}var So=(()=>{class t extends on{constructor(){super(),this.popupService=y(xe),this.notifService=y(oe),this.userService=y(Ie),this.router=y(Pe),this.list=se.required(),this.isMe=T(()=>this.list().userId==this.session.user.value().id),this.listModal=N(()=>structuredClone(this.list())),this.listForm=H(this.listModal),this.editMode=E(!1),this.removed=new Map,this.saves=new Map,this.hasChanges=N(()=>this.checkForChanges())}showFilters(){this.popupService.showFilterPopup({initialFilters:this.filters(),onClose:e=>{this.filters.set($(R({},e),{cursor:void 0}))}})}toggleEdit(){this.hasChanges()||this.editMode.set(!this.editMode())}cancelEdit(){this.listModal.set(structuredClone(this.list())),this.saves.clear(),this.removed.clear(),this.editMode.set(!1),this.results.set(structuredClone(this.results()))}pendRemoval(e){this.removed.set(e.comicId,e),this.hasChanges.set(this.checkForChanges())}undoRemoval(e){this.removed.delete(e.comicId),this.hasChanges.set(this.checkForChanges())}pendSave(e){let i=this.list().list,n=i.findIndex(l=>l.comicId==e.comicId);i[n].notes==e.notes?this.saves.delete(e.comicId):this.saves.set(e.comicId,e),this.listModal.update(l=>{let m=l.list.findIndex(F=>F.comicId==e.comicId),w=[...l.list];return w[m]=e,$(R({},l),{list:w})})}checkForChanges(){let e=this.list(),i=this.listModal(),n=this.results();return this.saves.size>0||this.removed.size>0||i.name!=e.name||i.description!=e.description}submit(){let e=this.list(),i=this.listModal();if((i.name!=e.name||i.description!=e.description)&&this.userService.list.saveList(i.id,i.userId,i.name,i.description).subscribe(n=>{n&&this.list.update(l=>$(R({},l),{name:n.name,description:n.description}))}),this.saves.size>0){let n=Array.from(this.saves.values()).map(l=>({comicId:l.comicId,notes:l.notes})).filter(l=>!this.removed.has(l.comicId));this.userService.list.saveListEntries(i.id,n).subscribe(l=>{if(l){for(let m of l)this.saves.delete(m.comicId);this.results.update(m=>{let w=[...m];for(let F of l){let z=w.findIndex(ge=>ge.comicId==F.comicId);z<-1?w.push(F):w[z]=$(R({},w[z]),{notes:F.notes})}return w})}})}if(this.removed.size>0){let n=Array.from(this.removed.values()).map(l=>l.comicId);this.userService.list.deleteListEntries(i.id,n).subscribe(l=>{if(l){for(let m of l)this.removed.delete(m.comicId);this.results.update(m=>m.filter(w=>!l.findIndex(F=>F.comicId==w.comic.id)))}})}}deleteList(){let e=this.list();this.popupService.showConfirmPopup({confirmText:`Are you sure you want delete your list, ${e.name}?`,confirmTest:e.name,confirmHint:`Type '${e.name}' to confirm`,onClose:i=>{i&&this.userService.list.deleteList(e.id).subscribe(n=>{if(!n){this.notifService.notify({type:"warning",header:"Error",body:"Failed to delete list"});return}let l={confirmText:`${e.name} has been deleted.`,isNotify:!0,closable:!1,onClose:m=>{this.router.navigate(["/comic/home"])}};this.popupService.showConfirmPopup(l)})}})}getMoreUpdates(){var e=this.lastResult();if(this.pageRx.isLoading()||!e?.pageInfo.more)return;let i=this.lastResult(),n=R({},this.filters());i&&i.pageInfo.more&&(n.cursor=i.pageInfo.next,this.filters.set(n))}loadFilter(){return $(R({},j.emptyFilter()),{sort:"CHAPTER_UPDATE",desc:!0,cursor:void 0})}doSearch(e,i){var n=W([]);if(this.session.user.isLoading())n=W(this.lastResult()?.results??[]);else{let l=e.settings.comicPreferences.title,m=e.settings.comicPreferences.languages,w=e.settings.comicFilterSettings.enableMatureContent,F=$(R({},i),{matureContent:w,chapterLanguages:m});F.listId=this.list().id,n=this.comicService.searchComics(F).pipe(_e(z=>this.lastResult.set(z)),Y(z=>z.results))}return n.pipe(Y(l=>i.cursor?j.appendComicMappers(this.results()??[],l):l),_e(l=>this.results.set(l)))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic-list"]],inputs:{list:[1,"list"]},outputs:{list:"listChange"},features:[q],decls:21,vars:5,consts:[["searchInput",""],[1,"comic-user-list"],[1,"overlay"],[1,"search-n-filter"],[1,"bar"],[1,"search-btn"],["placeholder","Search Comics",1,"search-input",3,"field"],["type","button",1,"filter-btn",3,"click"],[1,"edit-btns"],[1,"comics"],["placeholder","List Name",1,"list","list-input",3,"field"],["placeholder","List Description",1,"description","description-input",3,"field"],[1,"list"],[1,"description"],["type","button",1,"edit-btn","filter-btn",3,"click"],["type","button",1,"edit-btn","filter-btn","delete",3,"click"],["type","button",1,"edit-btn","filter-btn","cancel",3,"click"],["type","button",1,"edit-btn","filter-btn","save",3,"click"],[1,"removed-entry","warning"],[1,"relative-wrap"],["type","button",1,"undo","warning",3,"click"],[3,"onDelete","onChange","listEntry","editMode"]],template:function(i,n){if(i&1){let l=P();o(0,"div",1),_(1,ol,1,0,"div",2),o(2,"div"),_(3,rl,2,4)(4,al,5,2),a(),o(5,"div",3)(6,"div",4)(7,"button",5)(8,"mat-icon"),r(9,"search"),a()(),g(10,"input",6,0),D(),a(),o(12,"button",7),u("click",function(){return h(l),f(n.showFilters())}),o(13,"mat-icon"),r(14,"filter_list"),a(),o(15,"span"),r(16,"Filter"),a()()(),_(17,sl,7,1,"div",8),o(18,"div",9),S(19,pl,2,1,null,null,il),a()()}i&2&&(s(),v(n.hasChanges()?1:-1),s(2),v(n.editMode()?3:4),s(7),A(n.searchForm.title),s(7),v(n.isMe()?17:-1),s(2),O(n.results()))},dependencies:[V,Q,Po],styles:[".user-data[_ngcontent-%COMP%]{--user-data-comic-cover-width: 4.5rem }.private[_ngcontent-%COMP%]{padding:1rem;font-size:1.5rem;text-align:center}.search-n-filter[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:end;gap:1rem}.bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;align-items:center;border-bottom:3px solid rgba(var(--comic-dark),1)}.search-input[_ngcontent-%COMP%]{flex:1;color:var(--comic-top-nav-text-color);margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none}.search-btn[_ngcontent-%COMP%], .filter-btn[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);display:flex;align-items:center;padding:0rem;border:none;background-color:transparent}.filter-btn[_ngcontent-%COMP%]{padding:.5rem;color:var(--comic-text-color);border-radius:4px;background-color:rgb(var(--comic-dark))}.search-btn[_ngcontent-%COMP%]:hover, .filter-btn[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.75}.grid-data[_ngcontent-%COMP%]{align-items:center;display:grid;grid-template-columns:var(--user-data-comic-cover-width) auto auto auto auto auto;gap:.5rem 0rem;text-align:center}.grid-data[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .grid-data[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:.25rem}.grid-data-columns[_ngcontent-%COMP%]{grid-column:span 6;padding:.5rem;border-radius:4px;background-color:rgba(var(--comic-dark),1)}.column[_ngcontent-%COMP%]{width:100%;height:100%;padding:.5rem;margin:0rem!important;background-color:rgba(var(--comic-dark),1)!important}.comic-cover-container[_ngcontent-%COMP%]{position:relative;width:var(--user-data-comic-cover-width);margin:0rem!important;border-radius:3px;background-color:rgba(var(--comic-dark),.8);overflow:hidden}.comic-cover[_ngcontent-%COMP%]{width:100%;aspect-ratio:3/4;object-fit:fill}.comic-title[_ngcontent-%COMP%]{text-align:start;text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap;overflow:hidden}.current-progress[_ngcontent-%COMP%]{color:#9acd32;font-weight:700}.comic-remove[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0rem;color:red;border:none;background-color:transparent}.comic-remove[_ngcontent-%COMP%]:hover{opacity:.6}.comic-remove[_ngcontent-%COMP%]:active{opacity:1}.warning[_ngcontent-%COMP%]{color:#daa520}.comic-user-list[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-direction:column;padding:1rem;gap:1rem;min-height:var(--comic-content-height)}.overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;box-shadow:inset 0 .25rem .5rem .75rem #00800040;z-index:99;pointer-events:none}.list[_ngcontent-%COMP%]{font-size:2rem;padding:1rem}.list-input[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem;color:rgb(var(--comic-text-color));border:rgb(var(--comic-dark));border-radius:4px;background-color:rgb(var(--comic-light-ex))}.description[_ngcontent-%COMP%]{padding:0rem 1rem;font-size:.9rem;white-space:pre-wrap}.description-input[_ngcontent-%COMP%]{width:100%;min-height:5rem;color:rgb(var(--comic-text-color));border:rgb(var(--comic-dark));border-radius:4px;background-color:rgb(var(--comic-light-ex))}.list-comics[_ngcontent-%COMP%]{grid-template-columns:var(--user-data-comic-cover-width) auto auto auto auto}.comics[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.removed-entry[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;gap:1rem;background-color:rgb(var(--comic-dark))}.removed-entry[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding:.5rem}.undo[_ngcontent-%COMP%]{padding:.5rem;border:none;background-color:transparent}.undo[_ngcontent-%COMP%]:hover{opacity:.6}.undo[_ngcontent-%COMP%]:active{color:#fff;opacity:1}.relative-wrap[_ngcontent-%COMP%]{position:relative}.edit-btns[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;width:100%;gap:2rem;justify-content:end}.edit-btn[_ngcontent-%COMP%]{display:flex;justify-content:space-between;min-width:5rem}.edit-btn[_ngcontent-%COMP%]:first-child{margin-right:auto}.edit-btn.delete[_ngcontent-%COMP%]{background-color:red}.edit-btn.cancel[_ngcontent-%COMP%]{background-color:rgb(var(--comic-light-ex))}.edit-btn.save[_ngcontent-%COMP%]{background-color:green}@media(min-width:1080px){.comics[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(500px,1fr))}}"]})}}return t})();var gl=()=>["..","register"],ul=()=>["..","login"],Rn=(t,c)=>c.kind;function hl(t,c){if(t&1&&(o(0,"span",12),r(1),a()),t&2){let e=c.$implicit;s(),C(e.message)}}function fl(t,c){if(t&1&&(o(0,"div",7),S(1,hl,2,1,"span",12,Ee),a()),t&2){let e=d(2);s(),O(e.loginForm.username().errors())}}function Cl(t,c){if(t&1&&(o(0,"span",12),r(1),a()),t&2){let e=c.$implicit;s(),C(e.message)}}function _l(t,c){if(t&1&&(o(0,"div",7),S(1,Cl,2,1,"span",12,Ee),a()),t&2){let e=d(2);s(),O(e.loginForm.password().errors())}}function vl(t,c){t&1&&(o(0,"div",9),g(1,"div",13),o(2,"div",14),g(3,"mat-progress-spinner",15),a()())}function bl(t,c){if(t&1){let e=P();o(0,"form",3),u("submit",function(n){h(e);let l=d();return f(l.login(n))}),o(1,"div",4)(2,"h4"),r(3,"Account Login"),a()(),o(4,"div",5),g(5,"input",6),D(),_(6,fl,3,0,"div",7),a(),o(7,"div",5),g(8,"input",8),D(),_(9,_l,3,0,"div",7),a(),_(10,vl,4,0,"div",9),o(11,"button",10),r(12,"Login"),a(),o(13,"span"),r(14,"No Account? "),o(15,"a",11),r(16,"Register Now"),a()()()}if(t&2){let e=d();s(5),A(e.loginForm.username),s(),v(e.loginForm.username().touched()&&e.loginForm.username().invalid()?6:-1),s(2),A(e.loginForm.password),s(),v(e.loginForm.password().touched()&&e.loginForm.password().invalid()?9:-1),s(),v(e.loading()?10:-1),s(),k("form-error",e.loginForm().touched()&&e.loginForm().invalid())("disabled",e.loginForm().invalid()),p("disabled",e.loginForm().invalid()),s(4),p("routerLink",ae(13,gl))}}function xl(t,c){if(t&1&&(o(0,"span",12),r(1),a()),t&2){let e=c.$implicit;s(),C(e.message)}}function yl(t,c){if(t&1&&(o(0,"div",7),S(1,xl,2,1,"span",12,Rn),a()),t&2){let e=d(2);s(),O(e.registerForm.username().errors())}}function wl(t,c){if(t&1&&(o(0,"span",12),r(1),a()),t&2){let e=c.$implicit;s(),C(e.message)}}function Ml(t,c){if(t&1&&(o(0,"div",7),S(1,wl,2,1,"span",12,Rn),a()),t&2){let e=d(2);s(),O(e.registerForm.password().errors())}}function Pl(t,c){if(t&1&&(o(0,"span",12),r(1),a()),t&2){let e=c.$implicit;s(),C(e.message)}}function Sl(t,c){if(t&1&&(o(0,"div",7),S(1,Pl,2,1,"span",12,Rn),a()),t&2){let e=d(2);s(),O(e.registerForm.confirmPassword().errors())}}function Ol(t,c){t&1&&(o(0,"div",9),g(1,"div",13),o(2,"div",14),g(3,"mat-progress-spinner",15),a()())}function kl(t,c){if(t&1){let e=P();o(0,"form",16),u("submit",function(n){h(e);let l=d();return f(l.register(n))}),o(1,"div",4)(2,"h4"),r(3,"Account Registration"),a()(),o(4,"div",5),g(5,"input",17),D(),_(6,yl,3,0,"div",7),a(),o(7,"div",5),g(8,"input",18),D(),_(9,Ml,3,0,"div",7),a(),o(10,"div",5),g(11,"input",19),D(),_(12,Sl,3,0,"div",7),a(),_(13,Ol,4,0,"div",9),o(14,"button",10),r(15,"Register"),a(),o(16,"span"),r(17,"Already have an account? "),o(18,"a",11),r(19,"Login"),a()()()}if(t&2){let e=d();s(5),A(e.registerForm.username),s(),v(e.registerForm.username().touched()&&e.registerForm.username().invalid()?6:-1),s(2),A(e.registerForm.password),s(),v(e.registerForm.password().touched()&&e.registerForm.password().invalid()?9:-1),s(2),A(e.registerForm.confirmPassword),s(),v((e.registerForm.confirmPassword().touched()||e.registerForm.password().touched())&&e.registerForm.confirmPassword().invalid()?12:-1),s(),v(e.loading()||e.processing()?13:-1),s(),k("form-error",e.registerForm().touched()&&e.registerForm().invalid())("disabled",e.registerForm().invalid()),p("disabled",e.registerForm().invalid()),s(4),p("routerLink",ae(16,ul))}}var Oo=(()=>{class t{constructor(){this.notifService=y(oe),this.storage=y(fe),this.auth=y(ct),this.route=y($e),this.router=y(Pe),this.url=je(this.route.url),this.authType=N(()=>this.authFromPath()),this.loading=E(!1),this.processing=E(!1),this.loginModal=E(this.initLoginModal()),this.loginForm=H(this.loginModal,e=>{De(e.username,{message:"Must enter username"}),De(e.password,{message:"Must enter password"})}),this.registerModal=E(this.initRegisterModal()),this.registerForm=H(this.registerModal,e=>{nt(e.username,300),De(e.username,{message:"Enter username"}),De(e.password,{message:"Enter password"}),De(e.confirmPassword,{message:"Please confirm your password"}),Ct(e.username,ye.USERNAME_MIN_LENGTH,{message:`Username Minimum Length: ${ye.USERNAME_MIN_LENGTH}`}),Ct(e.password,ye.PASSWORD_MIN_LENGTH,{message:`Password Minimum Length: ${ye.PASSWORD_MIN_LENGTH}`}),ye.validateUsername(e.username),ye.validatePassword(e.password),ye.confirmPassword(e.confirmPassword,e.password),mo(e.username,{params:({value:i})=>{let n=i();if(!(!n||n.length<ye.USERNAME_MIN_LENGTH))return n},factory:i=>pe({params:()=>({username:i()}),stream:({params:n})=>this.usernameIsAvailable(n.username)}),onError:i=>({kind:"unknownError",message:"Could not check username availability"}),onSuccess:i=>i?null:{kind:"usernameTaken",message:"Username is already taken"}})}),this.returnTo=this.route.snapshot.queryParams.returnTo,ne(()=>{let e=this.url();this.loginModal.set(this.initLoginModal()),this.registerModal.set(this.initRegisterModal()),this.loginForm().reset(),this.registerForm().reset()})}ngOnInit(){}login(e){if(e.preventDefault(),!this.loading()){this.loading.set(!0);let i=this.loginModal();this.auth.login$(i.username,i.password).pipe(ke((n,l)=>(n instanceof Mt?this.notifyErrors("Registration Error",n):this.unknownError(),it))).subscribe(n=>{n!=null&&(this.processing.set(!0),this.successfulAuth(n))}).add(()=>this.loading.set(!1))}}register(e){if(e.preventDefault(),!this.loading()){this.loading.set(!0);let i=this.registerModal();this.auth.register$(i.username,i.username,i.password).pipe(ke((n,l)=>(n instanceof Mt?this.notifyErrors("Registration Error",n):this.unknownError(),it))).subscribe(n=>{this.successfulAuth(n)}).add(()=>this.loading.set(!1))}}authFromPath(){let e=this.url();if(!e)return"LOGIN";let i=e[0].path;return i.toLowerCase()=="login"?"LOGIN":i.toLowerCase()=="register"?"REGISTER":"LOGIN"}initLoginModal(){return{username:"",password:""}}initRegisterModal(){return{username:"",password:"",confirmPassword:""}}usernameIsAvailable(e){return e?this.auth.usernameAvailable$(e):W(!0)}notifyErrors(e,i){this.notifService.notify({type:"bad",header:e,body:`${i.message}`},5e3)}successfulAuth(e){this.storage.storeToken(e.token),this.authType()==="LOGIN"?this.notifService.notify({type:"good",header:`Welcome back ${e.user.displayName}`,body:"Successfully logged in"},6e3):this.notifService.notify({type:"good",header:`Welcome ${e.user.displayName}`,body:"Successfully registered"},6e3),this.storage.storeUser(e.user),this.redirect(),this.processing.set(!1)}unknownError(){this.notifService.notify({type:"bad",header:"Unknown Erro",body:"Something didn't work right, sorry!"},5e3)}redirect(){this.returnTo?this.router.navigateByUrl(this.returnTo):this.router.navigate(["../home"],{relativeTo:this.route})}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["login-page"]],decls:3,vars:1,consts:[["id","comic-login",1,"login-page"],[1,"login","auth-popup"],[1,"register","auth-popup"],[1,"login","auth-popup",3,"submit"],[1,"auth-header"],[1,"input-wrapper"],["autocomplete","username","placeholder","Enter Username...",3,"field"],[1,"input-errors"],["type","password","autocomplete","current-password","placeholder","Enter Password...",3,"field"],[1,"loading"],["type","submit",1,"auth-btn",3,"disabled"],[1,"to-other-text",3,"routerLink"],[1,"form-error-text"],[1,"loading-backdrop"],[1,"spinner"],["mode","indeterminate"],[1,"register","auth-popup",3,"submit"],["autocomplete","username","placeholder","Username...",3,"field"],["type","password","autocomplete","new-password","placeholder","Password...",3,"field"],["type","password","autocomplete","new-password","placeholder","Confirm Password...",3,"field"]],template:function(i,n){i&1&&(o(0,"div",0),_(1,bl,17,14,"form",1)(2,kl,20,17,"form",2),a()),i&2&&(s(),v(n.authType()=="LOGIN"?1:n.authType()=="REGISTER"?2:-1))},dependencies:[Q,X,ie,Te],styles:['#comic-login[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;align-items:center;justify-content:center;min-height:100%;color:rgb(var(--comic-text-color));background-color:rgba(var(--comic-dark),.8);-webkit-backdrop-filter:var(--comic-filter-blur);backdrop-filter:var(--comic-filter-blur)}.login[_ngcontent-%COMP%], .register[_ngcontent-%COMP%], .logout[_ngcontent-%COMP%]{position:fixed;top:3rem;left:50%;transform:translate(-50%);display:flex;flex-direction:column;gap:2rem;width:25rem;max-width:100vw;min-height:25rem;padding:1rem;margin:auto;border:1px solid rgb(var(--comic-dark));border-radius:6px;background-color:rgba(var(--comic-medium));text-align:center;z-index:201}.auth-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:baseline}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column}input[_ngcontent-%COMP%]{width:100%;padding-left:.5rem;font-size:1.2rem;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:rgb(var(--comic-light-ex))}input[_ngcontent-%COMP%]:focus{outline:1px solid rgb(var(--comic-text-color))}.input-errors[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:start;padding:0rem .5rem}.form-error-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;color:rgb(var(--comic-error))}.form-error-text[_ngcontent-%COMP%]:before{display:inline-block;content:"";height:0px;width:0px;padding:.25rem;border-radius:50%;background-color:rgb(var(--comic-error))}.auth-btn[_ngcontent-%COMP%]{cursor:pointer;color:rgb(var(--comic-dark));margin-top:auto;border-radius:4px;background-color:#87cefa}.auth-btn[_ngcontent-%COMP%]:hover{background-color:#5d91b1}.auth-btn[_ngcontent-%COMP%]:active{background-color:#87cefa}.auth-btn.form-error[_ngcontent-%COMP%]{cursor:unset;background-color:rgb(var(--comic-error))}.auth-btn.disabled[_ngcontent-%COMP%]{cursor:unset;opacity:.7;background-color:#87cefa}.to-other-text[_ngcontent-%COMP%]{color:#87cefa}.to-other-text[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.8}.loading[_ngcontent-%COMP%]{position:absolute;top:1px;left:1px;display:flex;width:100%;height:100%;z-index:100}.loading-backdrop[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:calc(100% - 2px);height:calc(100% - 2px);background-color:rgba(var(--comic-dark),.5);-webkit-backdrop-filter:blur(.15rem);backdrop-filter:blur(.15rem)}.spinner[_ngcontent-%COMP%]{position:relative;margin:auto;z-index:2}']})}}return t})();var El=()=>["/comic/settings"],Tl=(t,c)=>c.scope;function Il(t,c){t&1&&(o(0,"div",1)(1,"div",4)(2,"h4"),r(3,"Invalid OAuth2 Authorization Request"),a()(),o(4,"div",5),r(5,"Please ensure all required query parameters are present in the url and in the correct format."),a()())}function Fl(t,c){t&1&&(o(0,"div",18),r(1,"Blocked by privacy settings"),a())}function Dl(t,c){if(t&1&&(o(0,"div",12)(1,"div",17),r(2),a(),_(3,Fl,2,0,"div",18),a()),t&2){let e=c.$implicit,i=d(2);s(2),C(e.description),s(),v(i.isBlocked(e.scope)?-1:3)}}function Al(t,c){if(t&1){let e=P();o(0,"form",6),u("submit",function(n){h(e);let l=d();return f(l.authorize(n))}),o(1,"div",4)(2,"h4"),r(3,"OAuth2 Authorization"),a()(),o(4,"div",7)(5,"h5",8),r(6),a(),o(7,"div",5),r(8),a(),o(9,"div",9),r(10),a(),o(11,"div",10)(12,"div")(13,"span"),r(14,"Authorizing will allow "),o(15,"span",8),r(16),a(),r(17," to"),a()(),o(18,"div",11),S(19,Dl,4,2,"div",12,Tl),a()(),o(21,"div",13)(22,"span"),r(23,"You can deauthorize the application at any time in "),o(24,"a",14),r(25,"settings"),a()()()(),o(26,"button",15),r(27,"Authorize"),a(),o(28,"div",13)(29,"span"),r(30,"You will be redirected to "),o(31,"a",16),r(32),a()()()()}if(t&2){let e,i,n,l,m=d();s(6),C((e=m.app())==null?null:e.clientName),s(2),K(" ",(i=m.app())==null?null:i.description," "),s(2),K(" ",(n=m.app())==null?null:n.link," "),s(6),C((l=m.app())==null?null:l.clientName),s(3),O(m.scopes()),s(5),p("routerLink",ae(7,El)),s(7),p("href",m.redirectUri(),ue),s(),C(m.redirectUri())}}function Ll(t,c){t&1&&(o(0,"div",1)(1,"div",4)(2,"h4"),r(3,"404"),a()(),o(4,"div",5),r(5,"Could not find application information"),a()())}var ko=(()=>{class t{static{this.scopes=["IDENTITY","HISTORY","HISTORY_READ","HISTORY_WRITE","COMIC_FOLLOWS","COMIC_FOLLOWS_READ","COMIC_FOLLOWS_WRITE","STAFF_FOLLOWS","STAFF_FOLLOWS_READ","STAFF_FOLLOWS_WRITE","LISTS_READ","LISTS_WRITE","SETTINGS_READ"]}constructor(){this.session=y(B),this.appService=y(Ze),this.authService=y(ct),this.notifService=y(oe),this.route=y($e),this.document=y(Un),this.params=je(this.route.queryParams),this.badRequest=N(()=>this.isBadRequest()),this.redirectUri=T(()=>{let{redirect_uri:e}=R({},this.params());return e}),this.applicationRx=pe({params:()=>({params:this.params()}),stream:({params:e})=>this.getApplication(e.params)}),this.app=T(()=>this.applicationRx.value()),this.scopes=T(()=>this.appScopes()),this.userCheck=ne(()=>{let e=this.session.isAnonymous();!this.session.user.isLoading()&&e&&console.log("Is Anonymous:","Redirecting to Login")}),this.paramCheck=ne(()=>{let{response_type:e,client_id:i,scope:n,redirect_uri:l,challenge:m}=R({},this.params());console.log(this.params()),console.log(e,i,n,l,m)})}ngOnInit(){}authorize(e){e.preventDefault();let{response_type:i,client_id:n,scope:l,redirect_uri:m,challenge:w}=R({},this.params()),F=i.toUpperCase(),z=Array.isArray(l)?l.map(de=>de.toUpperCase()):[l.toUpperCase()],ge={clientId:n,responseType:F,scope:z,redirectUri:m,challenge:w};w||delete ge.challenge,this.authService.authorize$(ge).pipe(ke(de=>(this.notifService.notify({type:"bad",header:"Could not Authorize",body:de.message},5e3),it))).subscribe(de=>{de.code!=null?this.document.location.href=`${m}/?response_type=${de.responseType}&code=${de.code}`:de.token!=null&&(this.document.location.href=`${m}/#response_type=${de.responseType}&token=${de.token.accessToken}&expiry=${de.token.accessExpiry}`)})}getApplication(e){let{response_type:i,client_id:n,scope:l,redirect_uri:m,challenge:w}=R({},this.params());return n?this.appService.getApp(n):W(void 0)}appScopes(){let e=this.app(),{scope:i}=R({},this.params());return i?Array.isArray(i)?i.filter(l=>t.scopes.includes(l.toUpperCase())).map(l=>{let m=l.toUpperCase(),w=l.toLowerCase().replace("_"," "),F=this.scopeDescription(m);return{scope:m,scopeName:w,description:F}}):[{scope:i,scopeName:i.toLowerCase().replace("_"," "),description:this.scopeDescription(i.toUpperCase())}]:[]}scopeDescription(e){switch(e){case"IDENTITY":return"Access your id, username, and display name";case"HISTORY":return"Access & modify your Comic Reading History";case"HISTORY_READ":return"Access your Comic Reading History";case"HISTORY_WRITE":return"Modify your Comic Reading History";case"COMIC_FOLLOWS":return"Access & modify your Comic Follows";case"COMIC_FOLLOWS_READ":return"Access your Comic Follows";case"COMIC_FOLLOWS_WRITE":return"Modify your Comic Follows";case"STAFF_FOLLOWS":return"Access & modify your Staff Follows";case"STAFF_FOLLOWS_READ":return"Access your Staff Follows";case"STAFF_FOLLOWS_WRITE":return"Modify your Staff Follows";case"LISTS_READ":return"Access & modify your Comic Lists";case"LISTS_WRITE":return"Modify your Comic Lists";case"SETTINGS_READ":return"Access your Settings"}}isBadRequest(){let{response_type:e,client_id:i,scope:n,redirect_uri:l,challenge:m}=R({},this.params());return!i||!n||!l||!e}isBlocked(e){let n=this.session.user.value().settings.privacySettings;switch(e){case"HISTORY":case"HISTORY_READ":case"HISTORY_WRITE":return n.invisibleHistory;case"COMIC_FOLLOWS":case"COMIC_FOLLOWS_READ":case"COMIC_FOLLOWS_WRITE":case"STAFF_FOLLOWS":case"STAFF_FOLLOWS_READ":case"STAFF_FOLLOWS_WRITE":return n.invisibleFollowing;case"LISTS_READ":case"LISTS_WRITE":case"SETTINGS_READ":return n.invisibleLists;default:return!1}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["oauth-page"]],decls:5,vars:1,consts:[["id","comic-oauth"],[1,"oauth","invalid"],[1,"oauth"],[1,"notifications"],[1,"auth-header"],[1,"description"],[1,"oauth",3,"submit"],[1,"application"],[1,"app-name"],[1,"link"],[1,"scopes"],[1,"scope-list"],[1,"scope"],[1,"hint"],[3,"routerLink"],["type","submit",1,"auth-btn"],[3,"href"],[1,"scope-description"],[1,"scope-blocked"]],template:function(i,n){i&1&&(o(0,"div",0),_(1,Il,6,0,"div",1)(2,Al,33,8,"form",2)(3,Ll,6,0,"div",1),a(),g(4,"notifications",3)),i&2&&(s(),v(n.badRequest()?1:n.app()?2:3))},dependencies:[X,ie,nn],styles:['#comic-oauth[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;align-items:center;justify-content:center;min-height:100%;color:rgb(var(--comic-text-color));background-color:rgba(var(--comic-dark),.8);-webkit-backdrop-filter:var(--comic-filter-blur);backdrop-filter:var(--comic-filter-blur)}.oauth[_ngcontent-%COMP%]{position:fixed;top:3rem;left:50%;transform:translate(-50%);display:flex;flex-direction:column;gap:.25rem;width:25rem;max-width:100vw;min-height:25rem;padding:1rem;margin:auto;border:1px solid rgb(var(--comic-dark));border-radius:6px;background-color:rgba(var(--comic-medium));text-align:center;z-index:201}.application[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:1rem 0rem}.app-name[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.5px}.scope-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:start;gap:.5rem;padding:1rem;border-radius:var(--comic-border-radius);background-color:rgba(var(--comic-light))}.scope[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:start;align-items:start;font-size:.9rem}.scope-description[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem}.scope-description[_ngcontent-%COMP%]:before{display:inline-block;content:"";height:0px;width:0px;padding:.25rem;border-radius:2px;background-color:rgb(var(--comic-text-color))}.scope-blocked[_ngcontent-%COMP%]{font-size:.7rem;color:rgb(var(--comic-warning))}.hint[_ngcontent-%COMP%]{font-size:.8rem}.auth-btn[_ngcontent-%COMP%]{font-size:1.1rem;border:none;border-radius:var(--comic-border-radius);background-color:var(--comic-link-color)}.notifications[_ngcontent-%COMP%]{background-color:rgba(var(--comic-medium))}']})}}return t})();var Vn=class{constructor(){this.id=Number,this.userId=Number,this.listId=Number,this.history=this.stringToBoolean,this.title=String,this.chapters=Number,this.releasedFrom=String,this.releasedTo=String,this.lastUpdated=String,this.contentRating=String,this.matureContent=this.stringToBoolean,this.includeFollowing=this.stringToBoolean,this.desc=this.stringToBoolean,this.limit=Number,this.cursor=String}stringToBoolean(c){return typeof c!="string"?!!c:c.trim().toLowerCase()==="true"}},bt=class t{static{this.converter=new Vn}constructor(c){c&&(this.id=c.id,this.userId=c.userId,this.listId=c.listId,this.history=c.history,this.title=c.title,this.categories=c.categories,this.excludedCategories=c.excludedCategories,this.chapters=c.chapters,this.status=c.status,this.comicTypes=c.comicTypes,this.demographics=c.demographics,this.releasedFrom=c.releasedFrom,this.releasedTo=c.releasedTo,this.lastUpdated=c.lastUpdated,this.contentRating=c.contentRating,this.matureContent=c.matureContent,this.includeFollowing=c.includeFollowing,this.followStates=c.followStates,this.chapterLanguages=c.chapterLanguages,this.sort=c.sort,this.desc=c.desc,this.limit=c.limit,this.cursor=c.cursor,this.clean())}clean(){for(let c in this)this[c]==null||this[c]===""?delete this[c]:Array.isArray(this[c])&&this[c].length==0?delete this[c]:Object.prototype.hasOwnProperty.call(t.converter,c)&&(this[c]=t.converter[c](this[c]))}};var Eo=(t,c)=>c.id;function Nl(t,c){if(t&1&&g(0,"div",25),t&2){let e=c.$implicit;me("background-color",e)}}function Rl(t,c){if(t&1&&S(0,Nl,1,2,"div",24,U),t&2){let e=d(2);O(e.marks())}}function Vl(t,c){t&1&&g(0,"div")}function zl(t,c){if(t&1&&(o(0,"div",22),r(1),a()),t&2){let e=c.$implicit;s(),C(e.name)}}function ql(t,c){if(t&1&&(o(0,"div",23),r(1),a()),t&2){let e=c.$implicit;s(),C(e.name)}}function Ul(t,c){if(t&1){let e=P();o(0,"div",0)(1,"div",2)(2,"div",3),g(3,"comic",1),a(),o(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"span",8),r(9),a()(),o(10,"div",9),Ft(11,Rl,2,0)(12,Vl,1,0),Dt(13,11,null,null,12),At(0,-1),a()(),o(15,"div",10),r(16),a(),o(17,"div",11)(18,"div",12)(19,"div",13),r(20,"Chapters"),a(),o(21,"div",14),r(22),a()(),o(23,"div",12)(24,"div",13),r(25,"Status"),a(),o(26,"div",14),r(27),a()()()(),o(28,"button",15),u("click",function(){h(e);let n=d();return f(n.toggleDescriptionExpand())}),g(29,"span",16),a()()(),o(30,"div",17)(31,"button",18),u("click",function(){h(e);let n=d();return f(n.flip())}),o(32,"mat-icon",19),r(33,"undo"),a()(),o(34,"div",20)(35,"div",21),S(36,zl,2,1,"div",22,Eo),S(38,ql,2,1,"div",23,Eo),a()()()()}if(t&2){let e=d();s(3),p("comic",e.comic())("display",e.coverOnlyDisplay),s(2),k("hidden",e.expandDescription()),s(3),p("className",e.comicType()),s(),C(e.comic().type.toLowerCase()),s(7),C(e.comic().title),s(6),C(e.comic().chapters||"?"),s(5),C(e.comic().status.toLowerCase()||"?"),s(2),p("innerHTML",e.comic().description,qe),s(),k("shown",e.flipped()),s(2),k("shown",e.flipped()),s(4),O(e.comic().genres),s(2),O(e.comic().themes)}}function Hl(t,c){if(t&1&&g(0,"comic",1),t&2){let e=d();p("comic",e.comic())("display",e.coverOnlyDisplay)}}var To=(()=>{class t{constructor(){this.session=y(B),this.comicWidth=120,this.coverOnlyDisplay={position:"none",add:!0,followed:!0,width:`${this.comicWidth}px`,overlay:!0,overlayUpdated:!0},this.hoverDisplay={position:"none",add:!0,followed:!0,width:`${this.comicWidth}px`,description:!0},this.comic=I.required(),this.coverOnly=I(!1),this.marks=T(()=>j.comicMarks(this.comic(),this.session.user.value())),this.expandDescription=E(!1),this.expandNotes=E(!1),this.flipped=E(!1),this.comicType=T(()=>this.comic().type.toLowerCase())}ngOnInit(){}toggleDescriptionExpand(){this.expandDescription.set(!this.expandDescription())}toggleNotesExpand(){this.expandNotes.set(!this.expandNotes())}flip(){this.flipped.set(!this.flipped())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["adv-search-comic"]],inputs:{comic:[1,"comic"],coverOnly:[1,"coverOnly"]},decls:2,vars:1,consts:[[1,"adv-search-comic"],[3,"comic","display"],[1,"main-info"],[1,"comic-cover-container"],[1,"info"],[1,"comic-header","hiddable"],[1,"type"],[1,"comic-type"],[3,"className"],[1,"comic-marks"],[1,"title"],[1,"status"],[1,"comic-info"],[1,"chapter"],[1,"when"],["type","button",1,"comic-info","description-container",3,"click"],[1,"description",3,"innerHTML"],[1,"extra-info"],["type","button",1,"flip-btn","comic-info",3,"click"],[1,"flip-icon"],[1,"info","extra"],[1,"categories"],[1,"genre"],[1,"theme"],[1,"comic-mark",3,"background-color"],[1,"comic-mark"]],template:function(i,n){i&1&&_(0,Ul,40,14,"div",0)(1,Hl,1,2,"comic",1),i&2&&v(n.coverOnly()?1:0)},dependencies:[V,Se],styles:[".adv-search-comic[_ngcontent-%COMP%]{--list-comic-width: 120px;position:relative;flex-shrink:0;display:flex;flex-flow:row nowrap;min-width:0px;max-width:unset;max-height:calc(calc(var(--list-comic-width) / .75) + 2px);margin-bottom:1rem;border:1px solid rgba(var(--comic-light),1);border:1px solid rgba(90,51,56,.5);border-radius:4px;background-color:rgba(var(--comic-dark),1);box-shadow:0 3px 8px 1px #28000040;overflow:hidden}.info[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;height:100%;padding:.5rem;overflow:hidden}.info.extra[_ngcontent-%COMP%]{gap:.25rem;scrollbar-width:thin;scrollbar-color:transparent transparent;overflow:auto}.info.extra[_ngcontent-%COMP%]:hover{scrollbar-color:rgb(var(--comic-dark)) rgb(var(--comic-medium))}.main-info[_ngcontent-%COMP%]{display:flex;width:60%}.extra-info[_ngcontent-%COMP%]{flex:1}.comic-cover-container[_ngcontent-%COMP%]{flex-shrink:0;position:relative;width:var(--update-comic-width);border-radius:3px;background-color:rgba(var(--comic-dark),.8);overflow:hidden}.comic-cover[_ngcontent-%COMP%]{width:100%;aspect-ratio:3/4;object-fit:fill}.comic-header[_ngcontent-%COMP%]{height:98px;overflow:hidden}.type[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;align-items:center;gap:.25rem}.comic-type[_ngcontent-%COMP%]{flex-shrink:0;font-size:.8rem;color:#f08080;text-transform:capitalize}.comic-type[_ngcontent-%COMP%]   .manga[_ngcontent-%COMP%]{color:rgb(var(--manga-color))}.comic-type[_ngcontent-%COMP%]   .manhwa[_ngcontent-%COMP%]{color:rgb(var(--manhwa-color))}.comic-type[_ngcontent-%COMP%]   .manhua[_ngcontent-%COMP%]{color:rgb(var(--manhua-color))}.comic-type[_ngcontent-%COMP%]   .other[_ngcontent-%COMP%]{color:rgb(var(--other-color))}.comic-marks[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.5rem}.comic-mark[_ngcontent-%COMP%]{padding:.35rem;color:red;border-radius:100%;background-color:red}.comic-info[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;gap:.5rem;padding:.25rem .5rem;font-size:.75rem;border-radius:4px;background-color:rgba(var(--comic-medium),1)}.comic-info[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:rgba(var(--comic-medium),.5)}.comic-info[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-medium),.25)}.title[_ngcontent-%COMP%]{flex-shrink:0;contain:inline-size;font-weight:700;letter-spacing:.25px;text-wrap:nowrap;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.description-container[_ngcontent-%COMP%]{flex:1;position:relative;display:flex;flex-direction:column;min-height:1.75rem;color:rgb(var(--comic-text-color));text-align:start;border:none;scrollbar-width:thin;scrollbar-color:transparent transparent;overflow:auto}.description-container[_ngcontent-%COMP%]:hover{scrollbar-color:rgb(var(--comic-dark)) rgb(var(--comic-medium))}.status[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:end;gap:.25rem;width:100%;height:55px;margin-top:auto;text-transform:capitalize}.hiddable[_ngcontent-%COMP%]{flex-shrink:0;margin-bottom:.25rem;overflow:hidden;transition:height .15s ease-in,margin-bottom .15s ease-in}.hidden[_ngcontent-%COMP%]{height:0px!important;margin-bottom:0rem}.categories[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row wrap;justify-content:start;gap:.5rem;font-size:.6rem}.genre[_ngcontent-%COMP%]{padding:.2rem .35rem;border-radius:.5rem;background-color:#6399}.theme[_ngcontent-%COMP%]{padding:.2rem .35rem;border-radius:.5rem;background-color:#33997c99}.flip-btn[_ngcontent-%COMP%]{display:none;border:none;color:rgb(var(--comic-text-color));overflow:hidden;transition:transform .25s ease-in}.flip-icon[_ngcontent-%COMP%]{transition:.25s ease-in}.flip-icon.shown[_ngcontent-%COMP%]{rotate:-180deg}@media(max-width:720px){.list-entry[_ngcontent-%COMP%]{overflow:hidden}.main-info[_ngcontent-%COMP%]{width:calc(100% - 40px)}.extra-info[_ngcontent-%COMP%]{display:flex;position:absolute;right:0;height:100%;width:calc(100% - var(--list-comic-width));padding:.25rem;transform:translate(calc(100% - 40px - .5rem));transition:transform .25s ease-in;background-color:rgb(var(--comic-dark))}.extra-info.shown[_ngcontent-%COMP%]{transform:translate(0)}.flip-btn[_ngcontent-%COMP%]{display:flex}}"]})}}return t})();var $l=["resultsContainer"];function jl(t,c){if(t&1&&g(0,"adv-search-comic",22),t&2){let e=c.$implicit;p("comic",e)}}var Io=(()=>{class t extends on{constructor(){super(),this.render=y(he),this.popupService=y(xe),this.route=y($e),this.router=y(Pe),this.resultContainer=G.required("resultsContainer"),this.size=E(178),this.params=je(this.route.queryParams),this.searchEff.destroy(),this.searchEff=ne(()=>{let e=ve(()=>this.filters());e.title=this.searchForm.title().value(),e.sort=this.searchForm.sort().value(),e.desc=this.searchForm.desc().value(),this.router.navigate(["."],{relativeTo:this.route,queryParams:new bt($(R({},e),{cursor:void 0}))})}),ne(()=>{this.checkWidth()})}id(e,i){return i.id}checkWidth(){let e=this.results(),i=this.resultContainer().nativeElement,n=i.getElementsByClassName("cdk-virtual-scroll-viewport"),l=i.getElementsByClassName("cdk-virtual-scroll-spacer"),m=178/Math.floor(i.clientWidth/500),w=e.length*m;this.size.set(m),this.render.setStyle(n[0],"height",`${w}px`),this.render.setStyle(l[0],"height",`${w}px`)}showFilters(){this.popupService.showFilterPopup({initialFilters:this.filters(),closable:!0,onClose:e=>{this.router.navigate(["."],{relativeTo:this.route,queryParams:new bt($(R({},e),{cursor:void 0}))})}})}getMoreUpdates(){var e=this.lastResult();if(this.pageRx.isLoading()||!e?.pageInfo.more)return;let i=this.lastResult(),n=R({},this.filters());i&&i.pageInfo.more&&(n.cursor=i.pageInfo.next,this.filters.set(n))}loadFilter(){console.log(R({},this.params()));let e=new bt(this.params());return R($(R({},j.emptyFilter()),{sort:"CHAPTER_UPDATE",desc:!0,cursor:void 0}),e)}doSearch(e,i){var n=W([]);if(this.session.user.isLoading())n=W(this.lastResult()?.results??[]);else{let l=e.settings.comicPreferences.title,m=e.settings.comicPreferences.languages,w=e.settings.comicFilterSettings.enableMatureContent,F=$(R({},i),{matureContent:w,chapterLanguages:m});n=this.comicService.searchComics(F).pipe(_e(z=>this.lastResult.set(z)),Y(z=>z.results))}return n.pipe(Y(l=>i.cursor?j.appendComics(this.results()??[],l):l),_e(l=>this.results.set(l)))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["search-page"]],viewQuery:function(i,n){i&1&&ee(n.resultContainer,$l,5),i&2&&te()},features:[q],decls:35,vars:14,consts:[["searchInput",""],["resultsContainer",""],["size-observer","",1,"comic-search-page",3,"doOnChange"],[1,"search-n-filter"],[1,"bar"],[1,"search-btn"],["placeholder","Search Comics",1,"search-input",3,"field"],[1,"search-filter"],["aria-placeholder","Sort",1,"sort-input",3,"field"],["value","CHAPTER_UPDATE",1,"sort-option"],["value","POPULARITY",1,"sort-option"],["value","TITLE",1,"sort-option"],["value","CREATED",1,"sort-option"],[1,"simple-on-off"],["type","checkbox",1,"simple-on-off-toggle",3,"field"],[1,"checkbox"],[1,"checkmark",3,"hidden"],["type","button",1,"filter-btn",3,"click"],["id","search-page-comics"],["scrollWindow","",1,"comics",3,"itemSize"],["class","comic",3,"comic",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],["scroll-anchor","",1,"scroll-anchor",3,"doOnView"],[1,"comic",3,"comic"]],template:function(i,n){if(i&1){let l=P();o(0,"div",2)(1,"div",3)(2,"div",4)(3,"button",5)(4,"mat-icon"),r(5,"search"),a()(),g(6,"input",6,0),D(),a(),o(8,"div",7)(9,"select",8)(10,"option",9),r(11,"Updated"),a(),o(12,"option",10),r(13,"Popular"),a(),o(14,"option",11),r(15,"Title"),a(),o(16,"option",12),r(17,"Created"),a()(),D(),o(18,"label",13)(19,"span"),r(20,"Desc"),a(),g(21,"input",14),D(),o(22,"span",15)(23,"mat-icon",16),r(24,"check"),a()()(),o(25,"button",17),u("click",function(){return h(l),f(n.showFilters())}),o(26,"mat-icon"),r(27,"filter_list"),a(),o(28,"span"),r(29,"Filter"),a()()()(),o(30,"div",18,1)(32,"cdk-virtual-scroll-viewport",19),Wn(33,jl,1,1,"adv-search-comic",20),a()(),g(34,"div",21),a()}i&2&&(p("doOnChange",n.checkWidth.bind(n)),s(6),A(n.searchForm.title),s(3),A(n.searchForm.sort),s(9),k("included",n.filters().desc==!0),s(3),A(n.searchForm.desc),s(2),p("hidden",n.filters().desc!=!0),s(9),p("itemSize",n.size()),s(),p("cdkVirtualForOf",n.results())("cdkVirtualForTrackBy",n.id),s(),p("doOnView",n.getMoreUpdates.bind(n)))},dependencies:[V,Q,X,To,dt,hi,mi,gi,pi,ui,Be],styles:[".comic-search-page[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:2rem;padding:1rem}.search-n-filter[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:end;gap:1rem}.bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;align-items:center;border-radius:4px;background-color:rgb(var(--comic-dark))}.search-input[_ngcontent-%COMP%], .sort-input[_ngcontent-%COMP%]{flex:1;padding:.5rem;margin:0rem;color:var(--comic-top-nav-text-color);font-size:1rem;border:none;box-sizing:border-box;background-color:transparent}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none}.search-filter[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:1rem}.search-filter[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:1}.sort-input[_ngcontent-%COMP%]{flex:unset;border-radius:4px;background-color:rgb(var(--comic-dark))}.search-btn[_ngcontent-%COMP%], .filter-btn[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);display:flex;align-items:center;padding:0rem;border:none;background-color:transparent}.filter-btn[_ngcontent-%COMP%]{padding:.5rem;color:var(--comic-text-color);border-radius:4px;background-color:rgb(var(--comic-dark))}.search-btn[_ngcontent-%COMP%]:hover, .filter-btn[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.75}.simple-on-off[_ngcontent-%COMP%]{position:relative;display:block;align-self:center;padding:.5rem .5rem .5rem 1.5rem;text-align:start;border-radius:4px;background-color:rgb(var(--comic-dark))}.simple-on-off.included[_ngcontent-%COMP%]{font-weight:700}.simple-on-off[_ngcontent-%COMP%]:hover{color:#fff;background-color:rgba(var(--comic-dark),.5)}.simple-on-off[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-transform:capitalize}.simple-on-off-toggle[_ngcontent-%COMP%]{cursor:pointer;position:absolute;width:0px;height:0px;opacity:0;pointer-events:none}.checkbox[_ngcontent-%COMP%]{display:flex;position:absolute;top:50%;left:.25rem;height:.85rem;width:.85rem;border-radius:4px;background-color:#eee;transform:translateY(-50%);overflow:hidden}.checkmark[_ngcontent-%COMP%]{font-size:.85rem}.simple-on-off.included[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background-color:#1e90ff}.simple-on-off.excluded[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{background-color:red}.scroll-anchor[_ngcontent-%COMP%]{position:absolute;bottom:15rem;width:2rem;height:2rem;overflow-x:hidden}@media(max-width:720px){.search-n-filter[_ngcontent-%COMP%]{flex-direction:column;align-items:unset}}"]})}}return t})();var Fo=(()=>{class t extends Ke{constructor(){super(),this.session=y(B)}updateSetting(e,i){switch(i){case"user-account":this.saveAccountSettings$(e).subscribe(n=>{n&&(this.good("Settings Updated","Updated Account Settings"),this.session.updateSettings(n,i))});break;case"user-password":this.savePassword$(e).subscribe(n=>{n&&this.good("Settings Updated","Updated Password")});break;case"user-privacy":this.savePrivacySettings$(e).subscribe(n=>{console.log(n),n&&(this.good("Settings Updated","Updated Privacy Settings"),this.session.updateSettings(n,i))});break;case"user-authorized-apps":this.saveAuthorizedApps$(e).subscribe(n=>{n&&(this.good("Settings Updated","Updated Authorized Apps"),this.session.updateSettings(n,i))});break;case"comic-preferences":this.saveComicPreferences$(e).subscribe(n=>{n&&(this.good("Settings Updated","Updated Comic Preferences"),this.session.updateSettings(n,i))});break;case"comic-marks":this.saveComicMarkSettings$(e).subscribe(n=>{n&&(this.good("Settings Updated","Updated Comic Marks"),this.session.updateSettings(n,i))});break;case"comic-filters":this.saveComicFilterSettings$(e).subscribe(n=>{n&&(this.good("Settings Updated","Updated Filter Settings"),this.session.updateSettings(n,i))});break}}saveAccountSettings$(e){let i=this.api.createMutation("updateUser").withVariable("id",this.session.user.value().id,"ID!").withVariable("username",e.username,"String").withVariable("displayName",e.displayName,"String").withFields("id","username","displayName").build();return this.api.performMutation(i,!0,"Failed to update account settings")}savePassword$(e){let i=this.api.createMutation("changePassword").withVariable("id",this.session.user.value().id,"ID!").withVariable("currentPassword",e.currentPassword,"String!").withVariable("newPassword",e.newPassword,"String!").withFields("id","username","displayName").build();return this.api.performMutation(i,!0,"Failed to change passwords")}saveAuthorizedApps$(e){let i=e.filter(l=>l.deleted).map(l=>({appId:l.appId,deleted:l.deleted})),n=this.api.createMutation("settings").withVariable("authorizedApps",i,"[AuthorizedAppInput]").in("authorizedApps").withFields("appId").withNestedField("application",["id","userId","clientName","description","link","redirectUris","scopes"]).then().build();return this.api.performMutation(n,!0,"Failed to save app settings").pipe(Y(l=>l.authorizedApps))}savePrivacySettings$(e){let i=this.api.createMutation("settings").withVariable("privacySettings",e,"UserPrivacySettingsInput").withNestedField("privacySettings",["privateFollowing","invisibleFollowing","privateLists","invisibleLists","privateHistory","invisibleHistory"]).build();return this.api.performMutation(i,!0,"Failed to save privacy settings").pipe(Y(n=>n.privacySettings))}saveComicPreferences$(e){let i=this.api.createMutation("settings").withVariable("comicPreferences",e,"ComicPreferencesInput").withNestedField("comicPreferences",["displayFollows","languages","title","quickFollow"]).build();return this.api.performMutation(i,!0,"Failed to save comic preferences").pipe(Y(n=>n.comicPreferences))}saveComicFilterSettings$(e){let i=this.api.createMutation("settings").withVariable("comicFilterSettings",e,"ComicFilterSettingsInput").in("comicFilterSettings").withField("enableMatureContent").withNestedField("categoryFilters",["categoryId","category","type","enabled"]).then().build();return this.api.performMutation(i,!0,"Failed to save filter settings").pipe(Y(n=>n.comicFilterSettings))}saveComicMarkSettings$(e){let i=this.api.createMutation("settings").withVariable("comicMarkSettings",e,"[ComicMarkSettingsInput]").withNestedField("comicMarkSettings",["categoryId","category","color","enabled"]).build();return this.api.performMutation(i,!0,"Failed to save comic marks").pipe(Y(n=>n.comicMarkSettings))}good(e,i,n=3e3){this.notifService.notify({type:"good",header:e,body:i},n)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275prov=Me({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Bl=["changesEle"],Oe=(()=>{class t{constructor(){this.session=y(B),this.userService=y(Ie),this.settingsService=y(Fo),this.render=y(he),this.settings=N(()=>this.session.user.value().settings),this.back=ce(),this.hasChanged=N(()=>this.settingsHasChanges()),this.hasChanges=ce(),this.changesEleRef=G("changesEle")}ngOnInit(){}updateSettings(e,i){this.settingsService.updateSetting(e,i)}backToNav(){this.back.emit(0)}settingsHasChanges(){let e=this.checkForChanges();return this.hasChanges.emit(e),e}warnChanges(){let e=this.changesEleRef()?.nativeElement;e&&(this.render.setStyle(e,"scale","1.025"),this.render.setStyle(e,"background-color","red"),setTimeout(()=>{this.render.removeStyle(e,"scale"),this.render.removeStyle(e,"background-color")},250))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["ng-component"]],viewQuery:function(i,n){i&1&&ee(n.changesEleRef,Bl,5),i&2&&te()},outputs:{back:"back",hasChanges:"hasChanges"},decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})();var rn=(()=>{class t{constructor(){this.appModal=E(this.defaultApp()),this.appForm=H(this.appModal),this.save=ce(),this.delete=ce(),this.changed=ce(),this.hasChanged=se(!0),ne(()=>{this.hasChanged.set(this.checkForChanges())})}ngOnInit(){}addRedirect(){this.appModal().redirectUris.findIndex(e=>e.trim()=="")<0&&this.appModal.update(e=>{let i=[...e.redirectUris,""];return $(R({},e),{redirectUris:i})})}removeRedirect(e){this.appModal.update(i=>{let n=i.redirectUris.filter((l,m)=>m!=e);return $(R({},i),{redirectUris:n})})}deleteApp(){let e=this.appModal();this.delete.emit(e)}saveChanges(){this.save.emit(this.appModal())}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["ng-component"]],inputs:{hasChanged:[1,"hasChanged"]},outputs:{save:"save",delete:"delete",changed:"changed",hasChanged:"hasChangedChange"},decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})();function Wl(t,c){if(t&1){let e=P();o(0,"div",6),g(1,"input",10),D(),o(2,"button",14),u("click",function(){let n=h(e).$index,l=d();return f(l.removeRedirect(n))}),o(3,"mat-icon"),r(4,"remove_circle"),a()()()}if(t&2){let e=c.$implicit;s(),A(e)}}function Gl(t,c){if(t&1){let e=P();o(0,"button",17),u("click",function(){h(e);let n=d();return f(n.saveChanges())}),o(1,"span"),r(2,"Save Changes"),a(),o(3,"mat-icon"),r(4,"check"),a()()}}function Ql(t,c){t&1&&g(0,"div",16)}var Do=(()=>{class t extends rn{constructor(){super()}defaultApp(){return{id:0,userId:0,clientName:"",description:"",link:"",redirectUris:[]}}checkForChanges(){return!0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["create-app"]],features:[q],decls:53,vars:7,consts:[[1,"create-app"],[1,"setting-group"],[1,"group-header","setting-header"],[1,"setting"],[1,"setting-header"],[1,"settings-data"],[1,"data-row"],["placeholder","App Name",1,"search-input","url-input",3,"field"],[1,"settings-description"],["placeholder","Description",1,"search-input","description-input",3,"field"],["placeholder","Redirect URL",1,"search-input","url-input",3,"field"],[1,"description-note"],[1,"settings-data","redirect-urls"],["type","button",1,"edit-btn","url-btn",3,"click"],["type","button",1,"edit-btn","delete-btn",3,"click"],["type","button",1,"save-btn","ml-auto"],[1,"changes-spacer"],["type","button",1,"save-btn","ml-auto",3,"click"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1)(2,"h5",2)(3,"span"),r(4,"Application Settings"),a()(),o(5,"div",3)(6,"h6",4)(7,"span"),r(8,"Application Name"),a()(),o(9,"div",5)(10,"div",6),g(11,"input",7),D(),a()()(),o(12,"div",3)(13,"h6",4)(14,"span"),r(15,"Description"),a()(),o(16,"div",8),g(17,"textarea",9),D(),a()(),o(18,"div",3)(19,"h6",4)(20,"span"),r(21,"Link"),a()(),o(22,"div",8),r(23,"Link to your App's website if it has one"),a(),o(24,"div",5)(25,"div",6),g(26,"input",10),D(),a()()(),o(27,"div",3)(28,"h6",4)(29,"span"),r(30,"Redirect URL"),a()(),o(31,"div",8)(32,"span"),r(33,"Your App's redirect URLs for OAuth2"),a()(),o(34,"span",11),r(35,"Note: A redirect URL must be provied when utilizing "),o(36,"b"),r(37,"OAuth2"),a(),r(38," to work and only URLs here are considered valid."),a(),o(39,"div",12),S(40,Wl,5,2,"div",6,U),o(42,"button",13),u("click",function(){return n.addRedirect()}),o(43,"mat-icon"),r(44,"add_circle"),a(),o(45,"span"),r(46,"Add URL"),a()()()()(),o(47,"div",6)(48,"button",14),u("click",function(){return n.deleteApp()}),o(49,"span"),r(50,"Delete App"),a()(),_(51,Gl,5,0,"button",15)(52,Ql,1,0,"div",16),a()()),i&2&&(s(11),A(n.appForm.clientName),s(6),A(n.appForm.description),s(9),A(n.appForm.link),s(14),O(n.appForm.redirectUris),s(11),v(n.hasChanged()?51:52))},dependencies:[V,Q],styles:['.settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:100%;padding:2rem 1.5rem 2rem 2rem}.settings.has-changes[_ngcontent-%COMP%]{box-shadow:inset 0 .25rem .5rem .5rem #00800040}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.back-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.25rem;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:transparent}.back-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{flex-flow:row nowrap;width:fit-content}.save-btn[_ngcontent-%COMP%]{background-color:green}.revert-btn[_ngcontent-%COMP%]{color:rgb(var(--comic-medium));background-color:#daa520}.back-btn[_ngcontent-%COMP%]:hover, .save-btn[_ngcontent-%COMP%]:hover, .revert-btn[_ngcontent-%COMP%]:hover, .edit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:rgba(var(--comic-medium),.75)}.back-btn[_ngcontent-%COMP%]:hover{background-color:rgba(var(--comic-dark),.75)}.back-btn[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-text-color),.1)}.save-btn[_ngcontent-%COMP%]:hover{background-color:#008000bf}.save-btn[_ngcontent-%COMP%]:active{background-color:green}.revert-btn[_ngcontent-%COMP%]:hover{background-color:#daa520bf}.revert-btn[_ngcontent-%COMP%]:active{background-color:#daa520}.changes-spacer[_ngcontent-%COMP%]{height:2.5rem}.settings-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1rem}.setting-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;font-weight:700;letter-spacing:.25px}.settings-description[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.25rem}.description-note[_ngcontent-%COMP%]{font-size:.8rem;color:#6482f0}.warning[_ngcontent-%COMP%]{color:#daa520!important}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:rgb(var(--comic-dark))}.group-header[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.setting[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;border-radius:4px;background-color:rgb(var(--comic-dark))}.setting-data[_ngcontent-%COMP%]{font-size:.9rem}.search-input[_ngcontent-%COMP%]{flex:1;padding:0rem;margin:0rem;color:rgb(var(--comic-text-color));outline:none;border:none;border-radius:4px;background-color:transparent}.color-input[_ngcontent-%COMP%]{cursor:pointer}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none;border-color:rgb(var(--comic-text-color))}.color-input[_ngcontent-%COMP%]:focus-visible{outline:1px solid rgb(var(--comic-text-color))}.setting-control[_ngcontent-%COMP%]{margin-top:.25rem;text-transform:capitalize}.select-option[_ngcontent-%COMP%]{color:rgb(var(--comic-text-color));text-transform:capitalize}.selected-option[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.category-search[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;min-width:12rem;height:2rem;padding:0rem .5rem;font-size:1rem;border-radius:.5rem;background-color:rgb(var(--comic-medium))}.setting-toggle[_ngcontent-%COMP%]{position:relative;width:3rem;height:1.5rem;margin-left:auto}.setting-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:0;height:0;opacity:0}.slider[_ngcontent-%COMP%]{cursor:pointer;position:absolute;inset:0;border-radius:2rem;background-color:#ccc;-webkit-transition:.4s;transition:.3s;z-index:1}.slider[_ngcontent-%COMP%]:before{content:"";position:absolute;left:4px;bottom:4px;height:1rem;width:1rem;border-radius:50%;background-color:#fff;-webkit-transition:.4s;transition:.3s;z-index:1}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(1.5rem);-ms-transform:translateX(1.5rem);transform:translate(1.5rem)}.data-row[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;gap:.25rem 1rem}.mock-password[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);width:6rem;margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.delete-acc[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:3rem}.delete-btn[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.25px;background-color:#c83232}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#dc3232}.delete-btn[_ngcontent-%COMP%]:active{background-color:#b43232}.undo-btn[_ngcontent-%COMP%]{background-color:transparent}.undo-btn[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-dark))}.undo-btn[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-light))}.back-btn[_ngcontent-%COMP%]{display:none}.changes[_ngcontent-%COMP%]{visibility:hidden;position:sticky;bottom:1rem;padding:.5rem;border-radius:4px;box-shadow:0 6px 12px 1px rgba(var(--comic-warning),.5);background-color:rgb(var(--comic-dark));transition:scale .25s ease-in,background-color .25s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible}@media(max-width:720px){.back-btn[_ngcontent-%COMP%]{display:flex}}.settings[_ngcontent-%COMP%]{gap:0rem}.settings.has-changes[_ngcontent-%COMP%]{box-shadow:unset}.my-app-settings[_ngcontent-%COMP%]{padding:0rem}.app-sections[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.app-sections.has-changes[_ngcontent-%COMP%]{box-shadow:inset 0 .25rem .5rem .5rem #00800040}.section-selection[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:start;align-items:center;height:4rem;font-size:1.1rem;background-color:rgb(var(--comic-dark))}.section-option[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;height:100%;color:rgb(var(--comic-text-color));text-align:center;border:none;border-left:1px solid transparent;border-right:1px solid transparent;background-color:transparent}.section-option.active[_ngcontent-%COMP%], .section-option[_ngcontent-%COMP%]:hover{color:#fff;border-left:1px solid rgb(var(--comic-dark));border-right:1px solid rgb(var(--comic-dark));background-color:rgb(var(--comic-medium))}.section-option[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-medium),.5)}.section-option[_ngcontent-%COMP%]:first-child{border-left:1px solid transparent}.section-option[_ngcontent-%COMP%]:last-child{border-right:1px solid transparent}.section-option-name[_ngcontent-%COMP%]{margin:auto}.app-btn[_ngcontent-%COMP%], .to-docs[_ngcontent-%COMP%], .url-btn[_ngcontent-%COMP%], .info-btn[_ngcontent-%COMP%]{display:flex;align-items:center;width:fit-content;font-size:1.1rem;font-weight:700;letter-spacing:.25px;border-radius:4px;background-color:rgb(var(--comic-medium))}.app-btn[_ngcontent-%COMP%], .url-btn[_ngcontent-%COMP%]{margin-top:.25rem}.app-btn[_ngcontent-%COMP%]:hover, .to-docs[_ngcontent-%COMP%]:hover, .url-btn[_ngcontent-%COMP%]:hover, .info-btn[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-medium),.5)}.app-btn[_ngcontent-%COMP%]:active, .to-docs[_ngcontent-%COMP%]:active, .url-btn[_ngcontent-%COMP%]:active, .info-btn[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-medium))}.docs-link[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem}.description-input[_ngcontent-%COMP%]{width:100%;height:5rem;background-color:rgb(var(--comic-medium))}.app-information[_ngcontent-%COMP%]{flex-flow:row wrap;align-items:start;justify-content:space-around;display:grid;grid-template-columns:repeat(auto-fit,minmax(13rem,1fr));gap:.5rem}.app-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.info-btn[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;width:100%;font-size:1rem}.info-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.reset-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.25rem}.redirect-urls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.url-input[_ngcontent-%COMP%]{height:2rem;padding:0rem 1rem;background-color:rgb(var(--comic-medium))}.url-btn[_ngcontent-%COMP%]{width:fit-content;font-size:1rem}[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.create-app[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-between;gap:1rem;height:100%}']})}}return t})();function Yl(t,c){if(t&1){let e=P();o(0,"button",19),u("click",function(){h(e);let n=d(2);return f(n.copy("App ID",n.appModal().clientSecret))}),o(1,"span",24),r(2),a(),o(3,"mat-icon"),r(4,"copy_all"),a()()}if(t&2){let e=d(2);s(2),C(e.appModal().clientSecret)}}function Kl(t,c){t&1&&(o(0,"button",21)(1,"span",24),r(2,"Hidden for Security"),a()())}function Xl(t,c){if(t&1){let e=P();o(0,"button",19),u("click",function(){let n;h(e);let l=d(2);return f(l.copy("App ID",(n=l.appToken())==null?null:n.accessToken))}),o(1,"span",24),r(2),a(),o(3,"mat-icon"),r(4,"copy_all"),a()()}if(t&2){let e,i=d(2);s(2),C((e=i.appToken())==null?null:e.accessToken)}}function Zl(t,c){t&1&&(o(0,"button",21)(1,"span",24),r(2,"Hidden for Security"),a()())}function Jl(t,c){if(t&1){let e=P();o(0,"div",3)(1,"h6",4)(2,"span"),r(3,"General Information"),a()(),o(4,"div",5)(5,"div",16)(6,"div",17)(7,"div",18),r(8,"Application ID"),a(),o(9,"button",19),u("click",function(){h(e);let n=d();return f(n.copy("App ID",n.appModal().id))}),o(10,"span"),r(11),a(),o(12,"mat-icon"),r(13,"copy_all"),a()()(),o(14,"div",17)(15,"div",18),r(16,"Application Secret"),a(),_(17,Yl,5,1,"button",20)(18,Kl,3,0,"button",21),o(19,"button",22),u("click",function(){h(e);let n=d();return f(n.resetSecret())}),o(20,"span"),r(21,"Click to Reset"),a()(),o(22,"span",23),r(23,"Only shown once. Click to Copy then store it."),a()(),o(24,"div",17)(25,"div",18),r(26,"Application Token"),a(),_(27,Xl,5,1,"button",20)(28,Zl,3,0,"button",21),o(29,"button",22),u("click",function(){h(e);let n=d();return f(n.resetToken())}),o(30,"span"),r(31,"Click to Reset"),a()(),o(32,"span",23),r(33,"Only shown once. Click to Copy then store it."),a()()()()()}if(t&2){let e=d();s(11),C(e.appModal().id),s(6),v(e.secretPresent()?17:18),s(10),v(e.appToken()?27:28)}}function ed(t,c){if(t&1){let e=P();o(0,"div",6),g(1,"input",25),D(),o(2,"button",14),u("click",function(){let n=h(e).$index,l=d();return f(l.removeRedirect(n))}),o(3,"mat-icon"),r(4,"remove_circle"),a()()()}if(t&2){let e=c.$implicit;s(),A(e)}}function td(t,c){if(t&1){let e=P();o(0,"button",26),u("click",function(){h(e);let n=d();return f(n.revertChanges())}),o(1,"span"),r(2,"Revert Changes"),a()(),o(3,"button",27),u("click",function(){h(e);let n=d();return f(n.saveChanges())}),o(4,"span"),r(5,"Save Changes"),a(),o(6,"mat-icon"),r(7,"check"),a()()}}function nd(t,c){t&1&&g(0,"div",15)}var Ao=(()=>{class t extends rn{constructor(){super(),this.appService=y(Ze),this.notifService=y(oe),this.popupService=y(xe),this.app=I.required(),this.appModal=N(()=>this.defaultApp()),this.appForm=H(this.appModal),this.secretPresent=E(!1),this.appToken=E(void 0)}copy(e,i){return yt(this,null,function*(){i&&(yield navigator.clipboard.writeText(`${i}`),this.notifService.notify({type:"good",header:`${e} copied to clipboard`,body:""}))})}revertChanges(){this.appModal.set(structuredClone(this.app()))}resetSecret(){let e=this.appModal();this.popupService.showConfirmPopup({confirmText:`Are you sure you want reset ${e.clientName}'s secret?`,onClose:i=>{i&&this.appService.resetAppSecret(e.id).subscribe(n=>{n&&(this.appModal.set($(R({},e),{clientSecret:n.clientSecret})),this.secretPresent.set(!0))})}})}resetToken(){let e=this.appModal();this.popupService.showConfirmPopup({confirmText:`Are you sure you want reset ${e.clientName}'s secret?`,onClose:i=>{i&&this.appService.resetAppToken(e.id).subscribe(n=>{n&&this.appToken.set(n)})}})}checkForChanges(){let e=this.app(),i=this.appModal();if(e.clientName!=i.clientName.trim()||e.description!=i.description.trim()||e.link!=i.link.trim()||i.redirectUris.length!=e.redirectUris.length)return!0;for(let n of i.redirectUris)if(!e.redirectUris.includes(n.trim()))return!0;return!1}defaultApp(){if(this.app){let e=this.app();if(e)return structuredClone(e)}return{id:0,userId:0,clientName:"",description:"",link:"",redirectUris:[]}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["edit-app"]],inputs:{app:[1,"app"]},features:[q],decls:54,vars:8,consts:[[1,"create-app"],[1,"setting-group"],[1,"group-header","setting-header"],[1,"setting"],[1,"setting-header"],[1,"settings-data"],[1,"data-row"],["placeholder","App Name",1,"search-input","url-input",3,"field"],[1,"settings-description"],["placeholder","Description",1,"search-input","description-input",3,"field"],["placeholder","https://my-app-website.com",1,"search-input","url-input",3,"field"],[1,"description-note"],[1,"settings-data","redirect-urls"],["type","button",1,"edit-btn","url-btn",3,"click"],["type","button",1,"edit-btn","delete-btn",3,"click"],[1,"changes-spacer"],[1,"data-row","app-information"],[1,"app-info"],[1,"info-header"],["type","button",1,"edit-btn","info-btn",3,"click"],["type","button",1,"edit-btn","info-btn"],["type","button","disabled","",1,"edit-btn","info-btn","disabled"],["type","button",1,"edit-btn","info-btn","reset-btn",3,"click"],[1,"description-note","warning"],[1,"clientSecret"],["placeholder","https://my-app-website.com/redirect-url",1,"search-input","url-input",3,"field"],["type","button",1,"revert-btn",3,"click"],["type","button",1,"save-btn","ml-auto",3,"click"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1)(2,"h5",2)(3,"span"),r(4,"Application Settings"),a()(),o(5,"div",3)(6,"h6",4)(7,"span"),r(8,"Application Name"),a()(),o(9,"div",5)(10,"div",6),g(11,"input",7),D(),a()()(),o(12,"div",3)(13,"h6",4)(14,"span"),r(15,"Description"),a()(),o(16,"div",8),g(17,"textarea",9),D(),a()(),_(18,Jl,34,3,"div",3),o(19,"div",3)(20,"h6",4)(21,"span"),r(22,"Link"),a()(),o(23,"div",8),r(24,"Link to your App's website if it has one"),a(),o(25,"div",5)(26,"div",6),g(27,"input",10),D(),a()()(),o(28,"div",3)(29,"h6",4)(30,"span"),r(31,"Redirect URL"),a()(),o(32,"div",8)(33,"span"),r(34,"Your App's redirect URLs for OAuth2"),a()(),o(35,"span",11),r(36,"Note: A redirect URL must be provied when utilizing "),o(37,"b"),r(38,"OAuth2"),a(),r(39," to work and only URLs here are considered valid."),a(),o(40,"div",12),S(41,ed,5,2,"div",6,U),o(43,"button",13),u("click",function(){return n.addRedirect()}),o(44,"mat-icon"),r(45,"add_circle"),a(),o(46,"span"),r(47,"Add URL"),a()()()()(),o(48,"div",6)(49,"button",14),u("click",function(){return n.deleteApp()}),o(50,"span"),r(51,"Delete App"),a()(),_(52,td,8,0)(53,nd,1,0,"div",15),a()()),i&2&&(s(11),A(n.appForm.clientName),s(6),A(n.appForm.description),s(),v(n.appModal().id!=0?18:-1),s(9),A(n.appForm.link),s(14),O(n.appForm.redirectUris),s(11),v(n.hasChanged()?52:53))},dependencies:[V,Q],styles:['.settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:100%;padding:2rem 1.5rem 2rem 2rem}.settings.has-changes[_ngcontent-%COMP%]{box-shadow:inset 0 .25rem .5rem .5rem #00800040}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.back-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.25rem;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:transparent}.back-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{flex-flow:row nowrap;width:fit-content}.save-btn[_ngcontent-%COMP%]{background-color:green}.revert-btn[_ngcontent-%COMP%]{color:rgb(var(--comic-medium));background-color:#daa520}.back-btn[_ngcontent-%COMP%]:hover, .save-btn[_ngcontent-%COMP%]:hover, .revert-btn[_ngcontent-%COMP%]:hover, .edit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:rgba(var(--comic-medium),.75)}.back-btn[_ngcontent-%COMP%]:hover{background-color:rgba(var(--comic-dark),.75)}.back-btn[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-text-color),.1)}.save-btn[_ngcontent-%COMP%]:hover{background-color:#008000bf}.save-btn[_ngcontent-%COMP%]:active{background-color:green}.revert-btn[_ngcontent-%COMP%]:hover{background-color:#daa520bf}.revert-btn[_ngcontent-%COMP%]:active{background-color:#daa520}.changes-spacer[_ngcontent-%COMP%]{height:2.5rem}.settings-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1rem}.setting-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;font-weight:700;letter-spacing:.25px}.settings-description[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.25rem}.description-note[_ngcontent-%COMP%]{font-size:.8rem;color:#6482f0}.warning[_ngcontent-%COMP%]{color:#daa520!important}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:rgb(var(--comic-dark))}.group-header[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.setting[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;border-radius:4px;background-color:rgb(var(--comic-dark))}.setting-data[_ngcontent-%COMP%]{font-size:.9rem}.search-input[_ngcontent-%COMP%]{flex:1;padding:0rem;margin:0rem;color:rgb(var(--comic-text-color));outline:none;border:none;border-radius:4px;background-color:transparent}.color-input[_ngcontent-%COMP%]{cursor:pointer}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none;border-color:rgb(var(--comic-text-color))}.color-input[_ngcontent-%COMP%]:focus-visible{outline:1px solid rgb(var(--comic-text-color))}.setting-control[_ngcontent-%COMP%]{margin-top:.25rem;text-transform:capitalize}.select-option[_ngcontent-%COMP%]{color:rgb(var(--comic-text-color));text-transform:capitalize}.selected-option[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.category-search[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;min-width:12rem;height:2rem;padding:0rem .5rem;font-size:1rem;border-radius:.5rem;background-color:rgb(var(--comic-medium))}.setting-toggle[_ngcontent-%COMP%]{position:relative;width:3rem;height:1.5rem;margin-left:auto}.setting-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:0;height:0;opacity:0}.slider[_ngcontent-%COMP%]{cursor:pointer;position:absolute;inset:0;border-radius:2rem;background-color:#ccc;-webkit-transition:.4s;transition:.3s;z-index:1}.slider[_ngcontent-%COMP%]:before{content:"";position:absolute;left:4px;bottom:4px;height:1rem;width:1rem;border-radius:50%;background-color:#fff;-webkit-transition:.4s;transition:.3s;z-index:1}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(1.5rem);-ms-transform:translateX(1.5rem);transform:translate(1.5rem)}.data-row[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;gap:.25rem 1rem}.mock-password[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);width:6rem;margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.delete-acc[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:3rem}.delete-btn[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.25px;background-color:#c83232}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#dc3232}.delete-btn[_ngcontent-%COMP%]:active{background-color:#b43232}.undo-btn[_ngcontent-%COMP%]{background-color:transparent}.undo-btn[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-dark))}.undo-btn[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-light))}.back-btn[_ngcontent-%COMP%]{display:none}.changes[_ngcontent-%COMP%]{visibility:hidden;position:sticky;bottom:1rem;padding:.5rem;border-radius:4px;box-shadow:0 6px 12px 1px rgba(var(--comic-warning),.5);background-color:rgb(var(--comic-dark));transition:scale .25s ease-in,background-color .25s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible}@media(max-width:720px){.back-btn[_ngcontent-%COMP%]{display:flex}}.settings[_ngcontent-%COMP%]{gap:0rem}.settings.has-changes[_ngcontent-%COMP%]{box-shadow:unset}.my-app-settings[_ngcontent-%COMP%]{padding:0rem}.app-sections[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.app-sections.has-changes[_ngcontent-%COMP%]{box-shadow:inset 0 .25rem .5rem .5rem #00800040}.section-selection[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:start;align-items:center;height:4rem;font-size:1.1rem;background-color:rgb(var(--comic-dark))}.section-option[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;height:100%;color:rgb(var(--comic-text-color));text-align:center;border:none;border-left:1px solid transparent;border-right:1px solid transparent;background-color:transparent}.section-option.active[_ngcontent-%COMP%], .section-option[_ngcontent-%COMP%]:hover{color:#fff;border-left:1px solid rgb(var(--comic-dark));border-right:1px solid rgb(var(--comic-dark));background-color:rgb(var(--comic-medium))}.section-option[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-medium),.5)}.section-option[_ngcontent-%COMP%]:first-child{border-left:1px solid transparent}.section-option[_ngcontent-%COMP%]:last-child{border-right:1px solid transparent}.section-option-name[_ngcontent-%COMP%]{margin:auto}.app-btn[_ngcontent-%COMP%], .to-docs[_ngcontent-%COMP%], .url-btn[_ngcontent-%COMP%], .info-btn[_ngcontent-%COMP%]{display:flex;align-items:center;width:fit-content;font-size:1.1rem;font-weight:700;letter-spacing:.25px;border-radius:4px;background-color:rgb(var(--comic-medium))}.app-btn[_ngcontent-%COMP%], .url-btn[_ngcontent-%COMP%]{margin-top:.25rem}.app-btn[_ngcontent-%COMP%]:hover, .to-docs[_ngcontent-%COMP%]:hover, .url-btn[_ngcontent-%COMP%]:hover, .info-btn[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-medium),.5)}.app-btn[_ngcontent-%COMP%]:active, .to-docs[_ngcontent-%COMP%]:active, .url-btn[_ngcontent-%COMP%]:active, .info-btn[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-medium))}.docs-link[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem}.description-input[_ngcontent-%COMP%]{width:100%;height:5rem;background-color:rgb(var(--comic-medium))}.app-information[_ngcontent-%COMP%]{flex-flow:row wrap;align-items:start;justify-content:space-around;display:grid;grid-template-columns:repeat(auto-fit,minmax(13rem,1fr));gap:.5rem}.app-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.info-btn[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;width:100%;font-size:1rem}.info-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.reset-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.25rem}.redirect-urls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.url-input[_ngcontent-%COMP%]{height:2rem;padding:0rem 1rem;background-color:rgb(var(--comic-medium))}.url-btn[_ngcontent-%COMP%]{width:fit-content;font-size:1rem}[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.create-app[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:space-between;gap:1rem;height:100%}.disabled[_ngcontent-%COMP%]{opacity:.6}.info-btn.disabled[_ngcontent-%COMP%]:hover{color:rgb(var(--comic-text-color));background-color:rgb(var(--comic-medium))}.clientSecret[_ngcontent-%COMP%], .clientToken[_ngcontent-%COMP%]{text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap;overflow:hidden}']})}}return t})();function id(t,c){if(t&1){let e=P();o(0,"button",3),u("click",function(){let n=h(e).$index,l=d();return f(l.changeSection(n))}),o(1,"span",4),r(2),a()()}if(t&2){let e=c.$implicit,i=c.$index,n=d();k("active",n.section()==i),s(2),C(e.clientName)}}function od(t,c){if(t&1){let e=P();o(0,"div",11)(1,"h5",12)(2,"span"),r(3,"Apps Overview"),a()(),o(4,"div",13)(5,"h6",14)(6,"span"),r(7,"What they do?"),a()(),o(8,"div",15)(9,"p")(10,"b"),r(11),a(),r(12," apps are able to make use "),o(13,"b"),r(14),a(),r(15,"'s API giving access to its collection of comics, characters, staff, and so on. Apps are also able to interact with user data through OAuth2. Every app is given a non-expiring token to access general endpoints as well as "),o(16,"b"),r(17,"special"),a(),r(18," endpoints only accessible with an App's token. "),a()()(),o(19,"div",13)(20,"h6",14)(21,"span"),r(22,"OAuth2"),a()(),o(23,"div",15)(24,"p"),r(25," Through "),o(26,"b"),r(27),a(),r(28,"'s API, Apps are capable of utilizing OAuth2 with our site, making one able obtain the aspects of a user's data -- such as their following list -- allowing your app to immediately present your users with comics that interest them. "),a()()(),o(29,"div",13)(30,"h6",14)(31,"span"),r(32,"Making an App"),a()(),o(33,"div",15)(34,"p"),r(35," Anyone is able to make an App, all thats required for creation is simply a name for your App. For features such as OAuth2, you'll need to set up redirect URLs for your App and ideally a description so users know what what your app does before giving it access to their data. "),a(),o(36,"span",16),r(37,"Note: Each individual is only capable of having at most "),o(38,"b"),r(39,"two"),a(),r(40," Apps at any given time."),a(),g(41,"br"),o(42,"button",17),u("click",function(){h(e);let n=d();return f(n.addApp())}),o(43,"span"),r(44,"Create an App"),a()()()(),o(45,"div",13)(46,"h6",14)(47,"span"),r(48,"API Docs"),a()(),o(49,"div",15)(50,"p"),r(51," This is just a general overview what Apps and the API are capable of. For more in-depth information on how to use our API, go to our API Documentation page. "),a(),o(52,"div",18)(53,"a",19),r(54,"Api Documentation"),a()()()()()}if(t&2){let e=d();s(11),C(e.APP_NAME),s(3),C(e.APP_NAME),s(13),C(e.APP_NAME)}}function rd(t,c){if(t&1){let e=P();o(0,"create-app",22,0),u("save",function(n){h(e);let l=d(2);return f(l.saveApp(n))})("delete",function(n){h(e);let l=d(2);return f(l.deleteApp(n))}),Re("hasChangedChange",function(n){h(e);let l=d(2);return Ne(l.hasChanged,n)||(l.hasChanged=n),f(n)}),a()}if(t&2){let e=d(2);Le("hasChanged",e.hasChanged)}}function ad(t,c){if(t&1){let e=P();o(0,"edit-app",23,0),u("save",function(n){h(e);let l=d(2);return f(l.saveApp(n))})("delete",function(n){h(e);let l=d(2);return f(l.deleteApp(n))}),Re("hasChangedChange",function(n){h(e);let l=d(2);return Ne(l.hasChanged,n)||(l.hasChanged=n),f(n)}),a()}if(t&2){let e=d(2);p("app",e.selectedApp()),Le("hasChanged",e.hasChanged)}}function cd(t,c){if(t&1&&_(0,rd,2,1,"create-app",20)(1,ad,2,2,"edit-app",21),t&2){let e=d();v(e.selectedApp().id==0?0:1)}}var Lo=(()=>{class t extends Oe{constructor(){super(),this.popupService=y(xe),this.notifService=y(oe),this.appService=y(Ze),this.userApps=se.required(),this.section=E(-1),this.apps=N(()=>structuredClone(this.userApps())),this.appsForm=H(this.apps),this.selectedApp=N(()=>this.selectApp()),this.APP_NAME=j.APP_NAME}changeSection(e){(!this.hasChanged()||this.section()==-1)&&this.section.set(e)}addApp(){if(this.apps().length>=j.MAX_APPLICATIONS){this.notifService.notify({type:"warning",header:"Applications Limit Reached",body:`You can may only have ${j.MAX_APPLICATIONS} applications`});return}let e=j.emptyApp();this.apps.update(n=>[...n,e]);let i=this.apps().length-1;this.changeSection(i)}saveApp(e){let i=structuredClone(e);"clientSecret"in i&&delete i.clientSecret,i.redirectUris=i.redirectUris.filter(n=>n.trim()!=""),this.appService.saveApp(i).subscribe(n=>{n&&(this.apps.update(l=>this.updateApps(l,n,i.id==0)),this.userApps.update(l=>this.updateApps(l,n,i.id==0)),e.id==0&&this.removeApp(e.id),this.notifService.notify({type:"good",header:"Applications Update",body:`"${i.clientName}" ${e.id==0?"created":"updated"}.`}),this.selectedApp.set(n))})}deleteApp(e){if(e.id==0){this.removeApp(e.id),this.section.set(-1);return}this.popupService.showConfirmPopup({confirmText:`Are you sure you want to delete "${e.clientName}"?`,confirmTest:e.clientName,confirmHint:`Type "${e.clientName}" to confirm`,onClose:i=>{i&&this.appService.deleteApp(e).subscribe(n=>{n&&(this.removeApp(e.id),this.section.set(-1),this.notifService.notify({type:"warning",header:"Applications Update",body:`"${e.clientName}" deleted.`},5e3))})}})}checkForChanges(){return this.userApps().length!=this.apps().length}removeApp(e){this.userApps.update(i=>i.filter((l,m)=>l.id!=e)),this.apps.update(i=>i.filter((l,m)=>l.id!=e))}updateApps(e,i,n){let l=[...e];if(n)return l.push(i),l;let m=l.findIndex(w=>w.id==i.id);return m>-1&&(l[m]=i),l}selectApp(){let e=this.section();if(e==-1)return;let i=this.apps()[e];if(i)return structuredClone(i)}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["my-app-settings"]],inputs:{userApps:[1,"userApps"]},outputs:{userApps:"userAppsChange"},features:[q],decls:18,vars:6,consts:[["currentSelectedApp",""],[1,"settings","my-app-settings"],[1,"section-selection"],["type","button",1,"section-option",3,"click"],[1,"section-option-name"],["type","button",1,"section-option",3,"active"],[1,"data-row"],["type","button",1,"back-btn",3,"click"],[1,"app-sections"],[1,"settings-section-header"],[1,"settings-list"],[1,"setting-group"],[1,"group-header","setting-header"],[1,"setting"],[1,"setting-header"],[1,"settings-description"],[1,"description-note"],["type","button",1,"edit-btn","app-btn",3,"click"],[1,"to-docs"],[1,"docs-link"],[3,"hasChanged"],[3,"app","hasChanged"],[3,"save","delete","hasChangedChange","hasChanged"],[3,"save","delete","hasChangedChange","app","hasChanged"]],template:function(i,n){i&1&&(o(0,"div",1)(1,"div",2)(2,"button",3),u("click",function(){return n.changeSection(-1)}),o(3,"span",4),r(4,"API Overview"),a()(),S(5,id,3,3,"button",5,U),a(),o(7,"div",6)(8,"button",7),u("click",function(){return n.backToNav()}),o(9,"mat-icon"),r(10,"chevron_left"),a(),o(11,"span"),r(12,"Back"),a()()(),o(13,"div",8),g(14,"h4",9),o(15,"div",10),_(16,od,55,3,"div",11),_(17,cd,2,1),a()()()),i&2&&(s(2),k("active",n.section()==-1),s(3),O(n.apps()),s(8),k("has-changes",n.hasChanged()),s(3),v(n.section()==-1?16:-1),s(),v(n.selectedApp()&&n.section()!=-1?17:-1))},dependencies:[V,Do,Ao],styles:['.settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:100%;padding:2rem 1.5rem 2rem 2rem}.settings.has-changes[_ngcontent-%COMP%]{box-shadow:inset 0 .25rem .5rem .5rem #00800040}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.back-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.25rem;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:transparent}.back-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{flex-flow:row nowrap;width:fit-content}.save-btn[_ngcontent-%COMP%]{background-color:green}.revert-btn[_ngcontent-%COMP%]{color:rgb(var(--comic-medium));background-color:#daa520}.back-btn[_ngcontent-%COMP%]:hover, .save-btn[_ngcontent-%COMP%]:hover, .revert-btn[_ngcontent-%COMP%]:hover, .edit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:rgba(var(--comic-medium),.75)}.back-btn[_ngcontent-%COMP%]:hover{background-color:rgba(var(--comic-dark),.75)}.back-btn[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-text-color),.1)}.save-btn[_ngcontent-%COMP%]:hover{background-color:#008000bf}.save-btn[_ngcontent-%COMP%]:active{background-color:green}.revert-btn[_ngcontent-%COMP%]:hover{background-color:#daa520bf}.revert-btn[_ngcontent-%COMP%]:active{background-color:#daa520}.changes-spacer[_ngcontent-%COMP%]{height:2.5rem}.settings-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1rem}.setting-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;font-weight:700;letter-spacing:.25px}.settings-description[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.25rem}.description-note[_ngcontent-%COMP%]{font-size:.8rem;color:#6482f0}.warning[_ngcontent-%COMP%]{color:#daa520!important}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:rgb(var(--comic-dark))}.group-header[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.setting[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;border-radius:4px;background-color:rgb(var(--comic-dark))}.setting-data[_ngcontent-%COMP%]{font-size:.9rem}.search-input[_ngcontent-%COMP%]{flex:1;padding:0rem;margin:0rem;color:rgb(var(--comic-text-color));outline:none;border:none;border-radius:4px;background-color:transparent}.color-input[_ngcontent-%COMP%]{cursor:pointer}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none;border-color:rgb(var(--comic-text-color))}.color-input[_ngcontent-%COMP%]:focus-visible{outline:1px solid rgb(var(--comic-text-color))}.setting-control[_ngcontent-%COMP%]{margin-top:.25rem;text-transform:capitalize}.select-option[_ngcontent-%COMP%]{color:rgb(var(--comic-text-color));text-transform:capitalize}.selected-option[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.category-search[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;min-width:12rem;height:2rem;padding:0rem .5rem;font-size:1rem;border-radius:.5rem;background-color:rgb(var(--comic-medium))}.setting-toggle[_ngcontent-%COMP%]{position:relative;width:3rem;height:1.5rem;margin-left:auto}.setting-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:0;height:0;opacity:0}.slider[_ngcontent-%COMP%]{cursor:pointer;position:absolute;inset:0;border-radius:2rem;background-color:#ccc;-webkit-transition:.4s;transition:.3s;z-index:1}.slider[_ngcontent-%COMP%]:before{content:"";position:absolute;left:4px;bottom:4px;height:1rem;width:1rem;border-radius:50%;background-color:#fff;-webkit-transition:.4s;transition:.3s;z-index:1}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(1.5rem);-ms-transform:translateX(1.5rem);transform:translate(1.5rem)}.data-row[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;gap:.25rem 1rem}.mock-password[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);width:6rem;margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.delete-acc[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:3rem}.delete-btn[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.25px;background-color:#c83232}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#dc3232}.delete-btn[_ngcontent-%COMP%]:active{background-color:#b43232}.undo-btn[_ngcontent-%COMP%]{background-color:transparent}.undo-btn[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-dark))}.undo-btn[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-light))}.back-btn[_ngcontent-%COMP%]{display:none}.changes[_ngcontent-%COMP%]{visibility:hidden;position:sticky;bottom:1rem;padding:.5rem;border-radius:4px;box-shadow:0 6px 12px 1px rgba(var(--comic-warning),.5);background-color:rgb(var(--comic-dark));transition:scale .25s ease-in,background-color .25s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible}@media(max-width:720px){.back-btn[_ngcontent-%COMP%]{display:flex}}.settings[_ngcontent-%COMP%]{gap:0rem}.settings.has-changes[_ngcontent-%COMP%]{box-shadow:unset}.my-app-settings[_ngcontent-%COMP%]{padding:0rem}.app-sections[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.app-sections.has-changes[_ngcontent-%COMP%]{box-shadow:inset 0 .25rem .5rem .5rem #00800040}.section-selection[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:start;align-items:center;height:4rem;font-size:1.1rem;background-color:rgb(var(--comic-dark))}.section-option[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;height:100%;color:rgb(var(--comic-text-color));text-align:center;border:none;border-left:1px solid transparent;border-right:1px solid transparent;background-color:transparent}.section-option.active[_ngcontent-%COMP%], .section-option[_ngcontent-%COMP%]:hover{color:#fff;border-left:1px solid rgb(var(--comic-dark));border-right:1px solid rgb(var(--comic-dark));background-color:rgb(var(--comic-medium))}.section-option[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-medium),.5)}.section-option[_ngcontent-%COMP%]:first-child{border-left:1px solid transparent}.section-option[_ngcontent-%COMP%]:last-child{border-right:1px solid transparent}.section-option-name[_ngcontent-%COMP%]{margin:auto}.app-btn[_ngcontent-%COMP%], .to-docs[_ngcontent-%COMP%], .url-btn[_ngcontent-%COMP%], .info-btn[_ngcontent-%COMP%]{display:flex;align-items:center;width:fit-content;font-size:1.1rem;font-weight:700;letter-spacing:.25px;border-radius:4px;background-color:rgb(var(--comic-medium))}.app-btn[_ngcontent-%COMP%], .url-btn[_ngcontent-%COMP%]{margin-top:.25rem}.app-btn[_ngcontent-%COMP%]:hover, .to-docs[_ngcontent-%COMP%]:hover, .url-btn[_ngcontent-%COMP%]:hover, .info-btn[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-medium),.5)}.app-btn[_ngcontent-%COMP%]:active, .to-docs[_ngcontent-%COMP%]:active, .url-btn[_ngcontent-%COMP%]:active, .info-btn[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-medium))}.docs-link[_ngcontent-%COMP%]{cursor:pointer;padding:.5rem}.description-input[_ngcontent-%COMP%]{width:100%;height:5rem;background-color:rgb(var(--comic-medium))}.app-information[_ngcontent-%COMP%]{flex-flow:row wrap;align-items:start;justify-content:space-around;display:grid;grid-template-columns:repeat(auto-fit,minmax(13rem,1fr));gap:.5rem}.app-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.info-btn[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;justify-content:space-between;width:100%;font-size:1rem}.info-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1}.reset-btn[_ngcontent-%COMP%]{font-size:.9rem;padding:.25rem}.redirect-urls[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.url-input[_ngcontent-%COMP%]{height:2rem;padding:0rem 1rem;background-color:rgb(var(--comic-medium))}.url-btn[_ngcontent-%COMP%]{width:fit-content;font-size:1rem}']})}}return t})();var sd=(t,c)=>c.id;function ld(t,c){if(t&1){let e=P();o(0,"button",11),u("click",function(){let n=h(e).$implicit,l=d(2);return f(l.selectCategory(n.name))}),r(1),a()}if(t&2){let e=c.$implicit;s(),C(e.name)}}function dd(t,c){t&1&&(o(0,"div",10),r(1,"No Results Found"),a())}function md(t,c){if(t&1&&S(0,ld,2,1,"button",9,sd,!1,dd,2,0,"div",10),t&2){let e=d();O(e.searchResults.value())}}var an=(()=>{class t extends tn{constructor(e){super(e),this.elementRef=e,this.storage=y(fe),this.filterCategories=I(),this.categories=N(()=>this.siftCategories()),this.confirm=ce()}search$(e){return W(this.categories().filter(i=>i.name.toLowerCase().includes(e.toLowerCase())))}selectCategory(e){let i=this.categories();this.search.set({search:e});let n=i.find(l=>l.name.toLowerCase()==e.toLowerCase());n&&(this.confirm.emit(n),this.isOpened.set(!1))}siftCategories(){let e=this.filterCategories(),i=this.session.user.value().settings;var n=this.storage.comicData().categories;return i.comicFilterSettings.enableMatureContent||(n=n.filter(l=>!l.isAdult)),e&&e.length>0&&(n=n.filter(l=>e.includes(l.type))),n}static{this.\u0275fac=function(i){return new(i||t)(J(Z))}}static{this.\u0275cmp=M({type:t,selectors:[["category-search"]],inputs:{filterCategories:[1,"filterCategories"]},outputs:{confirm:"confirm"},features:[q],decls:12,vars:6,consts:[["searchBar",""],["searchInput",""],["searchPreview",""],["size-observer","",1,"comic-search",3,"doOnChange"],[1,"bar"],[1,"search-btn"],["placeholder","Search Categories",1,"search-input",3,"field"],[1,"search-preview"],[1,"preview-results"],["type","button",1,"search-result"],[1,"no-results"],["type","button",1,"search-result",3,"click"]],template:function(i,n){i&1&&(o(0,"div",3,0)(2,"div",4)(3,"button",5)(4,"mat-icon"),r(5,"search"),a()(),g(6,"input",6,1),D(),a(),o(8,"div",7)(9,"div",8,2),_(11,md,3,1),a()()()),i&2&&(p("doOnChange",n.adjustPreviewWidth.bind(n)),s(6),A(n.searchForm.search),s(3),k("preview-expanded",n.searchResults.value()&&n.isOpened()),s(2),v(n.searchResults.value()&&n.isOpened()?11:-1))},dependencies:[V,Q,Be],styles:[".comic-search[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-flow:row nowrap;gap:1rem;height:2rem;padding:0rem .5rem;border-radius:.5rem}.bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;align-items:center}.search-input[_ngcontent-%COMP%]{flex:1;color:var(--comic-top-nav-text-color);margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none}.search-btn[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);display:flex;align-items:center;padding:0rem;border:none;background-color:transparent}.search-btn[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.75}.search-preview[_ngcontent-%COMP%]{position:absolute;top:100%;left:0}.preview-results[_ngcontent-%COMP%]{position:sticky;display:flex;flex-direction:column;max-height:min(50rem,10rem);background-color:rgb(var(--comic-medium));overflow-y:scroll;scrollbar-width:thin;scrollbar-color:rgba(var(--comic-medium)) rgba(var(--comic-dark));z-index:888}.preview-results.sticky[_ngcontent-%COMP%]{position:sticky;max-height:min(50rem,10rem);background-color:rgb(var(--comic-medium))}.preview-results.fixed[_ngcontent-%COMP%]{position:fixed;max-height:min(50rem,50%);background-color:rgb(var(--comic-medium))}.preview-expanded[_ngcontent-%COMP%]{border:2px solid rgb(var(--comic-dark));border-radius:.5px .5px .5rem .5rem;box-shadow:0 3px rgba(var(--comic-dark),.5)}.search-result[_ngcontent-%COMP%]{flex-shrink:0;display:flex;flex-flow:row nowrap;gap:.75rem;color:var(--comic-nav-text-color);padding:.25rem;border:none;background-color:transparent}.search-result[_ngcontent-%COMP%]:hover, .search-result[_ngcontent-%COMP%]:focus-visible{color:#fff;background-color:#c8c8c81a}.search-result[_ngcontent-%COMP%]:active{color:rgb(var(--comic-text-color),.8)}.search-result[_ngcontent-%COMP%]:focus-visible{outline:rgb(var(--comic-text-color),.5) 1px solid}.search-result[_ngcontent-%COMP%]:disabled{color:rgb(var(--comic-text-color),.5);background-color:transparent!important}.no-results[_ngcontent-%COMP%]{padding:.5rem}.preview-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:min(50rem,50%);overflow-y:scroll;scrollbar-width:thin;scrollbar-color:rgba(var(--comic-medium)) rgba(var(--comic-dark))}.search-input[_ngcontent-%COMP%], .search-result[_ngcontent-%COMP%]{text-transform:capitalize}"]})}}return t})();function pd(t,c){if(t&1&&(o(0,"div",2)(1,"label",18),g(2,"input",19),D(),g(3,"span",20),a(),o(4,"span",21),r(5),a()()),t&2){let e=c.$implicit;k("disabled",e.enabled().value()),s(2),A(e.enabled),s(3),C(e.category().value())}}function gd(t,c){if(t&1&&(o(0,"div",2)(1,"label",18),g(2,"input",19),D(),g(3,"span",20),a(),o(4,"span",21),r(5),a()()),t&2){let e=c.$implicit;k("disabled",e.enabled().value()),s(2),A(e.enabled),s(3),C(e.category().value())}}function ud(t,c){if(t&1){let e=P();o(0,"div",28)(1,"label",18),g(2,"input",19),D(),g(3,"span",20),a(),o(4,"span",21),r(5),a(),o(6,"button",29),u("click",function(){h(e);let n=d(2).$index,l=d();return f(l.toggleCategoryFilterDeletion(n))}),o(7,"mat-icon"),r(8,"remove_circle"),a()()()}if(t&2){let e=d(2),i=e.$implicit,n=e.$index,l=d();k("disabled",!l.filters().categoryFilters[n].enabled),s(2),A(i.enabled),s(3),C(l.filters().categoryFilters[n].category)}}function hd(t,c){if(t&1){let e=P();o(0,"div",28)(1,"div",30),r(2),a(),o(3,"button",31),u("click",function(){h(e);let n=d(2).$index,l=d();return f(l.toggleCategoryFilterDeletion(n))}),o(4,"span",23),r(5,"Undo"),a()()()}if(t&2){let e=d(2).$index,i=d();s(2),K('"',i.filters().categoryFilters[e].category,'" category filter deleted ')}}function fd(t,c){if(t&1&&_(0,ud,9,5,"div",27)(1,hd,6,1,"div",28),t&2){let e=d().$index,i=d();v(i.filters().categoryFilters[e].deleted?1:0)}}function Cd(t,c){if(t&1&&_(0,fd,2,1),t&2){let e=c.$index,i=d();v(i.filters().categoryFilters[e].type!="DEMOGRAPHIC"&&i.filters().categoryFilters[e].type!="TYPE"?0:-1)}}var No=(()=>{class t extends Oe{constructor(){super(),this.storage=y(fe),this.category=E({id:0,name:"",description:"",group:"",subgroup:"",isAdult:!1,type:"TYPE"}),this.categoryForm=H(this.category),this.filters=N(()=>this.initFilterSettings()),this.filtersForm=H(this.filters)}selectCategory(e){this.category.set(e),this.addCategory()}addCategory(){let e=this.category();!e||e.id==0||this.filters.update(i=>{let n=i.categoryFilters;return n.find(l=>l.categoryId==e.id)?i:$(R({},i),{categoryFilters:[...n,{categoryId:e.id,category:e.name,type:e.type,enabled:!0}]})})}toggleCategoryFilterDeletion(e){let i=this.filters().categoryFilters[e];this.settings().comicFilterSettings.categoryFilters.findIndex(n=>n.category==i.category)<0?this.filters.update(n=>{let l=n.categoryFilters.filter((m,w)=>w!=e);return $(R({},n),{categoryFilters:l})}):this.filters.update(n=>{let l=n.categoryFilters.map((m,w)=>w==e?$(R({},m),{deleted:!m.deleted}):m);return $(R({},n),{categoryFilters:l})})}saveChanges(){let e=this.filters();e.categoryFilters=[...e.comicTypeFilters,...e.demographicFilters,...e.categoryFilters];let i={enableMatureContent:e.enableMatureContent,categoryFilters:e.categoryFilters};for(let n of i.categoryFilters)(n.type=="TYPE"||n.type=="DEMOGRAPHIC")&&(n.enabled||(n.deleted=!0));this.updateSettings(i,"comic-filters")}revertChanges(){this.filters.set(this.initFilterSettings()),this.category.set({id:0,name:"",description:"",group:"",subgroup:"",isAdult:!1,type:"GENRE"})}checkForChanges(){let e=this.settings().comicFilterSettings,i=this.filters();if(e.enableMatureContent!=i.enableMatureContent)return!0;let n=e.categoryFilters;for(let l of[...i.comicTypeFilters,...i.demographicFilters]){let m=n.findIndex(w=>w.categoryId==l.categoryId);if(l.enabled){if(m<0)return!0;if(l.enabled!=n[m].enabled)return!0}else{if(m<0)continue;if(l.enabled!=n[m].enabled)return!0}}for(let l of i.categoryFilters){let m=n.findIndex(w=>w.category==l.category);if(l.enabled!=n[m]?.enabled||l.deleted!=null&&(n[m]?.deleted!=null&&l.deleted!=n[m]?.deleted||l.deleted))return!0}return!1}initFilterSettings(){let e=structuredClone(this.settings().comicFilterSettings),i=this.storage.comicData(),n=structuredClone(i.demographics).map(F=>this.toFilter(F)).map(F=>e.categoryFilters.find(z=>z.categoryId==F.categoryId)||F),l=structuredClone(i.comicTypes).map(F=>this.toFilter(F)).map(F=>e.categoryFilters.find(z=>z.categoryId==F.categoryId)||F);return{categoryFilters:e.categoryFilters.filter(F=>F.type!="DEMOGRAPHIC"&&F.type!="TYPE"),demographicFilters:n,comicTypeFilters:l,enableMatureContent:e.enableMatureContent}}toFilter(e){return{categoryId:e.id,category:e.name,type:e.type,enabled:!1}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic-filter-settings"]],features:[q],decls:97,vars:8,consts:[["changesEle",""],[1,"settings","comic-filter-settings"],[1,"data-row"],["type","button",1,"back-btn",3,"click"],[1,"settings-section-header"],[1,"settings-list"],[1,"setting"],[1,"setting-header"],[1,"settings-description"],[1,"description-note"],[1,"setting-data"],[1,"inversed","type-filters"],[1,"data-row",3,"disabled"],[1,"category-search",3,"confirm"],[1,"edit-btn","add-btn",3,"click"],[1,"category-filters"],[1,"description-note","warning"],[1,"type-filters"],[1,"setting-toggle"],["type","checkbox",3,"field"],[1,"slider"],[1,"filter-category"],[1,"data-row","changes"],[1,"warning"],[1,"data-row","ml-auto"],["type","button",1,"revert-btn",3,"click"],["type","button",1,"save-btn",3,"click"],[1,"data-row","filter-setting",3,"disabled"],[1,"data-row","filter-setting"],[1,"edit-btn","delete-btn",3,"click"],[1,"deletion-notice","warning"],[1,"edit-btn","undo-btn",3,"click"]],template:function(i,n){if(i&1){let l=P();o(0,"div",1)(1,"div",2)(2,"button",3),u("click",function(){return h(l),f(n.backToNav())}),o(3,"mat-icon"),r(4,"chevron_left"),a(),o(5,"span"),r(6,"Back"),a()()(),o(7,"h4",4),r(8,"Comic Filters"),a(),o(9,"div",5)(10,"div",6)(11,"h5",7)(12,"span"),r(13,"Comic Types"),a()(),o(14,"div",8)(15,"div",2)(16,"div",2)(17,"span"),r(18,"Only displays Comics with the matching type(s)."),a()()(),o(19,"div",9),r(20,"Note: Comics will still appear in Advanced Search, remove the type in the search's filters."),a()(),o(21,"div",10)(22,"div",11),S(23,pd,6,5,"div",12,U),a()()(),o(25,"div",6)(26,"h5",7)(27,"span"),r(28,"Comic Demographics"),a()(),o(29,"div",8)(30,"div",2)(31,"div",2)(32,"span"),r(33,"Only displays Comics with the matching demographic(s)."),a()()(),o(34,"div",9),r(35,"Note: Comics will still appear in Advanced Search, remove the demographic in the search's filters."),a()(),o(36,"div",10)(37,"div",11),S(38,gd,6,5,"div",12,U),a()()(),o(40,"div",6)(41,"h5",7)(42,"span"),r(43,"Category Filters"),a()(),o(44,"div",8)(45,"div",2)(46,"div",2)(47,"span"),r(48,'Prevents Comics with the matching Category (genres, themes) from being displayed in "Updates" section and simple searches.'),a()()(),o(49,"div",9),r(50,"Note: Comics will still appear in Advanced Search, remove the category in the search's filters."),a()(),o(51,"div",10)(52,"div",2)(53,"category-search",13),u("confirm",function(w){return h(l),f(n.selectCategory(w))}),a(),o(54,"button",14),u("click",function(){return h(l),f(n.addCategory())}),o(55,"mat-icon"),r(56,"add_circle"),a()()(),o(57,"div",15),S(58,Cd,1,1,null,null,U),a()()(),o(60,"div",6)(61,"h5",7)(62,"span"),r(63,"Mature Content"),a()(),o(64,"div",8)(65,"div",2)(66,"div",2)(67,"span"),r(68,"Display comics with mature content."),a()()(),o(69,"div",16),r(70,"Comics will "),o(71,"b"),r(72,"NOT"),a(),r(73," appear even in Advanced Search if disabled."),a()(),o(74,"div",10)(75,"div",17)(76,"div",2)(77,"label",18),g(78,"input",19),D(),g(79,"span",20),a(),o(80,"span",21),r(81,"Enable Mature Content"),a()()()()()(),o(82,"div",22,0)(84,"span")(85,"span",23),r(86,"Warning!"),a(),r(87," You have unsaved changes"),a(),o(88,"div",24)(89,"button",25),u("click",function(){return h(l),f(n.revertChanges())}),o(90,"span"),r(91,"Revert Changes"),a()(),o(92,"button",26),u("click",function(){return h(l),f(n.saveChanges())}),o(93,"span"),r(94,"Save Changes"),a(),o(95,"mat-icon"),r(96,"check"),a()()()()()}i&2&&(k("has-changes",n.hasChanged()),s(23),O(n.filtersForm.comicTypeFilters),s(15),O(n.filtersForm.demographicFilters),s(20),O(n.filtersForm.categoryFilters),s(18),k("disabled",!n.filters().enableMatureContent),s(2),A(n.filtersForm.enableMatureContent),s(4),k("visible",n.hasChanged()))},dependencies:[V,Q,an],styles:['.settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:100%;padding:2rem 1.5rem 2rem 2rem}.settings.has-changes[_ngcontent-%COMP%]{box-shadow:inset 0 .25rem .5rem .5rem #00800040}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.back-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.25rem;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:transparent}.back-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{flex-flow:row nowrap;width:fit-content}.save-btn[_ngcontent-%COMP%]{background-color:green}.revert-btn[_ngcontent-%COMP%]{color:rgb(var(--comic-medium));background-color:#daa520}.back-btn[_ngcontent-%COMP%]:hover, .save-btn[_ngcontent-%COMP%]:hover, .revert-btn[_ngcontent-%COMP%]:hover, .edit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:rgba(var(--comic-medium),.75)}.back-btn[_ngcontent-%COMP%]:hover{background-color:rgba(var(--comic-dark),.75)}.back-btn[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-text-color),.1)}.save-btn[_ngcontent-%COMP%]:hover{background-color:#008000bf}.save-btn[_ngcontent-%COMP%]:active{background-color:green}.revert-btn[_ngcontent-%COMP%]:hover{background-color:#daa520bf}.revert-btn[_ngcontent-%COMP%]:active{background-color:#daa520}.changes-spacer[_ngcontent-%COMP%]{height:2.5rem}.settings-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1rem}.setting-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;font-weight:700;letter-spacing:.25px}.settings-description[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.25rem}.description-note[_ngcontent-%COMP%]{font-size:.8rem;color:#6482f0}.warning[_ngcontent-%COMP%]{color:#daa520!important}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:rgb(var(--comic-dark))}.group-header[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.setting[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;border-radius:4px;background-color:rgb(var(--comic-dark))}.setting-data[_ngcontent-%COMP%]{font-size:.9rem}.search-input[_ngcontent-%COMP%]{flex:1;padding:0rem;margin:0rem;color:rgb(var(--comic-text-color));outline:none;border:none;border-radius:4px;background-color:transparent}.color-input[_ngcontent-%COMP%]{cursor:pointer}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none;border-color:rgb(var(--comic-text-color))}.color-input[_ngcontent-%COMP%]:focus-visible{outline:1px solid rgb(var(--comic-text-color))}.setting-control[_ngcontent-%COMP%]{margin-top:.25rem;text-transform:capitalize}.select-option[_ngcontent-%COMP%]{color:rgb(var(--comic-text-color));text-transform:capitalize}.selected-option[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.category-search[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;min-width:12rem;height:2rem;padding:0rem .5rem;font-size:1rem;border-radius:.5rem;background-color:rgb(var(--comic-medium))}.setting-toggle[_ngcontent-%COMP%]{position:relative;width:3rem;height:1.5rem;margin-left:auto}.setting-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:0;height:0;opacity:0}.slider[_ngcontent-%COMP%]{cursor:pointer;position:absolute;inset:0;border-radius:2rem;background-color:#ccc;-webkit-transition:.4s;transition:.3s;z-index:1}.slider[_ngcontent-%COMP%]:before{content:"";position:absolute;left:4px;bottom:4px;height:1rem;width:1rem;border-radius:50%;background-color:#fff;-webkit-transition:.4s;transition:.3s;z-index:1}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(1.5rem);-ms-transform:translateX(1.5rem);transform:translate(1.5rem)}.data-row[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;gap:.25rem 1rem}.mock-password[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);width:6rem;margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.delete-acc[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:3rem}.delete-btn[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.25px;background-color:#c83232}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#dc3232}.delete-btn[_ngcontent-%COMP%]:active{background-color:#b43232}.undo-btn[_ngcontent-%COMP%]{background-color:transparent}.undo-btn[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-dark))}.undo-btn[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-light))}.back-btn[_ngcontent-%COMP%]{display:none}.changes[_ngcontent-%COMP%]{visibility:hidden;position:sticky;bottom:1rem;padding:.5rem;border-radius:4px;box-shadow:0 6px 12px 1px rgba(var(--comic-warning),.5);background-color:rgb(var(--comic-dark));transition:scale .25s ease-in,background-color .25s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible}@media(max-width:720px){.back-btn[_ngcontent-%COMP%]{display:flex}}.category-filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:.5rem;padding:1rem}.filter-setting[_ngcontent-%COMP%]{justify-content:space-between;gap:.25rem;padding:.25rem .5rem;border-radius:4px;background-color:rgb(var(--comic-medium))}.disabled[_ngcontent-%COMP%]{opacity:.6}.setting-toggle[_ngcontent-%COMP%]{margin-left:unset}.filter-category[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.type-filters[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(10rem,1fr));gap:.5rem}.deletion-notice[_ngcontent-%COMP%]{text-transform:capitalize}.delete-btn[_ngcontent-%COMP%]{color:red;background-color:transparent}.delete-btn[_ngcontent-%COMP%]:active{background-color:transparent}.inversed[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#ccc}.inversed[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:checked) + .slider[_ngcontent-%COMP%]{background-color:#2196f3!important}.inversed[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}.inversed[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:unset;-ms-transform:unset;transform:unset}.inversed[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:checked) + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(1.5rem);-ms-transform:translateX(1.5rem);transform:translate(1.5rem)}']})}}return t})();function _d(t,c){if(t&1){let e=P();o(0,"div",23)(1,"label",24),g(2,"input",25),D(),g(3,"span",26),a(),o(4,"div",27)(5,"span",28),r(6),a(),g(7,"input",29),D(),a(),o(8,"button",30),u("click",function(){h(e);let n=d().$implicit,l=d();return f(l.toggleMarkDeletion(n().value().categoryId))}),o(9,"mat-icon"),r(10,"remove_circle"),a()()()}if(t&2){let e=d().$implicit;k("disabled",!e().value().enabled),s(2),A(e.enabled),s(4),C(e().value().category),s(),A(e.color)}}function vd(t,c){if(t&1){let e=P();o(0,"div",23)(1,"div",31),r(2),a(),o(3,"button",32),u("click",function(){h(e);let n=d().$implicit,l=d();return f(l.toggleMarkDeletion(n().value().categoryId))}),o(4,"span",18),r(5,"Undo"),a()()()}if(t&2){let e=d().$implicit;s(2),K('"',e().value().category,'" mark deleted ')}}function bd(t,c){if(t&1&&_(0,_d,11,7,"div",22)(1,vd,6,1,"div",23),t&2){let e=c.$implicit;v(e().value().deleted?1:0)}}var Ro=(()=>{class t extends Oe{constructor(){super(),this.mark=E({categoryId:0,category:"",color:"#000000",enabled:!0}),this.markForm=H(this.mark),this.marks=N(()=>structuredClone(this.settings().comicMarkSettings)),this.marksForm=H(this.marks)}selectCategory(e){let i=this.mark().color;this.mark.set({categoryId:e.id,category:e.name,color:i,enabled:!0})}addMark(){let e=this.mark();!e||e.category==""||this.marks.update(i=>i.find(n=>n.categoryId==e.categoryId)?i:[...i,e])}toggleMarkDeletion(e){this.settings().comicMarkSettings.findIndex(i=>i.categoryId==e)<0?this.marks.update(i=>i.filter(n=>n.categoryId!=e)):this.marks.update(i=>i.map(n=>n.categoryId==e?$(R({},n),{deleted:!n.deleted}):n))}saveChanges(){this.updateSettings(this.marks(),"comic-marks")}revertChanges(){this.mark.set({categoryId:0,category:"",color:"#000000",enabled:!0}),this.marks.set(structuredClone(this.settings().comicMarkSettings))}checkForChanges(){let e=this.settings().comicMarkSettings,i=this.marks();for(let n of i){let l=e.findIndex(m=>m.category==n.category);if(n.enabled!=e[l]?.enabled||n.deleted!=null&&(e[l]?.deleted!=null&&n.deleted!=e[l]?.deleted||n.deleted)||n.color!=e[l]?.color)return!0}return!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic-mark-settings"]],features:[q],decls:49,vars:6,consts:[["changesEle",""],[1,"settings","comic-mark-settings"],[1,"data-row"],["type","button",1,"back-btn",3,"click"],[1,"settings-section-header"],[1,"settings-list"],[1,"setting"],[1,"setting-header"],[1,"settings-description"],[1,"comic-mark"],[1,"setting-data"],[1,"category-search",3,"confirm"],[1,"data-row","color-select"],[1,"color-label"],["type","color",1,"search-input","color-input",3,"field"],[1,"edit-btn","add-btn",3,"click"],[1,"marks"],[1,"data-row","changes"],[1,"warning"],[1,"data-row","ml-auto"],["type","button",1,"revert-btn",3,"click"],["type","button",1,"save-btn",3,"click"],[1,"data-row","mark-setting",3,"disabled"],[1,"data-row","mark-setting"],[1,"setting-toggle"],["type","checkbox",3,"field"],[1,"slider"],[1,"mark-info"],[1,"mark-category"],["type","color",1,"search-input","mark-preview",3,"field"],[1,"edit-btn","delete-btn",3,"click"],[1,"deletion-notice","warning"],[1,"edit-btn","undo-btn",3,"click"]],template:function(i,n){if(i&1){let l=P();o(0,"div",1)(1,"div",2)(2,"button",3),u("click",function(){return h(l),f(n.backToNav())}),o(3,"mat-icon"),r(4,"chevron_left"),a(),o(5,"span"),r(6,"Back"),a()()(),o(7,"h4",4),r(8,"Comic Marks"),a(),o(9,"div",5)(10,"div",6)(11,"h5",7)(12,"span"),r(13,"Marks"),a()(),o(14,"div",8)(15,"div",2)(16,"div",2)(17,"span"),r(18,"Marks Comics with the matching Category (genres, themes) with "),g(19,"span",9),r(20," in the specified color."),a()()()(),o(21,"div",10)(22,"div",2)(23,"category-search",11),u("confirm",function(w){return h(l),f(n.selectCategory(w))}),a(),o(24,"div",12)(25,"span",13),r(26,"Color"),a(),g(27,"input",14),D(),a(),o(28,"button",15),u("click",function(){return h(l),f(n.addMark())}),o(29,"mat-icon"),r(30,"add_circle"),a()()(),o(31,"div",16),S(32,bd,2,1,null,null,U),a()()()(),o(34,"div",17,0)(36,"span")(37,"span",18),r(38,"Warning!"),a(),r(39," You have unsaved changes"),a(),o(40,"div",19)(41,"button",20),u("click",function(){return h(l),f(n.revertChanges())}),o(42,"span"),r(43,"Revert Changes"),a()(),o(44,"button",21),u("click",function(){return h(l),f(n.saveChanges())}),o(45,"span"),r(46,"Save Changes"),a(),o(47,"mat-icon"),r(48,"check"),a()()()()()}i&2&&(k("has-changes",n.hasChanged()),s(27),A(n.markForm.color),s(5),O(n.marksForm),s(2),k("visible",n.hasChanged()))},dependencies:[V,Q,an],styles:['.settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:100%;padding:2rem 1.5rem 2rem 2rem}.settings.has-changes[_ngcontent-%COMP%]{box-shadow:inset 0 .25rem .5rem .5rem #00800040}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.back-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.25rem;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:transparent}.back-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{flex-flow:row nowrap;width:fit-content}.save-btn[_ngcontent-%COMP%]{background-color:green}.revert-btn[_ngcontent-%COMP%]{color:rgb(var(--comic-medium));background-color:#daa520}.back-btn[_ngcontent-%COMP%]:hover, .save-btn[_ngcontent-%COMP%]:hover, .revert-btn[_ngcontent-%COMP%]:hover, .edit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:rgba(var(--comic-medium),.75)}.back-btn[_ngcontent-%COMP%]:hover{background-color:rgba(var(--comic-dark),.75)}.back-btn[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-text-color),.1)}.save-btn[_ngcontent-%COMP%]:hover{background-color:#008000bf}.save-btn[_ngcontent-%COMP%]:active{background-color:green}.revert-btn[_ngcontent-%COMP%]:hover{background-color:#daa520bf}.revert-btn[_ngcontent-%COMP%]:active{background-color:#daa520}.changes-spacer[_ngcontent-%COMP%]{height:2.5rem}.settings-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1rem}.setting-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;font-weight:700;letter-spacing:.25px}.settings-description[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.25rem}.description-note[_ngcontent-%COMP%]{font-size:.8rem;color:#6482f0}.warning[_ngcontent-%COMP%]{color:#daa520!important}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:rgb(var(--comic-dark))}.group-header[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.setting[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;border-radius:4px;background-color:rgb(var(--comic-dark))}.setting-data[_ngcontent-%COMP%]{font-size:.9rem}.search-input[_ngcontent-%COMP%]{flex:1;padding:0rem;margin:0rem;color:rgb(var(--comic-text-color));outline:none;border:none;border-radius:4px;background-color:transparent}.color-input[_ngcontent-%COMP%]{cursor:pointer}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none;border-color:rgb(var(--comic-text-color))}.color-input[_ngcontent-%COMP%]:focus-visible{outline:1px solid rgb(var(--comic-text-color))}.setting-control[_ngcontent-%COMP%]{margin-top:.25rem;text-transform:capitalize}.select-option[_ngcontent-%COMP%]{color:rgb(var(--comic-text-color));text-transform:capitalize}.selected-option[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.category-search[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;min-width:12rem;height:2rem;padding:0rem .5rem;font-size:1rem;border-radius:.5rem;background-color:rgb(var(--comic-medium))}.setting-toggle[_ngcontent-%COMP%]{position:relative;width:3rem;height:1.5rem;margin-left:auto}.setting-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:0;height:0;opacity:0}.slider[_ngcontent-%COMP%]{cursor:pointer;position:absolute;inset:0;border-radius:2rem;background-color:#ccc;-webkit-transition:.4s;transition:.3s;z-index:1}.slider[_ngcontent-%COMP%]:before{content:"";position:absolute;left:4px;bottom:4px;height:1rem;width:1rem;border-radius:50%;background-color:#fff;-webkit-transition:.4s;transition:.3s;z-index:1}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(1.5rem);-ms-transform:translateX(1.5rem);transform:translate(1.5rem)}.data-row[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;gap:.25rem 1rem}.mock-password[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);width:6rem;margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.delete-acc[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:3rem}.delete-btn[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.25px;background-color:#c83232}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#dc3232}.delete-btn[_ngcontent-%COMP%]:active{background-color:#b43232}.undo-btn[_ngcontent-%COMP%]{background-color:transparent}.undo-btn[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-dark))}.undo-btn[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-light))}.back-btn[_ngcontent-%COMP%]{display:none}.changes[_ngcontent-%COMP%]{visibility:hidden;position:sticky;bottom:1rem;padding:.5rem;border-radius:4px;box-shadow:0 6px 12px 1px rgba(var(--comic-warning),.5);background-color:rgb(var(--comic-dark));transition:scale .25s ease-in,background-color .25s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible}@media(max-width:720px){.back-btn[_ngcontent-%COMP%]{display:flex}}.comic-mark[_ngcontent-%COMP%]{display:inline-flex;padding:.35rem;margin:0rem .15rem;color:#fff;border-radius:100%;background-color:#fff}.enabled-languages[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:0rem 1rem}.color-select[_ngcontent-%COMP%]{padding:0rem .5rem;height:2rem;border-radius:.5rem;background-color:rgb(var(--comic-medium))}.marks[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;gap:.5rem;padding:1rem}.mark-setting[_ngcontent-%COMP%]{justify-content:space-between;gap:.25rem;padding:.25rem .5rem;border-radius:4px;background-color:rgb(var(--comic-medium))}.mark-setting.disabled[_ngcontent-%COMP%]{opacity:.6}.mark-info[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;align-items:center;gap:.5rem}.setting-toggle[_ngcontent-%COMP%]{margin-left:unset}.mark-category[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.mark-preview[_ngcontent-%COMP%]{flex:unset;width:5rem;border-radius:4px}.deletion-notice[_ngcontent-%COMP%]{text-transform:capitalize}.delete-btn[_ngcontent-%COMP%]{color:red;background-color:transparent}.delete-btn[_ngcontent-%COMP%]:active{background-color:transparent}@media(max-width:800px){.mark-preview[_ngcontent-%COMP%]{width:3rem}.color-label[_ngcontent-%COMP%]{display:none}}@media(max-width:720px){.mark-preview[_ngcontent-%COMP%]{width:5rem}}']})}}return t})();function xd(t,c){t&1&&(o(0,"span"),r(1,"Following "),o(2,"b"),r(3,"Displayed"),a()())}function yd(t,c){t&1&&(o(0,"span"),r(1,"Following "),o(2,"b"),r(3,"Hidden"),a()())}function wd(t,c){t&1&&(o(0,"span"),r(1,"Following "),o(2,"b"),r(3,"Hidden"),a()())}function Md(t,c){t&1&&(o(0,"span"),r(1,"Following "),o(2,"b"),r(3,"Displayed"),a()())}function Pd(t,c){if(t&1&&(o(0,"div",11)(1,"mat-icon"),r(2,"arrow_right"),a(),_(3,wd,4,0,"span")(4,Md,4,0,"span"),a()),t&2){let e=d();s(3),v(e.settings().comicPreferences.displayFollows?3:4)}}function Sd(t,c){if(t&1&&(o(0,"mat-option",17),r(1),a()),t&2){let e=c.$implicit,i=d();p("value",e)("hidden",i.isEnabled(e)),s(),C(i.langName(e))}}function Od(t,c){if(t&1){let e=P();o(0,"div",2)(1,"button",30),u("click",function(){let n=h(e).$implicit,l=d();return f(l.removeLanguage(n))}),o(2,"mat-icon"),r(3,"remove_circle"),a()(),o(4,"span",19),r(5),a()()}if(t&2){let e=c.$implicit;s(5),C(e)}}function kd(t,c){if(t&1&&(o(0,"span",19),r(1),a()),t&2){let e=c.$implicit;s(),C(e)}}function Ed(t,c){t&1&&(o(0,"span",19),r(1,"Any"),a())}function Td(t,c){t&1&&(o(0,"mat-icon",20),r(1,"arrow_right"),a())}function Id(t,c){if(t&1&&(o(0,"span",21),r(1),a()),t&2){let e=c.$implicit;s(),C(e)}}function Fd(t,c){if(t&1&&(o(0,"mat-option",25),r(1),a()),t&2){let e=c.$implicit,i=d();p("value",e),s(),C(i.langName(e))}}function Dd(t,c){if(t&1&&(o(0,"div",2)(1,"span",31)(2,"b"),r(3),a()(),o(4,"mat-icon",20),r(5,"arrow_right"),a(),o(6,"span",31)(7,"b"),r(8),a()()()),t&2){let e=d();s(3),C(e.settings().comicPreferences.title),s(5),C(e.preferences().title)}}function Ad(t,c){if(t&1&&(o(0,"div",2)(1,"span",31)(2,"b"),r(3),a()(),o(4,"mat-icon",20),r(5,"arrow_right"),a(),o(6,"span",31)(7,"b"),r(8),a()()()),t&2){let e=d();s(3),C(e.settings().comicPreferences.quickFollow),s(5),C(e.preferences().quickFollow)}}var Vo=(()=>{class t extends Oe{constructor(){super(),this.languages=E(["en","jp","kr","zh","vi","fr","ru","pl","bg","uk","id","it"]),this.preferences=N(()=>structuredClone(this.settings().comicPreferences)),this.preferencesForm=H(this.preferences),this.languageChanges=T(()=>this.xorLanguages()),this.languagesChanged=T(()=>this.checkLanguages()),this.langName=j.countryLanguage}removeLanguage(e){this.preferences.update(i=>{let n=i.languages.findIndex(m=>m==e),l=[...i.languages];return n>-1&&l.splice(n,1),$(R({},i),{languages:l})})}isEnabled(e){return this.preferences().languages.findIndex(i=>i==e)>-1}xorLanguages(){let e=this.settings().comicPreferences.languages,i=this.preferences().languages,n=[];for(let l of i)e.findIndex(w=>w==l)<0&&n.push(l);for(let l of e)i.findIndex(w=>w==l)<0&&n.push(l);return n}checkLanguages(){let e=this.settings().comicPreferences,i=this.preferences();for(let n of i.languages)if(e.languages.findIndex(m=>m==n)<0)return!0;return!1}saveChanges(){this.updateSettings(this.preferences(),"comic-preferences")}revertChanges(){this.preferences.set(structuredClone(this.settings().comicPreferences))}checkForChanges(){let e=this.settings().comicPreferences,i=this.preferences();return e.displayFollows!=i.displayFollows||e.title!=i.title||e.quickFollow!=i.quickFollow||this.languageChanges().length>0}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic-preferences-settings"]],features:[q],decls:112,vars:23,consts:[["changesEle",""],[1,"settings","preferences-settings"],[1,"data-row"],["type","button",1,"back-btn",3,"click"],[1,"settings-section-header"],[1,"settings-list"],[1,"setting"],[1,"setting-header"],[1,"settings-description"],[1,"description-note"],[1,"setting-data"],[1,"data-row","warning"],[1,"setting-toggle"],["type","checkbox",3,"field"],[1,"slider"],["appearance","outline","subscriptSizing","dynamic",1,"data-row","languages-field"],["placeholder","Language ...","multiple","true",3,"field"],[1,"select-option",3,"value","hidden"],[1,"enabled-languages"],[1,"selected-option"],[1,"warning"],[1,"selected-option","warning"],["type","button",1,"edit-btn"],["appearance","outline","subscriptSizing","dynamic",1,"data-row","setting-control"],["placeholder","Language ...",3,"field"],[1,"select-option",3,"value"],[1,"data-row","changes"],[1,"data-row","ml-auto"],["type","button",1,"revert-btn",3,"click"],["type","button",1,"save-btn",3,"click"],["type","button",1,"edit-btn","delete-btn",3,"click"],[1,"select-option","warning"]],template:function(i,n){if(i&1){let l=P();o(0,"div",1)(1,"div",2)(2,"button",3),u("click",function(){return h(l),f(n.backToNav())}),o(3,"mat-icon"),r(4,"chevron_left"),a(),o(5,"span"),r(6,"Back"),a()()(),o(7,"h4",4),r(8,"Comic Preferences"),a(),o(9,"div",5)(10,"div",6)(11,"h5",7)(12,"span"),r(13,'Display Follows in "Updates"'),a()(),o(14,"div",8)(15,"div"),r(16,`Displays Comis you're already following in the "Updates" section on the Home page.`),a(),o(17,"div",9),r(18,"Note: This encompasses Comics in any following state (reading, plan to read, dropped, etc.)"),a()(),o(19,"div",10)(20,"div",2),_(21,xd,4,0,"span")(22,yd,4,0,"span"),_(23,Pd,5,1,"div",11),o(24,"label",12),g(25,"input",13),D(),g(26,"span",14),a()()()(),o(27,"div",6)(28,"h5",7)(29,"span"),r(30,"Languages"),a()(),o(31,"div",8)(32,"div"),r(33,"Only displays Comic Chapters matching the given language(s)"),a()(),o(34,"div",10)(35,"mat-form-field",15)(36,"mat-label"),r(37,"Languages"),a(),o(38,"mat-select",16),S(39,Sd,2,3,"mat-option",17,Ee),a(),D(),a(),o(41,"div",18),S(42,Od,6,1,"div",2,U),a(),o(44,"div",2)(45,"div",2),S(46,kd,2,1,"span",19,U,!1,Ed,2,0,"span",19),_(49,Td,2,0,"mat-icon",20),S(50,Id,2,1,"span",21,U),a()()()(),o(52,"div",6)(53,"h5",7)(54,"span"),r(55,"Title Language"),a(),o(56,"button",22)(57,"mat-icon"),r(58,"edit"),a()()(),o(59,"div",8)(60,"div"),r(61,"Displays Comic titles in the given language if available."),a(),o(62,"div",9),r(63,"Default: English"),a()(),o(64,"div",10)(65,"mat-form-field",23)(66,"mat-label"),r(67,"Languages"),a(),o(68,"mat-select",24),S(69,Fd,2,2,"mat-option",25,Ee),a(),D(),a(),_(71,Dd,9,2,"div",2),a()(),o(72,"div",6)(73,"h5",7)(74,"span"),r(75,"Quick Follow"),a()(),o(76,"div",8)(77,"div"),r(78,"Determines what state Comics are placed inside Following when quick-following."),a(),o(79,"div",9),r(80,'Default: "Plan to Read"'),a()(),o(81,"div",10)(82,"mat-form-field",23)(83,"mat-label"),r(84,"Follow State"),a(),o(85,"mat-select",24)(86,"mat-option",25),r(87,"Reading"),a(),o(88,"mat-option",25),r(89,"Plan to Read"),a(),o(90,"mat-option",25),r(91,"On Hold"),a(),o(92,"mat-option",25),r(93,"Completed"),a(),o(94,"mat-option",25),r(95,"Dropped"),a()(),D(),a(),_(96,Ad,9,2,"div",2),a()()(),o(97,"div",26,0)(99,"span")(100,"span",20),r(101,"Warning!"),a(),r(102," You have unsaved changes"),a(),o(103,"div",27)(104,"button",28),u("click",function(){return h(l),f(n.revertChanges())}),o(105,"span"),r(106,"Revert Changes"),a()(),o(107,"button",29),u("click",function(){return h(l),f(n.saveChanges())}),o(108,"span"),r(109,"Save Changes"),a(),o(110,"mat-icon"),r(111,"check"),a()()()()()}i&2&&(k("has-changes",n.hasChanged()),s(21),v(n.settings().comicPreferences.displayFollows?21:22),s(2),v(n.settings().comicPreferences.displayFollows!=n.preferences().displayFollows?23:-1),s(2),A(n.preferencesForm.displayFollows),s(13),A(n.preferencesForm.languages),s(),O(n.languages()),s(3),O(n.preferences().languages),s(4),O(n.settings().comicPreferences.languages),s(3),v(n.languagesChanged()?49:-1),s(),O(n.languageChanges()),s(18),A(n.preferencesForm.title),s(),O(n.languages()),s(2),v(n.settings().comicPreferences.title!=n.preferences().title?71:-1),s(14),A(n.preferencesForm.quickFollow),s(),p("value","READING"),s(2),p("value","PLAN_TO_READ"),s(2),p("value","ON_HOLD"),s(2),p("value","COMPLETED"),s(2),p("value","DROPPED"),s(2),v(n.settings().comicPreferences.quickFollow!=n.preferences().quickFollow?96:-1),s(),k("visible",n.hasChanged()))},dependencies:[V,Q,Vt,Rt,Nt,Ci,fi,di],styles:['.settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:100%;padding:2rem 1.5rem 2rem 2rem}.settings.has-changes[_ngcontent-%COMP%]{box-shadow:inset 0 .25rem .5rem .5rem #00800040}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.back-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.25rem;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:transparent}.back-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{flex-flow:row nowrap;width:fit-content}.save-btn[_ngcontent-%COMP%]{background-color:green}.revert-btn[_ngcontent-%COMP%]{color:rgb(var(--comic-medium));background-color:#daa520}.back-btn[_ngcontent-%COMP%]:hover, .save-btn[_ngcontent-%COMP%]:hover, .revert-btn[_ngcontent-%COMP%]:hover, .edit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:rgba(var(--comic-medium),.75)}.back-btn[_ngcontent-%COMP%]:hover{background-color:rgba(var(--comic-dark),.75)}.back-btn[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-text-color),.1)}.save-btn[_ngcontent-%COMP%]:hover{background-color:#008000bf}.save-btn[_ngcontent-%COMP%]:active{background-color:green}.revert-btn[_ngcontent-%COMP%]:hover{background-color:#daa520bf}.revert-btn[_ngcontent-%COMP%]:active{background-color:#daa520}.changes-spacer[_ngcontent-%COMP%]{height:2.5rem}.settings-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1rem}.setting-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;font-weight:700;letter-spacing:.25px}.settings-description[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.25rem}.description-note[_ngcontent-%COMP%]{font-size:.8rem;color:#6482f0}.warning[_ngcontent-%COMP%]{color:#daa520!important}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:rgb(var(--comic-dark))}.group-header[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.setting[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;border-radius:4px;background-color:rgb(var(--comic-dark))}.setting-data[_ngcontent-%COMP%]{font-size:.9rem}.search-input[_ngcontent-%COMP%]{flex:1;padding:0rem;margin:0rem;color:rgb(var(--comic-text-color));outline:none;border:none;border-radius:4px;background-color:transparent}.color-input[_ngcontent-%COMP%]{cursor:pointer}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none;border-color:rgb(var(--comic-text-color))}.color-input[_ngcontent-%COMP%]:focus-visible{outline:1px solid rgb(var(--comic-text-color))}.category-search[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;min-width:12rem;height:2rem;padding:0rem .5rem;font-size:1rem;border-radius:.5rem;background-color:rgb(var(--comic-medium))}.setting-toggle[_ngcontent-%COMP%]{position:relative;width:3rem;height:1.5rem;margin-left:auto}.setting-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:0;height:0;opacity:0}.slider[_ngcontent-%COMP%]{cursor:pointer;position:absolute;inset:0;border-radius:2rem;background-color:#ccc;-webkit-transition:.4s;transition:.3s;z-index:1}.slider[_ngcontent-%COMP%]:before{content:"";position:absolute;left:4px;bottom:4px;height:1rem;width:1rem;border-radius:50%;background-color:#fff;-webkit-transition:.4s;transition:.3s;z-index:1}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(1.5rem);-ms-transform:translateX(1.5rem);transform:translate(1.5rem)}.data-row[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;gap:.25rem 1rem}.mock-password[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);width:6rem;margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.delete-acc[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:3rem}.delete-btn[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.25px;background-color:#c83232}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#dc3232}.delete-btn[_ngcontent-%COMP%]:active{background-color:#b43232}.undo-btn[_ngcontent-%COMP%]{background-color:transparent}.undo-btn[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-dark))}.undo-btn[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-light))}.back-btn[_ngcontent-%COMP%]{display:none}.changes[_ngcontent-%COMP%]{visibility:hidden;position:sticky;bottom:1rem;padding:.5rem;border-radius:4px;box-shadow:0 6px 12px 1px rgba(var(--comic-warning),.5);background-color:rgb(var(--comic-dark));transition:scale .25s ease-in,background-color .25s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible}@media(max-width:720px){.back-btn[_ngcontent-%COMP%]{display:flex}}.languages-field[_ngcontent-%COMP%]{text-transform:capitalize}.enabled-languages[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:0rem 1rem}.setting-control[_ngcontent-%COMP%]{margin-top:.25rem;text-transform:capitalize}.select-option[_ngcontent-%COMP%]{color:rgb(var(--comic-text-color));text-transform:capitalize}.selected-option[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.delete-btn[_ngcontent-%COMP%]{color:red;background-color:transparent}.delete-btn[_ngcontent-%COMP%]:active{background-color:transparent}']})}}return t})();function Ld(t,c){if(t&1&&(g(0,"input",10,1),D()),t&2){let e=d();A(e.settingsForm.displayName)}}function Nd(t,c){if(t&1&&(o(0,"div",11),r(1),a()),t&2){let e=d();s(),C(e.session.user.value().displayName)}}function Rd(t,c){if(t&1&&(g(0,"input",12,1),D()),t&2){let e=d();A(e.settingsForm.username)}}function Vd(t,c){if(t&1&&(o(0,"div",11),r(1),a()),t&2){let e=d();s(),C(e.session.user.value().username)}}function zd(t,c){if(t&1){let e=P();o(0,"div",13)(1,"div",3),g(2,"input",23),D(),a(),o(3,"div",3),g(4,"input",24),D(),a(),o(5,"div",3)(6,"button",21),u("click",function(){h(e);let n=d();return f(n.cancelPasswordChange())}),o(7,"span"),r(8,"Cancel"),a()(),o(9,"button",25),u("click",function(){h(e);let n=d();return f(n.savePassword())}),o(10,"span"),r(11,"Save Password"),a(),o(12,"mat-icon"),r(13,"check"),a()()()()}if(t&2){let e=d();s(2),A(e.passwordForm.currentPassword),s(2),A(e.passwordForm.newPassword)}}function qd(t,c){if(t&1){let e=P();o(0,"div",14)(1,"div",3),g(2,"input",26),o(3,"button",27),u("click",function(){h(e);let n=d();return f(n.toggleEdit(!0))}),r(4,"Change Password"),a()()()}}var zo=(()=>{class t extends Oe{constructor(){super(),this.accountSettings=N(()=>this.account()),this.settingsForm=H(this.accountSettings),this.passwordModel=N(()=>this.initPassword()),this.passwordForm=H(this.passwordModel),this.editting=E(!1),this.changingPassword=E(!1)}checkForChanges(){let e=this.session.user.value(),i=this.accountSettings(),n=this.passwordModel();return e.username!=i.username||e.displayName!=i.displayName||n.currentPassword!=""||n.newPassword!=""}toggleEdit(e=!1){e?this.changingPassword.set(!0):this.editting.set(!this.editting())}saveChanges(){this.updateSettings(this.accountSettings(),"user-account")}revertChanges(){this.accountSettings.set(this.account())}savePassword(){this.updateSettings(this.passwordModel(),"user-password")}cancelPasswordChange(){this.changingPassword.set(!1),this.passwordModel.set(this.initPassword())}account(){let e=this.session.user.value();return{username:e.username,displayName:e.displayName}}initPassword(){let e=this.session.user.value();return{currentPassword:"",newPassword:""}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["account-settings"]],features:[q],decls:59,vars:7,consts:[["changesEle",""],["searchInput",""],[1,"settings","user-account-settings"],[1,"data-row"],["type","button",1,"back-btn",3,"click"],[1,"settings-section-header"],[1,"settings-list"],[1,"setting"],[1,"setting-header"],["type","button",1,"edit-btn",3,"click"],[1,"edit-input","account-data",3,"field"],[1,"setting-data","account-data"],[1,"edit-input","account-data","username",3,"field"],[1,"setting-data","change-password"],[1,"setting-data"],[1,"setting","delete-acc"],[1,"settings-description"],[1,"edit-btn","delete-btn"],[1,"data-row","changes"],[1,"warning"],[1,"data-row","ml-auto"],["type","button",1,"revert-btn",3,"click"],["type","button",1,"save-btn",3,"click"],["type","password","placeholder","Current Password",1,"edit-input","account-data",3,"field"],["type","password","placeholder","New Password",1,"edit-input","account-data",3,"field"],["type","button",1,"save-btn","ml-auto",3,"click"],["type","password","value","            ","disabled","",1,"mock-password","account-data"],["type","button",1,"edit-btn","ml-auto",3,"click"]],template:function(i,n){if(i&1){let l=P();o(0,"div",2)(1,"div",3)(2,"button",4),u("click",function(){return h(l),f(n.backToNav())}),o(3,"mat-icon"),r(4,"chevron_left"),a(),o(5,"span"),r(6,"Back"),a()()(),o(7,"h4",5),r(8,"My Account"),a(),o(9,"div",6)(10,"div",7)(11,"h6",8)(12,"span"),r(13,"Display Name"),a(),o(14,"button",9),u("click",function(){return h(l),f(n.toggleEdit())}),o(15,"mat-icon"),r(16,"edit"),a()()(),_(17,Ld,2,2,"input",10)(18,Nd,2,1,"div",11),a(),o(19,"div",7)(20,"h6",8)(21,"span"),r(22,"Username"),a(),o(23,"button",9),u("click",function(){return h(l),f(n.toggleEdit())}),o(24,"mat-icon"),r(25,"edit"),a()()(),_(26,Rd,2,2,"input",12)(27,Vd,2,1,"div",11),a(),o(28,"div",7)(29,"h6",8)(30,"span"),r(31,"Password"),a()(),_(32,zd,14,4,"div",13)(33,qd,5,0,"div",14),a(),o(34,"div",15)(35,"h6",8)(36,"span"),r(37,"Account Deletion"),a()(),o(38,"div",16),r(39," Delete your account. Forever. "),a(),o(40,"div",14)(41,"div",3)(42,"button",17),r(43,"Delete Account"),a()()()()(),o(44,"div",18,0)(46,"span")(47,"span",19),r(48,"Warning!"),a(),r(49," You have unsaved changes"),a(),o(50,"div",20)(51,"button",21),u("click",function(){return h(l),f(n.revertChanges())}),o(52,"span"),r(53,"Revert Changes"),a()(),o(54,"button",22),u("click",function(){return h(l),f(n.saveChanges())}),o(55,"span"),r(56,"Save Changes"),a(),o(57,"mat-icon"),r(58,"check"),a()()()()()}i&2&&(k("has-changes",n.hasChanged()),s(17),v(n.editting()?17:18),s(9),v(n.editting()?26:27),s(6),v(n.changingPassword()?32:33),s(12),k("visible",n.hasChanged()))},dependencies:[V,Q],styles:['.settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:100%;padding:2rem 1.5rem 2rem 2rem}.settings.has-changes[_ngcontent-%COMP%]{box-shadow:inset 0 .25rem .5rem .5rem #00800040}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.back-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.25rem;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:transparent}.back-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{flex-flow:row nowrap;width:fit-content}.save-btn[_ngcontent-%COMP%]{background-color:green}.revert-btn[_ngcontent-%COMP%]{color:rgb(var(--comic-medium));background-color:#daa520}.back-btn[_ngcontent-%COMP%]:hover, .save-btn[_ngcontent-%COMP%]:hover, .revert-btn[_ngcontent-%COMP%]:hover, .edit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:rgba(var(--comic-medium),.75)}.back-btn[_ngcontent-%COMP%]:hover{background-color:rgba(var(--comic-dark),.75)}.back-btn[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-text-color),.1)}.save-btn[_ngcontent-%COMP%]:hover{background-color:#008000bf}.save-btn[_ngcontent-%COMP%]:active{background-color:green}.revert-btn[_ngcontent-%COMP%]:hover{background-color:#daa520bf}.revert-btn[_ngcontent-%COMP%]:active{background-color:#daa520}.changes-spacer[_ngcontent-%COMP%]{height:2.5rem}.settings-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1rem}.setting-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;font-weight:700;letter-spacing:.25px}.settings-description[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.25rem}.description-note[_ngcontent-%COMP%]{font-size:.8rem;color:#6482f0}.warning[_ngcontent-%COMP%]{color:#daa520!important}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:rgb(var(--comic-dark))}.group-header[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.setting[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;border-radius:4px;background-color:rgb(var(--comic-dark))}.setting-data[_ngcontent-%COMP%]{font-size:.9rem}.search-input[_ngcontent-%COMP%]{flex:1;padding:0rem;margin:0rem;color:rgb(var(--comic-text-color));outline:none;border:none;border-radius:4px;background-color:transparent}.color-input[_ngcontent-%COMP%]{cursor:pointer}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none;border-color:rgb(var(--comic-text-color))}.color-input[_ngcontent-%COMP%]:focus-visible{outline:1px solid rgb(var(--comic-text-color))}.setting-control[_ngcontent-%COMP%]{margin-top:.25rem;text-transform:capitalize}.select-option[_ngcontent-%COMP%]{color:rgb(var(--comic-text-color));text-transform:capitalize}.selected-option[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.category-search[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;min-width:12rem;height:2rem;padding:0rem .5rem;font-size:1rem;border-radius:.5rem;background-color:rgb(var(--comic-medium))}.setting-toggle[_ngcontent-%COMP%]{position:relative;width:3rem;height:1.5rem;margin-left:auto}.setting-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:0;height:0;opacity:0}.slider[_ngcontent-%COMP%]{cursor:pointer;position:absolute;inset:0;border-radius:2rem;background-color:#ccc;-webkit-transition:.4s;transition:.3s;z-index:1}.slider[_ngcontent-%COMP%]:before{content:"";position:absolute;left:4px;bottom:4px;height:1rem;width:1rem;border-radius:50%;background-color:#fff;-webkit-transition:.4s;transition:.3s;z-index:1}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(1.5rem);-ms-transform:translateX(1.5rem);transform:translate(1.5rem)}.data-row[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;gap:.25rem 1rem}.mock-password[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);width:6rem;margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.delete-acc[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:3rem}.delete-btn[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.25px;background-color:#c83232}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#dc3232}.delete-btn[_ngcontent-%COMP%]:active{background-color:#b43232}.undo-btn[_ngcontent-%COMP%]{background-color:transparent}.undo-btn[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-dark))}.undo-btn[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-light))}.back-btn[_ngcontent-%COMP%]{display:none}.changes[_ngcontent-%COMP%]{visibility:hidden;position:sticky;bottom:1rem;padding:.5rem;border-radius:4px;box-shadow:0 6px 12px 1px rgba(var(--comic-warning),.5);background-color:rgb(var(--comic-dark));transition:scale .25s ease-in,background-color .25s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible}@media(max-width:720px){.back-btn[_ngcontent-%COMP%]{display:flex}}.edit-input[_ngcontent-%COMP%]{flex:1;color:var(--comic-top-nav-text-color);padding:.25rem .5rem;margin:0rem;border:none;border-radius:var(--comic-border-radius);box-sizing:border-box;background-color:rgb(var(--comic-medium))}.account-data[_ngcontent-%COMP%]{font-size:1.1rem;padding:.25rem .5rem}.change-password[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.username[_ngcontent-%COMP%]{text-transform:lowercase}']})}}return t})();function Ud(t,c){t&1&&(o(0,"div",2),r(1," Blocked by Privacy Settings "),a())}function Hd(t,c){if(t&1&&(o(0,"div",0)(1,"div",0)(2,"mat-icon",1),r(3,"check_box"),a(),o(4,"div")(5,"span"),r(6),a(),_(7,Ud,2,0,"div",2),a()()()),t&2){let e,i,n,l=d();s(2),k("warning",(e=l.permission())==null?null:e.blocked),s(4),C((i=l.permission())==null?null:i.description),s(),v((n=l.permission())!=null&&n.blocked?7:-1)}}var qo=(()=>{class t{constructor(){this.perm=I.required(),this.settings=I.required(),this.permission=T(()=>this.permissionData())}ngOnInit(){}permissionData(){let e=this.perm(),i={description:"",blocked:!1};switch(e){case"IDENTITY":return i.description="Access your Username and Display name",i;case"HISTORY":return i.description="Read & Modify your History",this.settings().privacySettings.invisibleHistory&&(i.blocked=!0),i;case"COMIC_FOLLOWS":return i.description="Read & Modify your Comic Following",this.settings().privacySettings.invisibleFollowing&&(i.blocked=!0),i;case"STAFF_FOLLOWS":return i.description="Read & Modify your Staff Following",this.settings().privacySettings.invisibleFollowing&&(i.blocked=!0),i;case"LISTS_READ":return i.description="Read your Lists",this.settings().privacySettings.invisibleLists&&(i.blocked=!0),i;case"LISTS_WRITE":return i.description="Modify your Lists",this.settings().privacySettings.invisibleLists&&(i.blocked=!0),i}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["app-perm"]],inputs:{perm:[1,"perm"],settings:[1,"settings"]},decls:1,vars:1,consts:[[1,"app-perm"],[1,"perm-icon"],[1,"description-note","warning"]],template:function(i,n){i&1&&_(0,Hd,8,4,"div",0),i&2&&v(n.permission()?0:-1)},dependencies:[V],styles:['.settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:100%;padding:2rem 1.5rem 2rem 2rem}.settings.has-changes[_ngcontent-%COMP%]{box-shadow:inset 0 .25rem .5rem .5rem #00800040}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.back-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.25rem;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:transparent}.back-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{flex-flow:row nowrap;width:fit-content}.save-btn[_ngcontent-%COMP%]{background-color:green}.revert-btn[_ngcontent-%COMP%]{color:rgb(var(--comic-medium));background-color:#daa520}.back-btn[_ngcontent-%COMP%]:hover, .save-btn[_ngcontent-%COMP%]:hover, .revert-btn[_ngcontent-%COMP%]:hover, .edit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:rgba(var(--comic-medium),.75)}.back-btn[_ngcontent-%COMP%]:hover{background-color:rgba(var(--comic-dark),.75)}.back-btn[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-text-color),.1)}.save-btn[_ngcontent-%COMP%]:hover{background-color:#008000bf}.save-btn[_ngcontent-%COMP%]:active{background-color:green}.revert-btn[_ngcontent-%COMP%]:hover{background-color:#daa520bf}.revert-btn[_ngcontent-%COMP%]:active{background-color:#daa520}.changes-spacer[_ngcontent-%COMP%]{height:2.5rem}.settings-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1rem}.setting-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;font-weight:700;letter-spacing:.25px}.settings-description[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.25rem}.description-note[_ngcontent-%COMP%]{font-size:.8rem;color:#6482f0}.warning[_ngcontent-%COMP%]{color:#daa520!important}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:rgb(var(--comic-dark))}.group-header[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.setting[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;border-radius:4px;background-color:rgb(var(--comic-dark))}.setting-data[_ngcontent-%COMP%]{font-size:.9rem}.search-input[_ngcontent-%COMP%]{flex:1;padding:0rem;margin:0rem;color:rgb(var(--comic-text-color));outline:none;border:none;border-radius:4px;background-color:transparent}.color-input[_ngcontent-%COMP%]{cursor:pointer}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none;border-color:rgb(var(--comic-text-color))}.color-input[_ngcontent-%COMP%]:focus-visible{outline:1px solid rgb(var(--comic-text-color))}.setting-control[_ngcontent-%COMP%]{margin-top:.25rem;text-transform:capitalize}.select-option[_ngcontent-%COMP%]{color:rgb(var(--comic-text-color));text-transform:capitalize}.selected-option[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.category-search[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;min-width:12rem;height:2rem;padding:0rem .5rem;font-size:1rem;border-radius:.5rem;background-color:rgb(var(--comic-medium))}.setting-toggle[_ngcontent-%COMP%]{position:relative;width:3rem;height:1.5rem;margin-left:auto}.setting-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:0;height:0;opacity:0}.slider[_ngcontent-%COMP%]{cursor:pointer;position:absolute;inset:0;border-radius:2rem;background-color:#ccc;-webkit-transition:.4s;transition:.3s;z-index:1}.slider[_ngcontent-%COMP%]:before{content:"";position:absolute;left:4px;bottom:4px;height:1rem;width:1rem;border-radius:50%;background-color:#fff;-webkit-transition:.4s;transition:.3s;z-index:1}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(1.5rem);-ms-transform:translateX(1.5rem);transform:translate(1.5rem)}.data-row[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;gap:.25rem 1rem}.mock-password[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);width:6rem;margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.delete-acc[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:3rem}.delete-btn[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.25px;background-color:#c83232}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#dc3232}.delete-btn[_ngcontent-%COMP%]:active{background-color:#b43232}.undo-btn[_ngcontent-%COMP%]{background-color:transparent}.undo-btn[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-dark))}.undo-btn[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-light))}.back-btn[_ngcontent-%COMP%]{display:none}.changes[_ngcontent-%COMP%]{visibility:hidden;position:sticky;bottom:1rem;padding:.5rem;border-radius:4px;box-shadow:0 6px 12px 1px rgba(var(--comic-warning),.5);background-color:rgb(var(--comic-dark));transition:scale .25s ease-in,background-color .25s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible}@media(max-width:720px){.back-btn[_ngcontent-%COMP%]{display:flex}}.app-perm[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:.25rem;background-color:rgba(var(--comic-dark),.5)}.perm-icon[_ngcontent-%COMP%]{color:green}']})}}return t})();function $d(t,c){if(t&1&&g(0,"app-perm",19),t&2){let e=c.$implicit,i=d(3);p("perm",e)("settings",i.settings())}}function jd(t,c){if(t&1){let e=P();o(0,"div",13)(1,"h6",14)(2,"span"),r(3),a()(),o(4,"div",15)(5,"div"),r(6),a()(),o(7,"div",16)(8,"span",17),r(9,"Permissions"),a(),o(10,"div",18),S(11,$d,1,2,"app-perm",19,U),a(),o(13,"button",20),u("click",function(){h(e);let n=d().$implicit,l=d();return f(l.toggleAppDeletion(n().value().appId))}),o(14,"span"),r(15,"Deauthorize"),a()()()()}if(t&2){let e=d().$implicit;s(3),C(e().value().application.clientName),s(3),C(e().value().application.description),s(5),O(e().value().application.scopes)}}function Bd(t,c){if(t&1){let e=P();o(0,"div",13)(1,"h6",14)(2,"span"),r(3),a()(),o(4,"div",15)(5,"div"),r(6),a()(),o(7,"div",21)(8,"div",22),r(9),a(),o(10,"button",23),u("click",function(){h(e);let n=d().$implicit,l=d();return f(l.toggleAppDeletion(n().value().appId))}),o(11,"span",9),r(12,"Undo"),a()()(),o(13,"div",2)(14,"span",24),r(15,"This will "),o(16,"b"),r(17,"NOT"),a(),r(18," remove any of your data the App may have stored. Refer to the App for potential removal of any data."),a()()()}if(t&2){let e=d().$implicit;s(3),C(e().value().application.clientName),s(3),C(e().value().application.description),s(3),K('"',e().value().application.clientName,'" set to be deleted. ')}}function Wd(t,c){if(t&1&&_(0,jd,16,2,"div",13)(1,Bd,19,3,"div",13),t&2){let e=c.$implicit;v(e().value().deleted?1:0)}}var Uo=(()=>{class t extends Oe{constructor(){super(),this.popupService=y(xe),this.apps=N(()=>structuredClone(this.settings().authorizedApps)),this.appsForm=H(this.apps)}toggleAppDeletion(e){let i=this.apps().find(n=>n.appId==e);i&&this.popupService.showConfirmPopup({confirmText:`Are you sure you remove ${i.application.clientName}'s permissions?`,onClose:n=>{n&&this.apps.update(l=>l.map((m,w)=>m.appId==e?$(R({},m),{deleted:!m.deleted}):m))}})}saveChanges(){this.updateSettings(this.apps(),"user-authorized-apps")}revertChanges(){this.apps.set(structuredClone(this.settings().authorizedApps))}checkForChanges(){let e=this.settings().authorizedApps;for(let i of this.apps()){let n=e.findIndex(l=>l.application.clientName==i.application.clientName);if(n<0||i.deleted!=null&&(e[n].deleted!=null&&i.deleted!=e[n].deleted||i.deleted))return!0}return!1}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["authorized-apps"]],features:[q],decls:31,vars:4,consts:[["changesEle",""],[1,"settings","authorized-app-settings"],[1,"data-row"],["type","button",1,"back-btn",3,"click"],[1,"settings-section-header"],[1,"settings-list"],[1,"setting-group"],[1,"group-header","setting-header"],[1,"data-row","changes"],[1,"warning"],[1,"data-row","ml-auto"],["type","button",1,"revert-btn",3,"click"],["type","button",1,"save-btn",3,"click"],[1,"setting","authorized-app"],[1,"setting-header","app-name"],[1,"settings-description"],[1,"setting-data"],[1,"permissions-header"],[1,"app-permissions"],[3,"perm","settings"],["type","button",1,"edit-btn","delete-btn","ml-auto",3,"click"],[1,"data-row","mark-setting"],[1,"deletion-notice","warning"],[1,"edit-btn","undo-btn","ml-auto",3,"click"],[1,"description-note","warning"]],template:function(i,n){if(i&1){let l=P();o(0,"div",1)(1,"div",2)(2,"button",3),u("click",function(){return h(l),f(n.backToNav())}),o(3,"mat-icon"),r(4,"chevron_left"),a(),o(5,"span"),r(6,"Back"),a()()(),o(7,"h4",4),r(8,"Authorized Applications"),a(),o(9,"div",5)(10,"div",6)(11,"h5",7)(12,"span"),r(13,"Authorized Apps"),a()(),S(14,Wd,2,1,null,null,U),a()(),o(16,"div",8,0)(18,"span")(19,"span",9),r(20,"Warning!"),a(),r(21," You have unsaved changes"),a(),o(22,"div",10)(23,"button",11),u("click",function(){return h(l),f(n.revertChanges())}),o(24,"span"),r(25,"Revert Changes"),a()(),o(26,"button",12),u("click",function(){return h(l),f(n.saveChanges())}),o(27,"span"),r(28,"Save Changes"),a(),o(29,"mat-icon"),r(30,"check"),a()()()()()}i&2&&(k("has-changes",n.hasChanged()),s(14),O(n.appsForm),s(2),k("visible",n.hasChanged()))},dependencies:[V,qo],styles:['.settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:100%;padding:2rem 1.5rem 2rem 2rem}.settings.has-changes[_ngcontent-%COMP%]{box-shadow:inset 0 .25rem .5rem .5rem #00800040}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.back-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.25rem;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:transparent}.back-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{flex-flow:row nowrap;width:fit-content}.save-btn[_ngcontent-%COMP%]{background-color:green}.revert-btn[_ngcontent-%COMP%]{color:rgb(var(--comic-medium));background-color:#daa520}.back-btn[_ngcontent-%COMP%]:hover, .save-btn[_ngcontent-%COMP%]:hover, .revert-btn[_ngcontent-%COMP%]:hover, .edit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:rgba(var(--comic-medium),.75)}.back-btn[_ngcontent-%COMP%]:hover{background-color:rgba(var(--comic-dark),.75)}.back-btn[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-text-color),.1)}.save-btn[_ngcontent-%COMP%]:hover{background-color:#008000bf}.save-btn[_ngcontent-%COMP%]:active{background-color:green}.revert-btn[_ngcontent-%COMP%]:hover{background-color:#daa520bf}.revert-btn[_ngcontent-%COMP%]:active{background-color:#daa520}.changes-spacer[_ngcontent-%COMP%]{height:2.5rem}.settings-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1rem}.setting-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;font-weight:700;letter-spacing:.25px}.settings-description[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.25rem}.description-note[_ngcontent-%COMP%]{font-size:.8rem;color:#6482f0}.warning[_ngcontent-%COMP%]{color:#daa520!important}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:rgb(var(--comic-dark))}.group-header[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.setting[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;border-radius:4px;background-color:rgb(var(--comic-dark))}.setting-data[_ngcontent-%COMP%]{font-size:.9rem}.search-input[_ngcontent-%COMP%]{flex:1;padding:0rem;margin:0rem;color:rgb(var(--comic-text-color));outline:none;border:none;border-radius:4px;background-color:transparent}.color-input[_ngcontent-%COMP%]{cursor:pointer}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none;border-color:rgb(var(--comic-text-color))}.color-input[_ngcontent-%COMP%]:focus-visible{outline:1px solid rgb(var(--comic-text-color))}.setting-control[_ngcontent-%COMP%]{margin-top:.25rem;text-transform:capitalize}.select-option[_ngcontent-%COMP%]{color:rgb(var(--comic-text-color));text-transform:capitalize}.selected-option[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.category-search[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;min-width:12rem;height:2rem;padding:0rem .5rem;font-size:1rem;border-radius:.5rem;background-color:rgb(var(--comic-medium))}.setting-toggle[_ngcontent-%COMP%]{position:relative;width:3rem;height:1.5rem;margin-left:auto}.setting-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:0;height:0;opacity:0}.slider[_ngcontent-%COMP%]{cursor:pointer;position:absolute;inset:0;border-radius:2rem;background-color:#ccc;-webkit-transition:.4s;transition:.3s;z-index:1}.slider[_ngcontent-%COMP%]:before{content:"";position:absolute;left:4px;bottom:4px;height:1rem;width:1rem;border-radius:50%;background-color:#fff;-webkit-transition:.4s;transition:.3s;z-index:1}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(1.5rem);-ms-transform:translateX(1.5rem);transform:translate(1.5rem)}.data-row[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;gap:.25rem 1rem}.mock-password[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);width:6rem;margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.delete-acc[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:3rem}.delete-btn[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.25px;background-color:#c83232}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#dc3232}.delete-btn[_ngcontent-%COMP%]:active{background-color:#b43232}.undo-btn[_ngcontent-%COMP%]{background-color:transparent}.undo-btn[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-dark))}.undo-btn[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-light))}.back-btn[_ngcontent-%COMP%]{display:none}.changes[_ngcontent-%COMP%]{visibility:hidden;position:sticky;bottom:1rem;padding:.5rem;border-radius:4px;box-shadow:0 6px 12px 1px rgba(var(--comic-warning),.5);background-color:rgb(var(--comic-dark));transition:scale .25s ease-in,background-color .25s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible}@media(max-width:720px){.back-btn[_ngcontent-%COMP%]{display:flex}}.app-name[_ngcontent-%COMP%]{font-size:1.2rem}.permissions-header[_ngcontent-%COMP%]{font-weight:700}.app-permissions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.5rem}.app-perm[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:.25rem;background-color:rgba(var(--comic-dark),.5)}.perm-icon[_ngcontent-%COMP%]{color:green}.delete-btn[_ngcontent-%COMP%]{margin-right:.5rem;border:2px solid rgb(200,50,50);background-color:transparent}.authorized-app[_ngcontent-%COMP%]{margin:1.25rem;background-color:rgb(var(--comic-medium))}']})}}return t})();function Gd(t,c){t&1&&(o(0,"span"),r(1,"Following currently "),o(2,"b"),r(3,"Private"),a()())}function Qd(t,c){t&1&&(o(0,"span"),r(1,"Following currently "),o(2,"b"),r(3,"Public"),a()())}function Yd(t,c){t&1&&(o(0,"span"),r(1,"Following "),o(2,"b"),r(3,"Public"),a()())}function Kd(t,c){t&1&&(o(0,"span"),r(1,"Following "),o(2,"b"),r(3,"Private"),a()())}function Xd(t,c){if(t&1&&(o(0,"div",13)(1,"mat-icon"),r(2,"arrow_right"),a(),_(3,Yd,4,0,"span")(4,Kd,4,0,"span"),a()),t&2){let e=d();s(3),v(e.settings().privacySettings.privateFollowing?3:4)}}function Zd(t,c){t&1&&(o(0,"span"),r(1,"Following currently "),o(2,"b"),r(3,"Invisible"),a()())}function Jd(t,c){t&1&&(o(0,"span"),r(1,"Following currently "),o(2,"b"),r(3,"Visible"),a()())}function em(t,c){t&1&&(o(0,"span"),r(1,"Following "),o(2,"b"),r(3,"Visible"),a()())}function tm(t,c){t&1&&(o(0,"span"),r(1,"Following "),o(2,"b"),r(3,"Invisible"),a()())}function nm(t,c){if(t&1&&(o(0,"div",13)(1,"mat-icon"),r(2,"arrow_right"),a(),_(3,em,4,0,"span")(4,tm,4,0,"span"),a()),t&2){let e=d();s(3),v(e.settings().privacySettings.invisibleFollowing?3:4)}}function im(t,c){t&1&&(o(0,"span"),r(1,"Lists currently "),o(2,"b"),r(3,"Private"),a()())}function om(t,c){t&1&&(o(0,"span"),r(1,"Lists currently "),o(2,"b"),r(3,"Public"),a()())}function rm(t,c){t&1&&(o(0,"span"),r(1,"Lists "),o(2,"b"),r(3,"Public"),a()())}function am(t,c){t&1&&(o(0,"span"),r(1,"Lists "),o(2,"b"),r(3,"Private"),a()())}function cm(t,c){if(t&1&&(o(0,"div",13)(1,"mat-icon"),r(2,"arrow_right"),a(),_(3,rm,4,0,"span")(4,am,4,0,"span"),a()),t&2){let e=d();s(3),v(e.settings().privacySettings.privateLists?3:4)}}function sm(t,c){t&1&&(o(0,"span"),r(1,"Lists currently "),o(2,"b"),r(3,"Invisible"),a()())}function lm(t,c){t&1&&(o(0,"span"),r(1,"Lists currently "),o(2,"b"),r(3,"Visible"),a()())}function dm(t,c){t&1&&(o(0,"span"),r(1,"Lists "),o(2,"b"),r(3,"Visible"),a()())}function mm(t,c){t&1&&(o(0,"span"),r(1,"Lists "),o(2,"b"),r(3,"Invisible"),a()())}function pm(t,c){if(t&1&&(o(0,"div",13)(1,"mat-icon"),r(2,"arrow_right"),a(),_(3,dm,4,0,"span")(4,mm,4,0,"span"),a()),t&2){let e=d();s(3),v(e.settings().privacySettings.invisibleLists?3:4)}}function gm(t,c){t&1&&(o(0,"span"),r(1,"History currently "),o(2,"b"),r(3,"Private"),a()())}function um(t,c){t&1&&(o(0,"span"),r(1,"History currently "),o(2,"b"),r(3,"Public"),a()())}function hm(t,c){t&1&&(o(0,"span"),r(1,"History "),o(2,"b"),r(3,"Public"),a()())}function fm(t,c){t&1&&(o(0,"span"),r(1,"History "),o(2,"b"),r(3,"Private"),a()())}function Cm(t,c){if(t&1&&(o(0,"div",13)(1,"mat-icon"),r(2,"arrow_right"),a(),_(3,hm,4,0,"span")(4,fm,4,0,"span"),a()),t&2){let e=d();s(3),v(e.settings().privacySettings.privateHistory?3:4)}}function _m(t,c){t&1&&(o(0,"span"),r(1,"History currently "),o(2,"b"),r(3,"Invisible"),a()())}function vm(t,c){t&1&&(o(0,"span"),r(1,"History currently "),o(2,"b"),r(3,"Visible"),a()())}function bm(t,c){t&1&&(o(0,"span"),r(1,"History "),o(2,"b"),r(3,"Visible"),a()())}function xm(t,c){t&1&&(o(0,"span"),r(1,"History "),o(2,"b"),r(3,"Invisible"),a()())}function ym(t,c){if(t&1&&(o(0,"div",13)(1,"mat-icon"),r(2,"arrow_right"),a(),_(3,bm,4,0,"span")(4,xm,4,0,"span"),a()),t&2){let e=d();s(3),v(e.settings().privacySettings.invisibleHistory?3:4)}}var Ho=(()=>{class t extends Oe{constructor(){super(),this.privacy=N(()=>structuredClone(this.settings().privacySettings)),this.privacyForm=H(this.privacy)}checkForChanges(){let e=this.settings().privacySettings,i=this.privacy();for(let n in e)if(e[n]!=i[n])return!0;return!1}saveChanges(){this.updateSettings(this.privacy(),"user-privacy")}revertChanges(){this.privacy.set(structuredClone(this.settings().privacySettings))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["privacy-settings"]],features:[q],decls:143,vars:28,consts:[["changesEle",""],[1,"settings","privacy-settings"],[1,"data-row"],["type","button",1,"back-btn",3,"click"],[1,"settings-section-header"],[1,"settings-list"],[1,"setting-group"],[1,"group-header","setting-header"],[1,"setting"],[1,"setting-header"],[1,"settings-description"],[1,"description-note"],[1,"setting-data"],[1,"data-row","warning"],[1,"setting-toggle"],["type","checkbox",3,"field"],[1,"slider"],[1,"description-note","warning"],[1,"data-row","changes"],[1,"warning"],[1,"data-row","ml-auto"],["type","button",1,"revert-btn",3,"click"],["type","button",1,"save-btn",3,"click"]],template:function(i,n){if(i&1){let l=P();o(0,"div",1)(1,"div",2)(2,"button",3),u("click",function(){return h(l),f(n.backToNav())}),o(3,"mat-icon"),r(4,"chevron_left"),a(),o(5,"span"),r(6,"Back"),a()()(),o(7,"h4",4),r(8,"Privacy"),a(),o(9,"div",5)(10,"div",6)(11,"h5",7)(12,"span"),r(13,"Following Privacy"),a()(),o(14,"div",8)(15,"h6",9)(16,"span"),r(17,"Private Following"),a()(),o(18,"div",10)(19,"div"),r(20,"Makes your Following unviewable to other users."),a(),o(21,"div",11),r(22,"Note: Authorized Apps are still able view or modify your list"),a()(),o(23,"div",12)(24,"div",2),_(25,Gd,4,0,"span")(26,Qd,4,0,"span"),_(27,Xd,5,1,"div",13),o(28,"label",14),g(29,"input",15),D(),g(30,"span",16),a()()()(),o(31,"div",8)(32,"h6",9)(33,"span"),r(34,"Following Invisible to Apps"),a()(),o(35,"div",10)(36,"div"),r(37,"Prevents Apps from accessing Following regardless of App Permissions."),a(),o(38,"div",11),r(39,"Note: Recommended to keep Visible"),a(),o(40,"div",17),r(41,"Warning: May cause issues with Apps if reliant on Following visibility"),a()(),o(42,"div",12)(43,"div",2),_(44,Zd,4,0,"span")(45,Jd,4,0,"span"),_(46,nm,5,1,"div",13),o(47,"label",14),g(48,"input",15),D(),g(49,"span",16),a()()()()(),o(50,"div",6)(51,"h5",7)(52,"span"),r(53,"Lists Privacy"),a()(),o(54,"div",8)(55,"h6",9)(56,"span"),r(57,"Private Lists"),a()(),o(58,"div",10)(59,"div"),r(60,"Makes your lists unviewable to other users."),a(),o(61,"div",11),r(62,"Note: Authorized Apps are still able view or modify your list"),a()(),o(63,"div",12)(64,"div",2),_(65,im,4,0,"span")(66,om,4,0,"span"),_(67,cm,5,1,"div",13),o(68,"label",14),g(69,"input",15),D(),g(70,"span",16),a()()()(),o(71,"div",8)(72,"h6",9)(73,"span"),r(74,"Lists Invisible to Apps"),a()(),o(75,"div",10)(76,"div"),r(77,"Prevents Apps from accessing Lists regardless of App Permissions."),a(),o(78,"div",17),r(79,"Warning: May cause issues with Apps if reliant on List visibility"),a()(),o(80,"div",12)(81,"div",2),_(82,sm,4,0,"span")(83,lm,4,0,"span"),_(84,pm,5,1,"div",13),o(85,"label",14),g(86,"input",15),D(),g(87,"span",16),a()()()()(),o(88,"div",6)(89,"h5",7)(90,"span"),r(91,"History Privacy"),a()(),o(92,"div",8)(93,"h6",9)(94,"span"),r(95,"Private History"),a()(),o(96,"div",10)(97,"div"),r(98,"Makes your recent History unviewable to other users. Full History is always unviewable to other users."),a(),o(99,"div",11),r(100,"Note: Authorized Apps are still able view or modify your history"),a()(),o(101,"div",12)(102,"div",2),_(103,gm,4,0,"span")(104,um,4,0,"span"),_(105,Cm,5,1,"div",13),o(106,"label",14),g(107,"input",15),D(),g(108,"span",16),a()()()(),o(109,"div",8)(110,"h6",9)(111,"span"),r(112,"History Invisible to Apps"),a()(),o(113,"div",10)(114,"div"),r(115,"Prevents Apps from reading History regardless of App Permissions."),a(),o(116,"div",11),r(117,"Note: Does not prevent Apps from updating History"),a(),o(118,"div",17),r(119,"Warning: May cause issues with Apps if reliant on History visibility"),a()(),o(120,"div",12)(121,"div",2),_(122,_m,4,0,"span")(123,vm,4,0,"span"),_(124,ym,5,1,"div",13),o(125,"label",14),g(126,"input",15),D(),g(127,"span",16),a()()()()()(),o(128,"div",18,0)(130,"span")(131,"span",19),r(132,"Warning!"),a(),r(133," You have unsaved changes"),a(),o(134,"div",20)(135,"button",21),u("click",function(){return h(l),f(n.revertChanges())}),o(136,"span"),r(137,"Revert Changes"),a()(),o(138,"button",22),u("click",function(){return h(l),f(n.saveChanges())}),o(139,"span"),r(140,"Save Changes"),a(),o(141,"mat-icon"),r(142,"check"),a()()()()()}i&2&&(k("has-changes",n.hasChanged()),s(25),v(n.settings().privacySettings.privateFollowing?25:26),s(2),v(n.settings().privacySettings.privateFollowing!=n.privacy().privateFollowing?27:-1),s(2),A(n.privacyForm.privateFollowing),s(15),v(n.settings().privacySettings.invisibleFollowing?44:45),s(2),v(n.settings().privacySettings.invisibleFollowing!=n.privacy().invisibleFollowing?46:-1),s(2),A(n.privacyForm.invisibleFollowing),s(17),v(n.settings().privacySettings.privateLists?65:66),s(2),v(n.settings().privacySettings.privateLists!=n.privacy().privateLists?67:-1),s(2),A(n.privacyForm.privateLists),s(13),v(n.settings().privacySettings.invisibleLists?82:83),s(2),v(n.settings().privacySettings.invisibleLists!=n.privacy().invisibleLists?84:-1),s(2),A(n.privacyForm.invisibleLists),s(17),v(n.settings().privacySettings.privateHistory?103:104),s(2),v(n.settings().privacySettings.privateHistory!=n.privacy().privateHistory?105:-1),s(2),A(n.privacyForm.privateHistory),s(15),v(n.settings().privacySettings.invisibleHistory?122:123),s(2),v(n.settings().privacySettings.invisibleHistory!=n.privacy().invisibleHistory?124:-1),s(2),A(n.privacyForm.invisibleHistory),s(2),k("visible",n.hasChanged()))},dependencies:[V,Q],styles:['.settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;min-height:100%;padding:2rem 1.5rem 2rem 2rem}.settings.has-changes[_ngcontent-%COMP%]{box-shadow:inset 0 .25rem .5rem .5rem #00800040}.ml-auto[_ngcontent-%COMP%]{margin-left:auto}.back-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .edit-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.25rem;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:transparent}.back-btn[_ngcontent-%COMP%], .revert-btn[_ngcontent-%COMP%], .save-btn[_ngcontent-%COMP%]{flex-flow:row nowrap;width:fit-content}.save-btn[_ngcontent-%COMP%]{background-color:green}.revert-btn[_ngcontent-%COMP%]{color:rgb(var(--comic-medium));background-color:#daa520}.back-btn[_ngcontent-%COMP%]:hover, .save-btn[_ngcontent-%COMP%]:hover, .revert-btn[_ngcontent-%COMP%]:hover, .edit-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:rgba(var(--comic-medium),.75)}.back-btn[_ngcontent-%COMP%]:hover{background-color:rgba(var(--comic-dark),.75)}.back-btn[_ngcontent-%COMP%]:active{background-color:rgba(var(--comic-text-color),.1)}.save-btn[_ngcontent-%COMP%]:hover{background-color:#008000bf}.save-btn[_ngcontent-%COMP%]:active{background-color:green}.revert-btn[_ngcontent-%COMP%]:hover{background-color:#daa520bf}.revert-btn[_ngcontent-%COMP%]:active{background-color:#daa520}.changes-spacer[_ngcontent-%COMP%]{height:2.5rem}.settings-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1rem}.setting-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;font-weight:700;letter-spacing:.25px}.settings-description[_ngcontent-%COMP%]{font-size:.85rem;margin-bottom:.25rem}.description-note[_ngcontent-%COMP%]{font-size:.8rem;color:#6482f0}.warning[_ngcontent-%COMP%]{color:#daa520!important}.setting-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:rgb(var(--comic-dark))}.group-header[_ngcontent-%COMP%]{padding:1rem 1rem 0rem}.setting[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:1rem;border-radius:4px;background-color:rgb(var(--comic-dark))}.setting-data[_ngcontent-%COMP%]{font-size:.9rem}.search-input[_ngcontent-%COMP%]{flex:1;padding:0rem;margin:0rem;color:rgb(var(--comic-text-color));outline:none;border:none;border-radius:4px;background-color:transparent}.color-input[_ngcontent-%COMP%]{cursor:pointer}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none;border-color:rgb(var(--comic-text-color))}.color-input[_ngcontent-%COMP%]:focus-visible{outline:1px solid rgb(var(--comic-text-color))}.setting-control[_ngcontent-%COMP%]{margin-top:.25rem;text-transform:capitalize}.select-option[_ngcontent-%COMP%]{color:rgb(var(--comic-text-color));text-transform:capitalize}.selected-option[_ngcontent-%COMP%]{font-weight:700;text-transform:capitalize}.category-search[_ngcontent-%COMP%]{position:relative;flex:1;display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;min-width:12rem;height:2rem;padding:0rem .5rem;font-size:1rem;border-radius:.5rem;background-color:rgb(var(--comic-medium))}.setting-toggle[_ngcontent-%COMP%]{position:relative;width:3rem;height:1.5rem;margin-left:auto}.setting-toggle[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:0;height:0;opacity:0}.slider[_ngcontent-%COMP%]{cursor:pointer;position:absolute;inset:0;border-radius:2rem;background-color:#ccc;-webkit-transition:.4s;transition:.3s;z-index:1}.slider[_ngcontent-%COMP%]:before{content:"";position:absolute;left:4px;bottom:4px;height:1rem;width:1rem;border-radius:50%;background-color:#fff;-webkit-transition:.4s;transition:.3s;z-index:1}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{-webkit-transform:translateX(1.5rem);-ms-transform:translateX(1.5rem);transform:translate(1.5rem)}.data-row[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:center;gap:.25rem 1rem}.mock-password[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);width:6rem;margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.delete-acc[_ngcontent-%COMP%]{margin-top:auto;margin-bottom:3rem}.delete-btn[_ngcontent-%COMP%]{font-weight:700;letter-spacing:.25px;background-color:#c83232}.delete-btn[_ngcontent-%COMP%]:hover{background-color:#dc3232}.delete-btn[_ngcontent-%COMP%]:active{background-color:#b43232}.undo-btn[_ngcontent-%COMP%]{background-color:transparent}.undo-btn[_ngcontent-%COMP%]:hover{background-color:rgb(var(--comic-dark))}.undo-btn[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-light))}.back-btn[_ngcontent-%COMP%]{display:none}.changes[_ngcontent-%COMP%]{visibility:hidden;position:sticky;bottom:1rem;padding:.5rem;border-radius:4px;box-shadow:0 6px 12px 1px rgba(var(--comic-warning),.5);background-color:rgb(var(--comic-dark));transition:scale .25s ease-in,background-color .25s ease-in}.visible[_ngcontent-%COMP%]{visibility:visible}@media(max-width:720px){.back-btn[_ngcontent-%COMP%]{display:flex}}.disabled[_ngcontent-%COMP%]{opacity:.6}']})}}return t})();var wm=["currentSettingView"];function Mm(t,c){if(t&1){let e=P();o(0,"account-settings",9,0),u("back",function(){h(e);let n=d();return f(n.back())})("hasChanges",function(n){h(e);let l=d();return f(l.setChanges(n))}),a()}}function Pm(t,c){if(t&1){let e=P();o(0,"privacy-settings",9,0),u("back",function(){h(e);let n=d();return f(n.back())})("hasChanges",function(n){h(e);let l=d();return f(l.setChanges(n))}),a()}}function Sm(t,c){if(t&1){let e=P();o(0,"authorized-apps",9,0),u("back",function(){h(e);let n=d();return f(n.back())})("hasChanges",function(n){h(e);let l=d();return f(l.setChanges(n))}),a()}}function Om(t,c){if(t&1){let e=P();o(0,"comic-preferences-settings",9,0),u("back",function(){h(e);let n=d();return f(n.back())})("hasChanges",function(n){h(e);let l=d();return f(l.setChanges(n))}),a()}}function km(t,c){if(t&1){let e=P();o(0,"comic-mark-settings",9,0),u("back",function(){h(e);let n=d();return f(n.back())})("hasChanges",function(n){h(e);let l=d();return f(l.setChanges(n))}),a()}}function Em(t,c){if(t&1){let e=P();o(0,"comic-filter-settings",9,0),u("back",function(){h(e);let n=d();return f(n.back())})("hasChanges",function(n){h(e);let l=d();return f(l.setChanges(n))}),a()}}function Tm(t,c){if(t&1){let e=P();o(0,"my-app-settings",10,0),u("back",function(){h(e);let n=d();return f(n.back())})("hasChanges",function(n){h(e);let l=d();return f(l.setChanges(n))}),a()}if(t&2){let e=d();p("userApps",e.userApps())}}function Im(t,c){if(t&1){let e=P();o(0,"account-settings",9,0),u("back",function(){h(e);let n=d();return f(n.back())})("hasChanges",function(n){h(e);let l=d();return f(l.setChanges(n))}),a()}}var $o=(()=>{class t{constructor(){this.session=y(B),this.userApps=I.required(),this.view=E("user-account"),this.hasChanges=E(!1),this.currentSettingView=G("currentSettingView")}ngOnInit(){}changeView(e){this.hasChanges()?this.currentSettingView()?.warnChanges():this.view.set(e)}isActive(e){return this.view()==e}inSetting(){return this.view()!=null}setChanges(e){this.hasChanges.set(e)}back(){this.hasChanges()?this.currentSettingView()?.warnChanges():window.innerWidth<=720?this.view.set(void 0):this.view.set("user-account")}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["comic-settings"]],viewQuery:function(i,n){i&1&&ee(n.currentSettingView,wm,5),i&2&&te()},inputs:{userApps:[1,"userApps"]},decls:60,vars:29,consts:[["currentSettingView",""],["id","comic-settings",1,"comic-settings"],[1,"settings-nav"],[1,"nav-section-header"],[1,"nav-list"],["type","button",1,"nav-btn",3,"click","disabled"],["type","button",1,"nav-btn","logout",3,"disabled"],[1,"settings-content"],[3,"userApps"],[3,"back","hasChanges"],[3,"back","hasChanges","userApps"]],template:function(i,n){if(i&1&&(o(0,"div",1)(1,"div",2)(2,"h3",3),r(3,"User Settings"),a(),o(4,"div",4)(5,"button",5),u("click",function(){return n.changeView("user-account")}),o(6,"mat-icon"),r(7,"person"),a(),o(8,"span"),r(9,"Account"),a()(),o(10,"button",5),u("click",function(){return n.changeView("user-privacy")}),o(11,"mat-icon"),r(12,"lock"),a(),o(13,"span"),r(14,"Privacy"),a()(),o(15,"button",5),u("click",function(){return n.changeView("user-authorized-apps")}),o(16,"mat-icon"),r(17,"widgets"),a(),o(18,"span"),r(19,"Authorized Apps"),a()()(),o(20,"h3",3),r(21,"Comic Settings"),a(),o(22,"div",4)(23,"button",5),u("click",function(){return n.changeView("comic-preferences")}),o(24,"mat-icon"),r(25,"donut_large"),a(),o(26,"span"),r(27,"Preferences"),a()(),o(28,"button",5),u("click",function(){return n.changeView("comic-marks")}),o(29,"mat-icon"),r(30,"circle"),a(),o(31,"span"),r(32,"Marks"),a()(),o(33,"button",5),u("click",function(){return n.changeView("comic-filters")}),o(34,"mat-icon"),r(35,"visibility"),a(),o(36,"span"),r(37,"Filters"),a()()(),o(38,"h3",3),r(39,"Comic API"),a(),o(40,"div",4)(41,"button",5),u("click",function(){return n.changeView("api-my-apps")}),o(42,"mat-icon"),r(43,"dashboard"),a(),o(44,"span"),r(45,"My Apps"),a()()(),o(46,"button",6)(47,"mat-icon"),r(48,"logout"),a(),o(49,"span"),r(50,"Log Out"),a()()(),o(51,"div",7),_(52,Mm,2,0,"account-settings")(53,Pm,2,0,"privacy-settings")(54,Sm,2,0,"authorized-apps")(55,Om,2,0,"comic-preferences-settings")(56,km,2,0,"comic-mark-settings")(57,Em,2,0,"comic-filter-settings")(58,Tm,2,1,"my-app-settings",8)(59,Im,2,0,"account-settings"),a()()),i&2){let l;s(),k("in-setting",n.inSetting()),s(4),k("active",n.isActive("user-account")),p("disabled",n.isActive("user-account")),s(5),k("active",n.isActive("user-privacy")),p("disabled",n.isActive("user-privacy")),s(5),k("active",n.isActive("user-authorized-apps")),p("disabled",n.isActive("user-authorized-apps")),s(8),k("active",n.isActive("comic-preferences")),p("disabled",n.isActive("comic-preferences")),s(5),k("active",n.isActive("comic-marks")),p("disabled",n.isActive("comic-marks")),s(5),k("active",n.isActive("comic-filters")),p("disabled",n.isActive("comic-filters")),s(8),k("active",n.isActive("api-my-apps")),p("disabled",n.isActive("api-my-apps")),s(5),k("active",n.isActive("logout")),p("disabled",n.isActive("logout")),s(5),k("in-setting",n.inSetting()),s(),v((l=n.view())==="user-account"?52:l==="user-privacy"?53:l==="user-authorized-apps"?54:l==="comic-preferences"?55:l==="comic-marks"?56:l==="comic-filters"?57:l==="api-my-apps"?58:59)}},dependencies:[V,zo,Ho,Uo,Vo,Ro,No,Lo],styles:["[_nghost-%COMP%]{flex:1;display:flex}.comic-settings[_ngcontent-%COMP%]{flex:1;display:grid;grid-template-columns:auto 1fr;min-height:var(--comic-content-height)}.settings-nav[_ngcontent-%COMP%]{position:sticky;top:var(--comic-nav-height);display:flex;flex-direction:column;height:calc(100vh - var(--comic-nav-height));min-width:var(--comic-side-bar-width);padding:1rem .5rem 2rem 1rem;background-color:rgb(var(--comic-dark));overflow-y:scroll;scrollbar-width:thin;scrollbar-color:transparent transparent}.settings-nav[_ngcontent-%COMP%]:hover{scrollbar-color:rgba(var(--comic-text-color),.5) rgb(var(--comic-dark))}.nav-section-header[_ngcontent-%COMP%]{margin-top:0;margin-bottom:.5rem;font-size:1rem;font-weight:500;line-height:1.2;color:rgb(var(--comic-text-color))}.settings-content[_ngcontent-%COMP%]{width:100%;scrollbar-color:rgba(var(--comic-text-color),.5) rgb(var(--comic-medium))}.nav-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:1rem}.nav-btn[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem;gap:.25rem;width:100%;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:transparent}.nav-btn.active[_ngcontent-%COMP%], .nav-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:rgba(var(--comic-medium),.75)}.nav-btn.active[_ngcontent-%COMP%]{background-color:rgba(var(--comic-text-color),.1)}.logout[_ngcontent-%COMP%]{margin-top:auto}.changes-warning[_ngcontent-%COMP%]{position:fixed;top:5rem;left:50%;transform:translate(-50%);display:flex;flex-direction:column;justify-content:center;width:15rem;height:5rem;font-size:1.2rem;font-weight:700;color:rgb(var(--comic-warning));text-align:center;border:1px solid rgb(var(--comic-warning));border-radius:4px;background-color:rgb(var(--comic-dark))}@media(max-width:720px){.comic-settings[_ngcontent-%COMP%]{grid-template-columns:1fr}.settings-nav.in-setting[_ngcontent-%COMP%], .settings-content[_ngcontent-%COMP%]{display:none}.settings-content.in-setting[_ngcontent-%COMP%]{display:unset}}"]})}}return t})();var xt=(()=>{class t{constructor(){this.session=y(B),this.userService=y(Ie),this.comicService=y(Ce),this.notifService=y(oe),this.user=I.required(),this.isMe=T(()=>this.user().id==this.session.user.value().id),this.when=j.when}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["ng-component"]],inputs:{user:[1,"user"]},decls:0,vars:0,template:function(i,n){},encapsulation:2})}}return t})();function Fm(t,c){t&1&&(o(0,"mat-icon",3),r(1,"arrow_drop_down"),a())}function Dm(t,c){if(t&1){let e=P();o(0,"button",7),u("click",function(){let n=h(e).$implicit,l=d();return f(l.changeState(n))}),r(1),a()}if(t&2){let e=c.$implicit,i=d();k("disabled",i.state()==e),p("disabled",i.state()==e),s(),C(i.stateTextMap[e])}}function Am(t,c){t&1&&(o(0,"div",6),g(1,"div",8),o(2,"div",9),g(3,"mat-progress-spinner",10),a()())}var jo=(()=>{class t extends Ut{constructor(e){super(e),this.elementRef=e,this.user=I.required(),this.isMe=T(()=>this.user().id==this.session.user.value().id),this.onChange=ce()}followState(){let e=this.comic();return e.state||e.comic.followState||"NOT_FOLLOWED"}doStateChange(e){if(e!="UNFOLLOW"){let i={state:e,comic:this.comic().comic};this.comicService.followComics(this.session.user.value().id,[i]).subscribe({next:n=>{n&&(this.followsUpdate(`${this.comic().comic.title} added to ${this.stateTextMap[e].toUpperCase()}`),this.onChange.emit({state:n[0]?.state,comics:[this.comic().comic]}))},error:n=>{this.connectionError("Could not update Follows")}}).add(()=>this.loading.set(!1))}else this.comicService.unfollowComics(this.session.user.value().id,[this.comic().comic.id]).subscribe({next:i=>{i&&(this.followsUpdate(`UNFOLLOWED ${this.comic().comic.title}`,"warning"),this.onChange.emit({state:"NOT_FOLLOWED",comics:[this.comic().comic]}))},error:i=>{this.connectionError("Could not unfollow comic")}}).add(()=>this.loading.set(!1))}static{this.\u0275fac=function(i){return new(i||t)(J(Z))}}static{this.\u0275cmp=M({type:t,selectors:[["user-follow-status"]],inputs:{user:[1,"user"]},outputs:{onChange:"onChange"},features:[q],decls:10,vars:10,consts:[[1,"list-status"],[1,"follow-info"],["type","button",1,"follow-status",3,"click","disabled"],[1,"change-status"],[1,"update-status"],["type","button",1,"status-btn",3,"disabled"],[1,"status-loading"],["type","button",1,"status-btn",3,"click","disabled"],[1,"loading-backdrop"],[1,"spinner-container"],["mode","indeterminate",1,"spinner"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"div",1)(2,"button",2),u("click",function(){return n.toggleMenu()}),o(3,"span"),r(4),a(),_(5,Fm,2,0,"mat-icon",3),a()(),o(6,"div",4),S(7,Dm,2,4,"button",5,Ee),_(9,Am,4,0,"div",6),a()()),i&2&&(k("list-status-expanded",n.isOpened()),s(2),p("disabled",!n.isMe()),s(2),C(n.stateText()),s(),v(n.isMe()?5:-1),s(),k("update-status-expanded",n.isOpened())("update-status-border-hidden",n.borderHidden()),s(),O(n.states),s(2),v(n.loading()?9:-1))},dependencies:[V,Te],styles:[".list-status[_ngcontent-%COMP%]{position:relative;background-color:#335a99;border-radius:4px;transition:border-bottom-left-radius .25s ease-in-out,border-bottom-right-radius .25s ease-in-out}.follow-info[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;text-align:center;z-index:2}.follow-status[_ngcontent-%COMP%], .change-status[_ngcontent-%COMP%]{padding:.25rem}.follow-status[_ngcontent-%COMP%]{flex:1}.follow-status[_ngcontent-%COMP%]:hover, .change-status-btn[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff;background-color:#c8c8c81a}.follow-status[_ngcontent-%COMP%]:active, .change-status-btn[_ngcontent-%COMP%]:active{color:rgb(var(--comic-text-color),.8)}.change-status-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;width:2.25rem;padding:0rem;border:none;border-left:1px solid rgba(21,38,65,.5);background-color:transparent}.change-status[_ngcontent-%COMP%]{width:2rem;height:100%}.change-status[_ngcontent-%COMP%]:hover{cursor:pointer}.update-status[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:0rem;box-sizing:border-box;border:1px solid rgba(51,90,153,1);border-top:none;border-bottom-left-radius:4px;border-bottom-right-radius:4px;background-color:rgba(var(--comic-dark),1);transition:height .25s ease-in-out;overflow:hidden;z-index:100}.update-status-border-hidden[_ngcontent-%COMP%]{border:none}.update-status-expanded[_ngcontent-%COMP%]{height:2.5rem}.list-status-expanded[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.status-btn[_ngcontent-%COMP%]{flex:1;width:100%;padding:0rem;color:rgb(var(--comic-text-color));border:none;background-color:transparent}.status-btn[_ngcontent-%COMP%]:hover{color:#fff;background-color:#c8c8c81a}.status-btn[_ngcontent-%COMP%]:active{color:rgb(var(--comic-text-color),.8)}.status-btn[_ngcontent-%COMP%]:disabled{color:rgb(var(--comic-text-color),.5);background-color:transparent!important}.status-loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;width:100%;height:100%}.spinner-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;height:100%;padding:.25rem;margin:auto;z-index:2}.spinner[_ngcontent-%COMP%]{height:min(100%,100px)!important}.loading-backdrop[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background-color:rgba(var(--comic-dark),.8);-webkit-backdrop-filter:blur(.1rem);backdrop-filter:blur(.1rem);z-index:2}.update-status-expanded[_ngcontent-%COMP%]{height:12rem}.list-status[_ngcontent-%COMP%]{background-color:rgb(var(--comic-light-ex))}.follow-info[_ngcontent-%COMP%]{border-radius:4px;background-color:rgb(var(--comic-light-ex))}.follow-status[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:space-between;padding:.25rem 0rem .25rem .5rem;color:rgb(var(--comic-text-color));border:none;border-left:1px solid rgba(21,38,65,.5);background-color:transparent}.follow-status-icon[_ngcontent-%COMP%]{color:#000}.update-status[_ngcontent-%COMP%]{border-color:rgb(var(--comic-light-ex))}"]})}}return t})();var Lm=(t,c)=>c.comic.id;function Nm(t,c){if(t&1&&(o(0,"span",17,1),g(2,"img",18),o(3,"span",19),r(4),a()(),o(5,"div",20),r(6),a(),o(7,"div",21)(8,"span",22),r(9),a(),r(10),a(),g(11,"user-follow-status",23),o(12,"div",24),r(13),a(),o(14,"div",25),r(15),a()),t&2){let e=c.$implicit,i=d(2);p("title",e.comic.title),s(2),p("src",e.comic.covers[0].source,ue),s(2),C(e.comic.title),s(),p("title",e.comic.title),s(),C(e.comic.title),s(3),C(e.chapter||0),s(),K(" / ",e.comic.chapters||"?"),s(),p("comic",e)("user",i.user()),s(2),C(i.when(e.lastRead)),s(2),C(i.when(e.comic.updated))}}function Rm(t,c){if(t&1&&(o(0,"div",2)(1,"div",4)(2,"div",5)(3,"button",6)(4,"mat-icon"),r(5,"search"),a()(),g(6,"input",7,0),D(),a(),o(8,"button",8)(9,"mat-icon"),r(10,"filter_list"),a(),o(11,"span"),r(12,"Filter"),a()()(),o(13,"div",9),g(14,"div",10),o(15,"div",11),r(16,"Comic"),a(),o(17,"div",12),r(18,"Progress"),a(),o(19,"div",13),r(20,"State"),a(),o(21,"div",14),r(22,"Last Read"),a(),o(23,"div",15),r(24,"Updated"),a(),S(25,Nm,16,11,null,null,Lm),a(),g(27,"div",16),a()),t&2){let e=d();s(6),A(e.searchForm),s(19),O(e.results()),s(2),p("doOnView",e.getMoreUpdates.bind(e))}}function Vm(t,c){t&1&&(o(0,"div",3),r(1,` User has their Following set to Private
`),a())}var Bo=(()=>{class t extends xt{constructor(){super(),this.search=E(""),this.searchForm=H(this.search),this.xxx=E({title:"",sort:"CHAPTER_UPDATE",desc:!0}),this.xxxForm=H(this.xxx,e=>{nt(e.title,500)}),this.filters=N(()=>this.loadFilter()),this.filtersForm=H(this.filters),this.searchRx=pe({params:()=>({user:this.session.user.value(),filters:this.filtersForm().value()}),stream:({params:e})=>this.doSearch(e.user,e.filters),defaultValue:[]}),this.results=E([]),this.lastResult=E(void 0)}getMoreUpdates(){var e=this.lastResult();if(this.searchRx.isLoading()||!e?.pageInfo.more)return;let i=this.lastResult(),n=R({},this.filters());i&&i.pageInfo.more&&(n.cursor=i.pageInfo.next,this.filters.set(n))}loadFilter(){let e=$(R({},j.emptyFilter()),{sort:"CHAPTER_UPDATE",desc:!0,cursor:void 0});return e.title=this.xxxForm.title().value(),e.sort=this.xxxForm.sort().value(),e.desc=this.xxxForm.desc().value(),e}doSearch(e,i){var n=W([]);if(this.session.user.isLoading())n=W(this.lastResult()?.results??[]);else{let l=e.settings.comicPreferences.title,m=e.settings.comicPreferences.languages,w=e.settings.comicFilterSettings.enableMatureContent,F=$(R({},i),{matureContent:w,chapterLanguages:m});F.userId=this.user().id,n=this.comicService.searchComics(F).pipe(_e(z=>this.lastResult.set(z)),Y(z=>z.results))}return n.pipe(Y(l=>i.cursor?j.appendComicMappers(this.results()??[],l):l),_e(l=>this.results.set(l)))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["user-following"]],features:[q],decls:2,vars:1,consts:[["searchInput",""],["coverContainer",""],[1,"user-data","user-follows"],[1,"private"],[1,"search-n-filter"],[1,"bar"],[1,"search-btn"],["placeholder","Search Comics",1,"search-input",3,"field"],[1,"filter-btn"],[1,"grid-data","following"],[1,"column"],[1,"comic-title","column"],[1,"comic-progress","column"],[1,"comic-state","column"],[1,"comic-last-read","column"],[1,"comic-updated","column"],["scroll-anchor","",1,"scroll-anchor",3,"doOnView"],[1,"data","comic-cover-container",3,"title"],[1,"comic-cover",3,"src"],[1,"overlay","comic-title"],[1,"data","comic-title",3,"title"],[1,"comic-progress"],[1,"current-progress"],[3,"comic","user"],[1,"data","comic-last-read"],[1,"data","comic-updated"]],template:function(i,n){i&1&&_(0,Rm,28,3,"div",2)(1,Vm,2,0,"div",3),i&2&&v(n.user().followedComics?0:1)},dependencies:[V,Q,dt,jo],styles:[".user-data[_ngcontent-%COMP%]{--user-data-comic-cover-width: 4.5rem }.private[_ngcontent-%COMP%]{padding:1rem;font-size:1.5rem;text-align:center}.search-n-filter[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:end;gap:1rem}.bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;align-items:center;border-bottom:3px solid rgba(var(--comic-dark),1)}.search-input[_ngcontent-%COMP%]{flex:1;color:var(--comic-top-nav-text-color);margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none}.search-btn[_ngcontent-%COMP%], .filter-btn[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);display:flex;align-items:center;padding:0rem;border:none;background-color:transparent}.filter-btn[_ngcontent-%COMP%]{padding:.5rem;color:var(--comic-text-color);border-radius:4px;background-color:rgb(var(--comic-dark))}.search-btn[_ngcontent-%COMP%]:hover, .filter-btn[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.75}.grid-data[_ngcontent-%COMP%]{align-items:center;display:grid;grid-template-columns:var(--user-data-comic-cover-width) auto auto auto auto auto;gap:.5rem 0rem;text-align:center}.grid-data[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .grid-data[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:.25rem}.grid-data-columns[_ngcontent-%COMP%]{grid-column:span 6;padding:.5rem;border-radius:4px;background-color:rgba(var(--comic-dark),1)}.column[_ngcontent-%COMP%]{width:100%;height:100%;padding:.5rem;margin:0rem!important;background-color:rgba(var(--comic-dark),1)!important}.comic-cover-container[_ngcontent-%COMP%]{position:relative;width:var(--user-data-comic-cover-width);margin:0rem!important;border-radius:3px;background-color:rgba(var(--comic-dark),.8);overflow:hidden}.comic-cover[_ngcontent-%COMP%]{width:100%;aspect-ratio:3/4;object-fit:fill}.comic-title[_ngcontent-%COMP%]{text-align:start;text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap;overflow:hidden}.comic-remove[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0rem;color:red;border:none;background-color:transparent}.comic-remove[_ngcontent-%COMP%]:hover{opacity:.6}.comic-remove[_ngcontent-%COMP%]:active{opacity:1}.warning[_ngcontent-%COMP%]{color:#daa520}.user-follows[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1.5rem}.search-n-filter[_ngcontent-%COMP%]{flex:1}.following[_ngcontent-%COMP%]{grid-template-columns:var(--user-data-comic-cover-width) 25% auto auto auto auto;gap:.5rem 0rem}.current-progress[_ngcontent-%COMP%]{color:#9acd32;font-weight:700}.scroll-anchor[_ngcontent-%COMP%]{position:absolute;bottom:15rem}.comic-title[_ngcontent-%COMP%]{max-width:100%;contain:inline-size}.overlay.comic-title[_ngcontent-%COMP%]{position:absolute;left:0;bottom:0;display:none;width:100%;padding:.1rem;background-color:rgba(var(--comic-dark),.75);z-index:10}@media(max-width:720px){.user-data[_ngcontent-%COMP%]{--user-data-comic-cover-width: 7rem}.following[_ngcontent-%COMP%]{grid-template-columns:var(--user-data-comic-cover-width) 0% auto auto}.following-columns[_ngcontent-%COMP%]{grid-column:span 4}.comic-updated[_ngcontent-%COMP%], .comic-last-read[_ngcontent-%COMP%]{display:none}.overlay.comic-title[_ngcontent-%COMP%]{display:unset}}"]})}}return t})();var zm=t=>["/comic/lists",t],qm=(t,c)=>c.id;function Um(t,c){if(t&1){let e=P();o(0,"div",5),g(1,"input",6),D(),g(2,"textarea",7),D(),o(3,"div",8)(4,"button",9),u("click",function(){h(e);let n=d(3);return f(n.cancel())}),r(5,"Cancel"),a(),o(6,"button",10),u("click",function(){h(e);let n=d(3);return f(n.submitList())}),r(7,"Confirm"),a()()()}if(t&2){let e=d(3);s(),A(e.listForm.name),s(),A(e.listForm.description)}}function Hm(t,c){if(t&1){let e=P();o(0,"button",4),u("click",function(){h(e);let n=d(2);return f(n.addList())}),o(1,"mat-icon"),r(2,"add"),a(),o(3,"span"),r(4,"Create New List"),a()(),_(5,Um,8,4,"div",5)}if(t&2){let e=d(2);s(5),v(e.addingList()?5:-1)}}function $m(t,c){if(t&1&&(o(0,"button",2)(1,"span",11),r(2),a(),o(3,"span",12),r(4),a(),o(5,"span",13)(6,"span"),r(7,"Comics: 23"),a(),o(8,"span"),r(9,"Manga: 13"),a(),o(10,"span"),r(11,"Manhwa: 7"),a(),o(12,"span"),r(13,"Manhua: 3"),a()()()),t&2){let e=c.$implicit;p("routerLink",le(3,zm,e.id)),s(2),C(e.name),s(2),C(e.description)}}function jm(t,c){if(t&1&&(o(0,"div",3)(1,"mat-icon"),r(2,"priority_high"),a(),o(3,"span"),r(4),a()()),t&2){let e=d(2);s(4),C(e.isMe()?"You have no lists":"User has no lists")}}function Bm(t,c){if(t&1&&(o(0,"div",0),_(1,Hm,6,1),S(2,$m,14,5,"button",2,qm,!1,jm,5,1,"div",3),a()),t&2){let e=d();s(),v(e.isMe()?1:-1),s(),O(e.lists())}}function Wm(t,c){t&1&&(o(0,"div",1),r(1,"User has thier Lists set to Private"),a())}var Wo=(()=>{class t extends xt{constructor(){super(),this.filters=N(()=>this.loadFilter()),this.filtersForm=H(this.filters),this.listsRx=pe({params:()=>({user:this.session.user.value(),filters:this.filtersForm().value()}),stream:({params:e})=>this.doSearch(e.user,e.filters),defaultValue:[]}),this.lists=E([]),this.lastResult=E(void 0),this.listModal=E({id:0,userId:this.session.user.value().id,name:"New List",description:"",list:[]}),this.listForm=H(this.listModal),this.addingList=E(!1)}addList(){this.listModal.set({id:0,userId:this.session.user.value().id,name:"New List",description:"",list:[]}),this.addingList.set(!0)}cancel(){this.addingList.set(!1)}submitList(){let e=this.listModal();this.userService.list.createList(e.userId,e.name,e.description).subscribe(i=>{if(!i){this.notifService.notify({type:"warning",header:"Error",body:"Failed to add list"});return}this.lists.update(n=>[i,...n]),this.cancel()})}loadFilter(){return $(R({},j.emptyFilter()),{sort:"CHAPTER_UPDATE",desc:!0,cursor:void 0})}doSearch(e,i){var n=W([]);return this.session.user.isLoading()?n=W(this.lastResult()??[]):n=this.userService.list.getUserLists(this.user().id),n.pipe(_e(l=>this.lists.set(l)))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["user-lists"]],features:[q],decls:2,vars:1,consts:[[1,"user-data","user-lists"],[1,"private"],["type","button",1,"list",3,"routerLink"],[1,"no-lists"],["type","button",1,"add-list",3,"click"],[1,"list-input"],["placeholder","List Name",1,"list-name-input",3,"field"],["placeholder","Description",1,"list-description-input",3,"field"],[1,"list-buttons"],["type","button",1,"cancel-list",3,"click"],["type","button",1,"confirm-list",3,"click"],[1,"list-name"],[1,"list-description"],[1,"list-stats"]],template:function(i,n){i&1&&_(0,Bm,5,2,"div",0)(1,Wm,2,0,"div",1),i&2&&v(n.user().comicLists?0:1)},dependencies:[V,Q,X,ie],styles:[".user-data[_ngcontent-%COMP%]{--user-data-comic-cover-width: 4.5rem }.private[_ngcontent-%COMP%]{padding:1rem;font-size:1.5rem;text-align:center}.search-n-filter[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:end;gap:1rem}.bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;align-items:center;border-bottom:3px solid rgba(var(--comic-dark),1)}.search-input[_ngcontent-%COMP%]{flex:1;color:var(--comic-top-nav-text-color);margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none}.search-btn[_ngcontent-%COMP%], .filter-btn[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);display:flex;align-items:center;padding:0rem;border:none;background-color:transparent}.filter-btn[_ngcontent-%COMP%]{padding:.5rem;color:var(--comic-text-color);border-radius:4px;background-color:rgb(var(--comic-dark))}.search-btn[_ngcontent-%COMP%]:hover, .filter-btn[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.75}.grid-data[_ngcontent-%COMP%]{align-items:center;display:grid;grid-template-columns:var(--user-data-comic-cover-width) auto auto auto auto auto;gap:.5rem 0rem;text-align:center}.grid-data[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .grid-data[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:.25rem}.grid-data-columns[_ngcontent-%COMP%]{grid-column:span 6;padding:.5rem;border-radius:4px;background-color:rgba(var(--comic-dark),1)}.column[_ngcontent-%COMP%]{width:100%;height:100%;padding:.5rem;margin:0rem!important;background-color:rgba(var(--comic-dark),1)!important}.comic-cover-container[_ngcontent-%COMP%]{position:relative;width:var(--user-data-comic-cover-width);margin:0rem!important;border-radius:3px;background-color:rgba(var(--comic-dark),.8);overflow:hidden}.comic-cover[_ngcontent-%COMP%]{width:100%;aspect-ratio:3/4;object-fit:fill}.comic-title[_ngcontent-%COMP%]{text-align:start;text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap;overflow:hidden}.current-progress[_ngcontent-%COMP%]{color:#9acd32;font-weight:700}.comic-remove[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0rem;color:red;border:none;background-color:transparent}.comic-remove[_ngcontent-%COMP%]:hover{opacity:.6}.comic-remove[_ngcontent-%COMP%]:active{opacity:1}.warning[_ngcontent-%COMP%]{color:#daa520}[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.user-lists[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1.5rem}.list-input[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:1rem;border-radius:4px;background-color:rgb(var(--comic-dark))}.list-name-input[_ngcontent-%COMP%], .list-description-input[_ngcontent-%COMP%]{padding:.1rem .5rem;color:rgb(var(--comic-text-color));border:none;border-radius:2px;background-color:rgb(var(--comic-light-ex))}.list-buttons[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:1rem;justify-content:end}.confirm-list[_ngcontent-%COMP%], .cancel-list[_ngcontent-%COMP%]{padding:.5rem;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:green}.cancel-list[_ngcontent-%COMP%]{color:#000;background-color:#daa520;margin-right:2rem}.confirm-list[_ngcontent-%COMP%]:hover{color:#fff;background-color:#00800099}.confirm-list[_ngcontent-%COMP%]:active{background-color:green}.cancel-list[_ngcontent-%COMP%]:hover{color:#fff;background-color:#daa52099}.cancel-list[_ngcontent-%COMP%]:active{background-color:#daa520}.list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:1rem;color:rgb(var(--comic-text-color));text-align:start;border:1px solid transparent;border-radius:4px;background-color:rgb(var(--comic-dark))}.list[_ngcontent-%COMP%]:hover{cursor:pointer;border-color:rgb(var(--comic-light-ex));background-color:rgba(var(--comic-dark),.7)}.list[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-dark))}.list-name[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700}.list-description[_ngcontent-%COMP%]{padding:0rem .5rem}.list-stats[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1.5rem;font-size:.9rem}.add-list[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;justify-content:center;gap:1rem;width:100%;padding:.5rem;color:rgb(var(--comic-text-color));border:none;border-radius:4px;background-color:rgb(var(--comic-dark))}.add-list[_ngcontent-%COMP%]:hover{color:#fff;background-color:rgba(var(--comic-dark),.6)}.add-list[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-dark))}.no-lists[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:1rem;width:100%;padding:1rem;font-size:1.4rem;text-align:center;background-color:rgb(var(--comic-dark))}"]})}}return t})();var Gm=(t,c)=>c.comic.id;function Qm(t,c){if(t&1){let e=P();o(0,"span",15,1),g(2,"img",16),a(),o(3,"div",17),r(4),a(),o(5,"div",18)(6,"span",19),r(7),a(),r(8," / 50"),a(),o(9,"div",20),r(10),a(),o(11,"div",21),r(12),a(),o(13,"button",22),u("click",function(){h(e);let n=d().$implicit,l=d();return f(l.pendRemoval(n))}),o(14,"mat-icon"),r(15,"remove_circle"),a()()}if(t&2){let e=d().$implicit,i=d();p("title",e.comic.title),s(2),p("src",e.comic.covers[0].source,ue),s(),p("title",e.comic.title),s(),C(e.comic.title),s(3),C(e.chapter||0),s(3),C(i.when(e.updated)),s(2),C(i.when(e.comic.updated))}}function Ym(t,c){if(t&1){let e=P();o(0,"div",23),r(1),a(),o(2,"button",24),u("click",function(){h(e);let n=d().$implicit,l=d();return f(l.undoRemoval(n))}),o(3,"mat-icon"),r(4,"undo"),a()()}if(t&2){let e=d().$implicit;s(),K("[",e.comic.title,"] removed from History")}}function Km(t,c){if(t&1&&_(0,Qm,16,7)(1,Ym,5,1),t&2){let e=c.$implicit;v(e.deleted?1:0)}}var Go=(()=>{class t extends xt{constructor(){super(),this.search=E(""),this.searchForm=H(this.search),this.xxx=E({title:"",sort:"CHAPTER_UPDATE",desc:!0}),this.xxxForm=H(this.xxx,e=>{nt(e.title,500)}),this.filters=N(()=>this.loadFilter()),this.filtersForm=H(this.filters),this.historyRx=pe({params:()=>({user:this.session.user.value(),filters:this.filtersForm().value()}),stream:({params:e})=>this.doSearch(e.user,e.filters),defaultValue:[]}),this.results=E([]),this.lastResult=E(void 0),this.history=N(()=>this.results().map(e=>$(R({},e),{deleted:!1}))),this.removed=E([])}pendRemoval(e){e.deleted=!0,this.removed.update(i=>i.findIndex(l=>l.sourceId==e.sourceId&&l.comic.id==e.comic.id)<0?[...i,e]:i)}undoRemoval(e){e.deleted=!1,this.removed.update(i=>{let n=i.findIndex(m=>m.sourceId==e.sourceId&&m.comic.id==e.comic.id);if(n<0)return i;let l=[...i];return l.splice(n,1),l})}getMoreUpdates(){var e=this.lastResult();if(this.historyRx.isLoading()||!e?.pageInfo.more)return;let i=this.lastResult(),n=R({},this.filters());i&&i.pageInfo.more&&(n.cursor=i.pageInfo.next,this.filters.set(n))}loadFilter(){let e=$(R({},j.emptyFilter()),{sort:"CHAPTER_UPDATE",desc:!0,cursor:void 0});return e.title=this.xxxForm.title().value(),e.sort=this.xxxForm.sort().value(),e.desc=this.xxxForm.desc().value(),e}doSearch(e,i){var n=W([]);if(this.session.user.isLoading())n=W(this.lastResult()?.results??[]);else{let l=e.settings.comicPreferences.title,m=e.settings.comicPreferences.languages,w=e.settings.comicFilterSettings.enableMatureContent,F=$(R({},i),{matureContent:w,chapterLanguages:m});F.userId=this.user().id,F.history=!0,n=this.comicService.searchComics(F).pipe(_e(z=>this.lastResult.set(z)),Y(z=>z.results))}return n.pipe(Y(l=>i.cursor?j.appendComicMappers(this.results()??[],l):l),_e(l=>this.results.set(l)))}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["user-history"]],features:[q],decls:26,vars:2,consts:[["searchInput",""],["coverContainer",""],[1,"user-data","user-history"],[1,"search-n-filter"],[1,"bar"],[1,"search-btn"],["placeholder","Search Comics",1,"search-input",3,"field"],[1,"filter-btn"],[1,"grid-data","history"],[1,"column"],[1,"comic-title","column"],[1,"comic-progress","column"],[1,"comic-last-read","column"],[1,"comic-updated","column"],[1,"comic-remove","column"],[1,"comic-cover-container",3,"title"],[1,"comic-cover",3,"src"],[1,"comic-title",3,"title"],[1,"comic-progress"],[1,"current-progress"],[1,"comic-last-read"],[1,"comic-updated"],["type","button",1,"comic-remove",3,"click"],[1,"comic-deleted","warning"],["type","button",1,"comic-remove","warning",3,"click"]],template:function(i,n){i&1&&(o(0,"div",2)(1,"div",3)(2,"div",4)(3,"button",5)(4,"mat-icon"),r(5,"search"),a()(),g(6,"input",6,0),D(),a(),o(8,"button",7)(9,"mat-icon"),r(10,"filter_list"),a(),o(11,"span"),r(12,"Filter"),a()()(),o(13,"div",8),g(14,"div",9),o(15,"div",10),r(16,"Comic"),a(),o(17,"div",11),r(18,"Chapter"),a(),o(19,"div",12),r(20,"Last Read"),a(),o(21,"div",13),r(22,"Updated"),a(),g(23,"div",14),S(24,Km,2,1,null,null,Gm),a()()),i&2&&(s(6),A(n.searchForm),s(18),O(n.history()))},dependencies:[V,Q],styles:[".user-data[_ngcontent-%COMP%]{--user-data-comic-cover-width: 4.5rem }.private[_ngcontent-%COMP%]{padding:1rem;font-size:1.5rem;text-align:center}.search-n-filter[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:end;gap:1rem}.bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;align-items:center;border-bottom:3px solid rgba(var(--comic-dark),1)}.search-input[_ngcontent-%COMP%]{flex:1;color:var(--comic-top-nav-text-color);margin:0rem;border:none;box-sizing:border-box;background-color:transparent}.search-input[_ngcontent-%COMP%]:focus-visible{outline:none}.search-btn[_ngcontent-%COMP%], .filter-btn[_ngcontent-%COMP%]{color:var(--comic-top-nav-text-color);display:flex;align-items:center;padding:0rem;border:none;background-color:transparent}.filter-btn[_ngcontent-%COMP%]{padding:.5rem;color:var(--comic-text-color);border-radius:4px;background-color:rgb(var(--comic-dark))}.search-btn[_ngcontent-%COMP%]:hover, .filter-btn[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.75}.grid-data[_ngcontent-%COMP%]{align-items:center;display:grid;grid-template-columns:var(--user-data-comic-cover-width) auto auto auto auto auto;gap:.5rem 0rem;text-align:center}.grid-data[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .grid-data[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{margin:.25rem}.grid-data-columns[_ngcontent-%COMP%]{grid-column:span 6;padding:.5rem;border-radius:4px;background-color:rgba(var(--comic-dark),1)}.column[_ngcontent-%COMP%]{width:100%;height:100%;padding:.5rem;margin:0rem!important;background-color:rgba(var(--comic-dark),1)!important}.comic-cover-container[_ngcontent-%COMP%]{position:relative;width:var(--user-data-comic-cover-width);margin:0rem!important;border-radius:3px;background-color:rgba(var(--comic-dark),.8);overflow:hidden}.comic-cover[_ngcontent-%COMP%]{width:100%;aspect-ratio:3/4;object-fit:fill}.comic-title[_ngcontent-%COMP%]{text-align:start;text-overflow:ellipsis;text-wrap:nowrap;white-space:nowrap;overflow:hidden}.current-progress[_ngcontent-%COMP%]{color:#9acd32;font-weight:700}.comic-remove[_ngcontent-%COMP%]{cursor:pointer;display:flex;align-items:center;justify-content:center;padding:0rem;color:red;border:none;background-color:transparent}.comic-remove[_ngcontent-%COMP%]:hover{opacity:.6}.comic-remove[_ngcontent-%COMP%]:active{opacity:1}.warning[_ngcontent-%COMP%]{color:#daa520}[_nghost-%COMP%]{flex:1;display:flex;flex-direction:column}.user-history[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1.5rem}.history[_ngcontent-%COMP%]{grid-template-columns:var(--user-data-comic-cover-width) auto auto auto auto auto}.comic-deleted[_ngcontent-%COMP%]{grid-column:span 5}@media(max-width:720px){.history[_ngcontent-%COMP%]{grid-template-columns:var(--user-data-comic-cover-width) auto auto auto}.comic-last-read[_ngcontent-%COMP%], .comic-updated[_ngcontent-%COMP%]{display:none}.comic-deleted[_ngcontent-%COMP%]{grid-column:span 3}}"]})}}return t})();function Xm(t,c){if(t&1&&(o(0,"button",7),r(1),a()),t&2){let e=c.$implicit,i=d();k("active",i.isActive(e)),p("fragment",e),s(),K(" ",e," ")}}function Zm(t,c){t&1&&(o(0,"div",5)(1,"div",8)(2,"h4",9),r(3,"Comic Stats (WIP)"),a(),o(4,"div",10)(5,"div"),r(6,"Manga: "),o(7,"b"),r(8,"111"),a()(),o(9,"div"),r(10,"Manhwa: "),o(11,"b"),r(12,"222"),a()(),o(13,"div"),r(14,"Manhua: "),o(15,"b"),r(16,"333"),a()(),o(17,"div"),r(18,"Other: "),o(19,"b"),r(20,"444"),a()()()(),o(21,"div",8)(22,"h4",9),r(23,"Reading Stats (WIP)"),a(),o(24,"div",11)(25,"div"),r(26,"Total Chapters: "),o(27,"b"),r(28,"111"),a()(),o(29,"div"),r(30,"Total Followed Chapters: "),o(31,"b"),r(32,"222"),a()(),o(33,"div"),r(34,"Last Read: "),o(35,"b"),r(36,"333"),a()()()(),o(37,"div",12)(38,"h4",9),r(39,"Misc (WIP)"),a(),o(40,"div",13)(41,"div"),r(42,"Last Login: "),o(43,"b"),r(44,"111"),a()(),o(45,"div"),r(46,"Last Activity: "),o(47,"b"),r(48,"222"),a()()()()())}function Jm(t,c){if(t&1&&g(0,"user-following",6),t&2){let e=d();p("user",e.user())}}function ep(t,c){if(t&1&&g(0,"user-lists",6),t&2){let e=d();p("user",e.user())}}function tp(t,c){if(t&1&&g(0,"user-history",6),t&2){let e=d();p("user",e.user())}}var Qo=(()=>{class t{static{this.USER_SECTIONS=["summary","following","lists","history"]}constructor(){this.session=y(B),this.route=y($e),this.fragment=je(this.route.fragment),this.user=I.required(),this.section=N(()=>this.getSection()),this.isMe=T(()=>this.user().id==this.session.user.value().id),this.sections=T(()=>this.isMe()?["summary","following","lists","history"]:["summary","following","lists"])}ngOnInit(){}getSection(){let e=this.fragment();return!e||!t.USER_SECTIONS.includes(e)?"summary":e}isActive(e){return this.section()==e}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=M({type:t,selectors:[["user-page"]],inputs:{user:[1,"user"]},decls:13,vars:3,consts:[[1,"comic-user"],[1,"user"],[1,"username"],[1,"section-selection"],["type","button","routerLink",".",1,"section-option",3,"active","fragment"],[1,"user-sections"],[3,"user"],["type","button","routerLink",".",1,"section-option",3,"fragment"],[1,"user-info-section"],[1,"user-info-section-header"],[1,"user-infos","comic-type-stats"],[1,"user-infos"],[1,"user-info-section","misc-info-section"],[1,"user-infos","misc-info"]],template:function(i,n){i&1&&(o(0,"div",0)(1,"h3",1)(2,"span"),r(3),a(),o(4,"span",2),r(5),a()(),o(6,"div",3),S(7,Xm,2,4,"button",4,U),a(),_(9,Zm,49,0,"div",5)(10,Jm,1,1,"user-following",6)(11,ep,1,1,"user-lists",6)(12,tp,1,1,"user-history",6),a()),i&2&&(s(3),C(n.user().displayName),s(2),C("@"+n.user().username),s(2),O(n.sections()),s(2),v(n.section()=="summary"?9:n.section()=="following"?10:n.section()=="lists"?11:n.section()=="history"&&n.isMe()?12:-1))},dependencies:[X,ie,Bo,Wo,Go],styles:[".comic-user[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;min-height:var(--comic-content-height)}.user[_ngcontent-%COMP%]{font-size:2rem;padding:1rem}.username[_ngcontent-%COMP%]{opacity:.5}.section-selection[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;border-top:4px solid rgb(var(--comic-dark));border-bottom:none;border-top-left-radius:4px;border-top-right-radius:4px;background-color:rgb(var(--comic-dark))}.section-option[_ngcontent-%COMP%]{flex:1;padding:.25rem .5rem;color:rgb(var(--comic-text-color));font-size:1.2rem;text-transform:capitalize;border:none;border-left:2px solid transparent;border-right:2px solid transparent;background-color:transparent}.section-option.active[_ngcontent-%COMP%], .section-option[_ngcontent-%COMP%]:hover{color:#fff;border-left:2px solid rgb(var(--comic-dark));border-right:2px solid rgb(var(--comic-dark));background-color:rgb(var(--comic-medium))}.section-option[_ngcontent-%COMP%]:active{background-color:rgb(var(--comic-medium),.5)}.section-option-name[_ngcontent-%COMP%]{margin:auto}.user-sections[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1rem;padding:1rem;border:2px solid rgb(var(--comic-dark));border-top:none;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.user-info-section-header[_ngcontent-%COMP%]{font-weight:700}.user-infos[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:.25rem}.comic-type-stats[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;align-items:start;display:grid;grid-template-columns:repeat(auto-fit,minmax(10rem,5rem));gap:.5rem}.misc-info-section[_ngcontent-%COMP%]{margin-top:auto}"]})}}return t})();var Yo=(t,c)=>{let e=y(Pe),i=y(B),n=()=>(e.navigate(["/comic/login"],{queryParams:{returnTo:c.url}}),!1);return new Promise((l,m)=>{let w=ne(()=>{i.user.isLoading()||(i.isAnonymous()?l(n()):l(!0),w.destroy())})})};var ey=[{path:"oauth2/authorize",canActivate:[Yo],component:ko},{matcher:j.authMatcher,component:Oo},{path:"docs",component:ji},{path:"",component:wo,resolve:{comicData:vi},loadChildren:()=>np}],np=[{path:"home",component:Xi,resolve:{popular:yi}},{path:"search",component:Io},{path:"settings",component:$o,resolve:{userApps:wi}},{path:"comics/:id",component:Ni,resolve:{comic:bi}},{path:"users/:username",component:Qo,resolve:{user:Mi}},{path:"lists/:id",component:So,resolve:{list:xi}},{path:"**",redirectTo:"home",pathMatch:"full"}];export{ey as comicRoutes,np as contentRoutes};
