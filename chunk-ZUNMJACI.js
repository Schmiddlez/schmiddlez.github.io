import{a as yi,b as Ci}from"./chunk-EVH4XK5I.js";import{a as ve,b as _e,c as Ve}from"./chunk-LDB6UGBE.js";import{a as ze,b as Be}from"./chunk-YQT2ZH4O.js";import"./chunk-3PMNG65X.js";import{a as be,d as bt,e as Ii,f as Ei,g as ye,i as yt,j as Ce}from"./chunk-4P6JCT6G.js";import{a as ni}from"./chunk-HD6S7X5O.js";import{B as qe,C as ee,a as zt,b as gt,c as wi,d as xi,e as vt,f as J,g as Si,i as _t,j as S,l as Mi,n as Z,o as ki}from"./chunk-ESTKDGOR.js";import{a as De}from"./chunk-V2WTJHAE.js";import"./chunk-HU7WFQWJ.js";import{a as gi,b as vi,c as _i}from"./chunk-NTGWZLDD.js";import{a as Di}from"./chunk-WA7WPOY3.js";import{a as Ct}from"./chunk-RFHZPYFY.js";import{a as Oi}from"./chunk-PTKCBW6A.js";import{a as ge,b as ft,c as L,d as Fi}from"./chunk-K6ANBNKU.js";import{a as Ae,b as Le}from"./chunk-QCGIDFDQ.js";import{a as X,b as ut,d as j}from"./chunk-RA5YA7SP.js";import{B as Ke,C as di,E as Re,F as li,G as Vt,H as We,I as mi,J as pi,K as hi,O as Pe,S as ui,T as fi,j as Te,k as si,l as qt,v as ci,z as ht}from"./chunk-AE4C5XQ6.js";import{a as bi}from"./chunk-C5RMYWSX.js";import{a as oi}from"./chunk-P4ZELJWN.js";import{b as P,c as ai,d as A,e as ue,f as ri,i as fe}from"./chunk-CG5ODPV4.js";import"./chunk-OQ23N4OO.js";import{d as Lt}from"./chunk-MB2EZ7OD.js";import{$ as B,$a as de,$b as xe,Aa as rt,Ac as Qe,Ba as nt,Bc as Fe,Ca as K,Cc as ii,Db as me,E as ne,Eb as pe,Fa as O,Ga as ei,Hb as z,Ib as l,Kb as he,La as ot,Mb as ct,N as oe,Ob as _,P as Wt,Pa as At,Pb as F,Qb as je,Rb as b,Sb as y,Tb as r,U as tt,Ub as n,V as Yt,Vb as h,W as se,Xb as $,Yb as Ie,Zb as g,_ as Tt,_b as f,a as T,aa as it,ac as H,b as Q,bb as ke,c as Ze,ca as ce,cb as s,cc as Y,db as w,dc as Ne,ec as q,fa as p,fc as V,i as He,ic as Ee,jc as c,kc as x,l as Kt,la as at,lb as ti,lc as dt,ma as I,mc as lt,na as E,nc as mt,oa as Rt,oc as pt,pb as C,pc as Se,qa as Pt,qb as st,qc as ie,rb as W,rc as Oe,sa as Xt,ta as Jt,tb as te,vb as le,wb as v,xa as U,xc as Ge,y as Me,ya as Zt,z as et,zc as R}from"./chunk-UUT3EF6T.js";var D=(()=>{class i{static{this.SCROLL_LOAD_DELAY=750}static{this.MUDAE_TOKEN_COOKIE_NAME="mudae-tokens"}static{this.ANONYMOUS_USER_STORAGE_KEY="mudae-anonymous-user"}static{this.BG_COLOR="#313338"}static{this.INDEX_COLOR="#2b2b2b"}static{this.TEXT_COLOR="#c8c8c8"}}return i})();var ae=class i extends ni{static{this.url=`${oi.mudae()}/api/oauth`}constructor(){super(`${i.url}/url`,`${i.url}/tokens`,`${i.url}/refresh`,`${i.url}/logout`,D.MUDAE_TOKEN_COOKIE_NAME)}isValid$(){return this.http.get(`${i.url}/valid`)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})}};var N=(()=>{class i extends ge{constructor(){super(),this.cookieService=p(De);let e=localStorage.getItem(D.ANONYMOUS_USER_STORAGE_KEY),a=e?JSON.parse(e):gi();this.me=O(a),this.me$=this.me.asReadonly(),this.cookieService.check(D.MUDAE_TOKEN_COOKIE_NAME)&&this.cookieService.get(D.MUDAE_TOKEN_COOKIE_NAME)!="anonymous"&&this.refreshMe()}refreshMe(){this.getMe$().pipe(Wt(3)).subscribe({next:e=>{e.id!="anonymous"?this.me.set(e):this.me.set(this.me())},error:e=>{this.toastService.show({header:"Error",body:"An unexpected error has occured.",type:"danger",source_feature:"mudae"}),console.log(e)}})}getMe$(){return this.http.get(`${this.url}/api/users/@me`)}setMe(e){this.me.set(e)}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ti=(()=>{class i{constructor(e,a){this.router=e,this.route=a,this.mudaeLogin=p(ae),this.userService=p(N),this.subs=[],this.returnTo=this.route.snapshot.queryParams.returnTo;let t=this.mudaeLogin.tokensRecieved$.subscribe(o=>{o!=null&&(this.mudaeLogin.setTokenCookie(JSON.stringify(o),new Date(Date.now()+o.expires_in*1e3)),this.redirect())});this.subs.push(t)}ngOnInit(){}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}login(){this.mudaeLogin.login()}guest(){let e=localStorage.getItem(D.ANONYMOUS_USER_STORAGE_KEY);if(console.log("Anon:",e),e){let a=JSON.parse(e);this.userService.setMe(a)}else{let a=vi();localStorage.setItem(D.ANONYMOUS_USER_STORAGE_KEY,JSON.stringify(a)),this.userService.setMe(a)}this.mudaeLogin.setTokenCookie("anonymous"),this.redirect()}redirect(){this.returnTo?this.router.navigateByUrl(this.returnTo):this.router.navigate(["home"],{relativeTo:this.route.parent})}static{this.\u0275fac=function(a){return new(a||i)(w(A),w(P))}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-login"]],decls:7,vars:0,consts:[[1,"login-page"],[1,"btn-container"],["mat-raised-button","",1,"login-btn",3,"click"]],template:function(a,t){a&1&&(r(0,"div",0)(1,"div",1)(2,"button",2),g("click",function(){return t.login()}),c(3,"Login via Discord"),n()(),r(4,"div",1)(5,"button",2),g("click",function(){return t.guest()}),c(6,"Continue as Guest"),n()()())},dependencies:[j,X],styles:[".btn-container[_ngcontent-%COMP%]{text-align:center;margin:auto;padding:5rem 0rem}.login-btn[_ngcontent-%COMP%]{border-radius:.5rem}"]})}}return i})();function wa(i,d){i&1&&(r(0,"div"),c(1,"Awaiting Token Response..."),n())}function xa(i,d){i&1&&(r(0,"div"),c(1,"Tokens Recieved"),n())}function Sa(i,d){i&1&&(r(0,"div"),c(1,"Failed to retrieve tokens"),n())}var Ri=(()=>{class i{constructor(e){this.route=e,this.mudaeLogin=p(ae),this.tokenExchangeResult=0}ngOnInit(){let e=this.route.snapshot.queryParams,a=e.code,t=e.state;a&&t&&this.mudaeLogin.getTokens$(a,t).subscribe({next:o=>{window.opener.postMessage(o),this.tokenExchangeResult=1,window.close()},error:o=>{this.tokenExchangeResult=-1}})}static{this.\u0275fac=function(a){return new(a||i)(w(P))}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-on-login"]],decls:4,vars:1,consts:[[1,"on-login"]],template:function(a,t){if(a&1&&(r(0,"div",0),v(1,wa,2,0,"div")(2,xa,2,0,"div")(3,Sa,2,0,"div"),n()),a&2){let o;s(),_((o=t.tokenExchangeResult)===0?1:o===1?2:o===-1?3:-1)}},styles:[".on-login[_ngcontent-%COMP%]{margin:5rem;padding:1rem;color:var(--mudae-text-color)}"]})}}return i})();var Ma=["switch"],ka=["*"];function Ia(i,d){i&1&&(r(0,"span",10),Rt(),r(1,"svg",12),h(2,"path",13),n(),r(3,"svg",14),h(4,"path",15),n()())}var Ea=new ce("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),Oa={provide:zt,useExisting:Tt(()=>St),multi:!0},xt=class{source;checked;constructor(d,e){this.source=d,this.checked=e}},St=(()=>{class i{_elementRef=p(K);_focusMonitor=p(ht);_changeDetectorRef=p(Ge);defaults=p(Ea);_onChange=e=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(e){return new xt(this,e)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations;_focused;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new U;toggleChange=new U;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){p(Te).load(We);let e=p(new Jt("tabindex"),{optional:!0}),a=this.defaults,t=p(ot,{optional:!0});this.tabIndex=e==null?0:parseInt(e)||0,this.color=a.color||"accent",this._noopAnimations=t==="NoopAnimations",this.id=this._uniqueId=p(Ke).getId("mat-mdc-slide-toggle-"),this.hideIcon=a.hideIcon??!1,this.disabledInteractive=a.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new xt(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=C({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(a,t){if(a&1&&Ne(Ma,5),a&2){let o;q(o=V())&&(t._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(a,t){a&2&&(Ie("id",t.id),z("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),ct(t.color?"mat-"+t.color:""),he("mat-mdc-slide-toggle-focused",t._focused)("mat-mdc-slide-toggle-checked",t.checked)("_mat-animation-noopable",t._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",R],color:"color",disabled:[2,"disabled","disabled",R],disableRipple:[2,"disableRipple","disableRipple",R],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Qe(e)],checked:[2,"checked","checked",R],hideIcon:[2,"hideIcon","hideIcon",R],disabledInteractive:[2,"disabledInteractive","disabledInteractive",R]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[Se([Oa,{provide:wi,useExisting:i,multi:!0}]),le,at],ngContentSelectors:ka,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(a,t){if(a&1){let o=$();xe(),r(0,"div",1)(1,"button",2,0),g("click",function(){return I(o),E(t._handleClick())}),h(3,"span",3),r(4,"span",4)(5,"span",5)(6,"span",6),h(7,"span",7),n(),r(8,"span",8),h(9,"span",9),n(),v(10,Ia,5,0,"span",10),n()()(),r(11,"label",11),g("click",function(u){return I(o),E(u.stopPropagation())}),H(12),n()()}if(a&2){let o=Ee(2);l("labelPosition",t.labelPosition),s(),he("mdc-switch--selected",t.checked)("mdc-switch--unselected",!t.checked)("mdc-switch--checked",t.checked)("mdc-switch--disabled",t.disabled)("mat-mdc-slide-toggle-disabled-interactive",t.disabledInteractive),l("tabIndex",t.disabled&&!t.disabledInteractive?-1:t.tabIndex)("disabled",t.disabled&&!t.disabledInteractive),z("id",t.buttonId)("name",t.name)("aria-label",t.ariaLabel)("aria-labelledby",t._getAriaLabelledBy())("aria-describedby",t.ariaDescribedby)("aria-required",t.required||null)("aria-checked",t.checked)("aria-disabled",t.disabled&&t.disabledInteractive?"true":null),s(8),l("matRippleTrigger",o)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0),s(),_(t.hideIcon?-1:10),s(),l("for",t.buttonId),z("id",t._labelId)}},dependencies:[pi,fi],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height, 32px);border-radius:var(--mdc-switch-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width, 2px);border-color:var(--mat-switch-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width, 2px);border-color:var(--mat-switch-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size, 16px);height:var(--mat-switch-unselected-handle-size, 16px);margin:var(--mat-switch-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size, 24px);height:var(--mat-switch-selected-handle-size, 24px);margin:var(--mat-switch-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size, 24px);height:var(--mat-switch-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size, 28px);height:var(--mat-switch-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size, 40px);height:var(--mdc-switch-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 16px);height:var(--mdc-switch-unselected-icon-size, 16px);fill:var(--mdc-switch-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 16px);height:var(--mdc-switch-selected-icon-size, 16px);fill:var(--mdc-switch-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return i})();var Pi=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=st({type:i});static \u0275inj=it({imports:[St,Re,Re]})}return i})();var Ai=(()=>{class i{constructor(){this.resourcesService=p(L),this.toastService=p(bi),this.form={},this.onClose=rt(),this.settings=this.resourcesService.settings$,this.currentSettings=this.settings(),this.form.hideAdultSeries=new S(this.settings().hideAdultSeries),this.form.hideAdultCharacters=new S(this.settings().hideAdultCharacters),this.form.displayCharacterRank=new S(this.settings().displayCharacterRank),this.form.displayCharacterSeries=new S(this.settings().displayCharacterSeries),this.form.preserveFiltersInHistory=new S(this.settings().preserveFiltersInHistory)}ngOnInit(){}saveSettings(){let e={};for(let a of Object.keys(this.form)){let t=this.form[a].value;e[a]=t||!1}this.resourcesService.saveSettings(e),this.onClose.emit(!0),this.toastService.show({type:"success",source_feature:"mudae",header:"Settings Saved",delay:1500})}close(){this.onClose.emit(!1)}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-settings"]],outputs:{onClose:"onClose"},decls:44,vars:5,consts:[[1,"mudae-settings"],[1,"mudae-settings-header","settings-header"],[1,"series-settings"],[1,"settings-header"],[1,"settings-list"],[1,"setting"],[1,"toggle-btn",3,"formControl"],[1,"character-settings"],[1,"general-settings"],[1,"buttons"],["mat-stroked-button","","matSuffix","",1,"save-settings-btn",3,"click"]],template:function(a,t){a&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),c(3,"Settings"),n()(),r(4,"div",2)(5,"div",3)(6,"h4"),c(7,"Series Settings"),n()(),r(8,"div",4)(9,"div",5)(10,"span"),c(11,"Hide 18+ Series"),n(),h(12,"mat-slide-toggle",6),n()()(),r(13,"div",7)(14,"div",3)(15,"h4"),c(16,"Character Settings"),n()(),r(17,"div",4)(18,"div",5)(19,"span"),c(20,"Hide 18+ Characters"),n(),h(21,"mat-slide-toggle",6),n(),r(22,"div",5)(23,"span"),c(24,"Display Character's Rank"),n(),h(25,"mat-slide-toggle",6),n(),r(26,"div",5)(27,"span"),c(28,"Display Character's Series"),n(),h(29,"mat-slide-toggle",6),n()()(),r(30,"div",8)(31,"div",3)(32,"h4"),c(33,"General Settings"),n()(),r(34,"div",4)(35,"div",5)(36,"span"),c(37,"Preserve Filter Settings in History"),n(),h(38,"mat-slide-toggle",6),n()()(),r(39,"div",9)(40,"button",10),g("click",function(){return t.close()}),c(41,"Cancel"),n(),r(42,"button",10),g("click",function(){return t.saveSettings()}),c(43,"Save Settings"),n()()()),a&2&&(s(12),l("formControl",t.form.hideAdultSeries),s(9),l("formControl",t.form.hideAdultCharacters),s(4),l("formControl",t.form.displayCharacterRank),s(4),l("formControl",t.form.displayCharacterSeries),s(9),l("formControl",t.form.preserveFiltersInHistory))},dependencies:[ee,J,Z,Pi,St,j,X],styles:[".mudae-settings[_ngcontent-%COMP%]{position:relative}.mudae-settings-header[_ngcontent-%COMP%]{background-color:var(--mudae-dark)}.settings-header[_ngcontent-%COMP%]{text-align:center;padding:1rem}.settings-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.25rem 1rem;align-items:center}.setting[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:1rem;align-items:center;justify-content:center;min-width:20rem}.toggle-btn[_ngcontent-%COMP%]{margin-left:auto}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:2.5rem;padding:2.5rem 1rem}.save-settings-btn[_ngcontent-%COMP%]{font-size:1rem;border-radius:4px;background-color:var(--mudae-text-color)}"]})}}return i})();var Da=()=>[import("./chunk-NMJE5SEY.js").then(i=>i.MudaeUserInfoComponent)],Li=()=>["home"],qi=()=>["updates"],Vi=()=>["logout"],Bi=()=>["servers"];function Ta(i,d){i&1&&(r(0,"div",1)(1,"h2"),c(2,"Initializing Data"),n(),h(3,"mat-progress-spinner",21),n())}function Ra(i,d){if(i&1&&h(0,"mudae-user-info",22),i&2){let e=f();l("user",e.me())}}function Pa(i,d){if(i&1&&(r(0,"a",8),h(1,"mat-icon",23),c(2," My Servers "),n()),i&2){let e=f();l("routerLink",e.isActive("/servers")?null:ie(1,Bi))}}function Aa(i,d){if(i&1&&(h(0,"mat-divider",16),r(1,"a",8),h(2,"mat-icon",23),n()),i&2){let e=f();l("vertical",!0),s(),l("routerLink",e.isActive("/servers")?null:ie(2,Bi))}}function La(i,d){i&1&&(r(0,"section",19),h(1,"router-outlet"),n())}function qa(i,d){if(i&1){let e=$();r(0,"mudae-settings",24),g("onClose",function(t){I(e);let o=f();return E(o.closeSettings(t))}),n()}}var Ui=(()=>{class i{constructor(e){this.router=e,this.userService=p(N),this.resourceService=p(L),this.characterService=p(ft),this.settingsShown=O(!1),this.me=this.userService.me$,this.userService.refreshMe(),this.updatesLoading=this.resourceService.updateLoading$,this.initializing=Fe(()=>this.resourceService.loading$()||this.userService.me$().id=="empty"),this.characterService.characterChanges$.subscribe(a=>{if(!this.me)return;let t=this.me();switch(a.action){case"FAVORITE":t.favorites.push(a.characterId);break;case"UNFAVORITE":this.removeCharacterFromList(a.characterId,t.favorites);break;case"UNCLAIMED":this.removeCharacterFromList(a.characterId,t.owned),this.removeCharacterFromList(a.characterId,t.lost);break;case"OWNED":this.removeCharacterFromList(a.characterId,t.lost),t.owned.push(a.characterId);break;case"LOST":this.removeCharacterFromList(a.characterId,t.owned),t.lost.push(a.characterId);break}})}ngOnInit(){}get avatar(){return _i(this.me())}isActive(e){let a="/mudae",t={fragment:"ignored",matrixParams:"ignored",paths:"subset",queryParams:"ignored"};return this.router.isActive(a+e,t)}showSettings(){this.settingsShown.set(!0)}closeSettings(e){this.settingsShown.set(!1)}removeCharacterFromList(e,a){var t=a.findIndex(o=>o==e);t>-1&&a.splice(t,1)}static{this.\u0275fac=function(a){return new(a||i)(w(A))}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-index"]],decls:39,vars:23,consts:[["id","mudae-index",1,"index"],[1,"initalizing"],[1,"index-sections",3,"hidden"],[1,"user_and_nav"],[1,"side-bar"],["id","user"],["id","navigation"],[1,"nav-list"],["routerLinkActive","router-link-active",1,"nav-link",3,"routerLink"],["fontIcon","home"],["fontIcon","update"],[1,"nav-link",3,"click"],["fontIcon","settings"],["routerLinkActive","router-link-active",1,"nav-link","logout",3,"routerLink"],["fontIcon","logout"],[1,"upper-nav"],[3,"vertical"],[1,"avatar-container",3,"title"],[1,"user-avatar",3,"alt","src"],["id","content"],[1,"mudae-settings"],["mode","indeterminate"],[3,"user"],["fontIcon","group"],[1,"mudae-settings",3,"onClose"]],template:function(a,t){a&1&&(r(0,"div",0),v(1,Ta,4,0,"div",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"section",5),v(6,Ra,1,1),me(7,6,Da),n(),r(9,"section",6)(10,"div",7)(11,"a",8),h(12,"mat-icon",9),c(13," Home "),n(),r(14,"a",8),h(15,"mat-icon",10),c(16," Updates "),n(),v(17,Pa,3,2,"a",8),r(18,"a",11),g("click",function(){return t.showSettings()}),h(19,"mat-icon",12),c(20," Settings "),n(),r(21,"a",13),h(22,"mat-icon",14),c(23," Logout "),n()()()()(),r(24,"div",15)(25,"a",8),h(26,"mat-icon",9),n(),h(27,"mat-divider",16),r(28,"a",8),h(29,"mat-icon",10),n(),v(30,Aa,3,3),r(31,"a",11),g("click",function(){return t.showSettings()}),h(32,"mat-icon",12),n(),r(33,"a",13),h(34,"mat-icon",14),n(),r(35,"div",17),h(36,"img",18),n()(),v(37,La,2,0,"section",19)(38,qa,1,0,"mudae-settings",20),n()()),a&2&&(s(),_(t.initializing()?1:-1),s(),l("hidden",t.initializing()),s(5),pe(t.me),s(4),l("routerLink",t.isActive("/home")?null:ie(17,Li)),s(3),l("routerLink",t.isActive("/updates")?null:ie(18,qi)),s(3),_(t.me().id!="anonymous"?17:-1),s(4),l("routerLink",t.isActive("/logout")?null:ie(19,Vi)),s(4),l("routerLink",t.isActive("/home")?null:ie(20,Li)),s(2),l("vertical",!0),s(),l("routerLink",t.isActive("/updates")?null:ie(21,qi)),s(2),_(t.me().id!="anonymous"?30:-1),s(3),l("routerLink",t.isActive("/logout")?null:ie(22,Vi)),s(2),l("title",t.me().username),s(),l("alt",t.me().name)("src",t.avatar,de),s(),_(t.updatesLoading()?-1:37),s(),_(t.settingsShown()?38:-1))},dependencies:[fe,ai,ue,ri,Le,Ae,j,_e,ve,Ci,yi,Ai],styles:[".index[_ngcontent-%COMP%]{min-height:100%;width:100%;max-width:1440px;margin:0 auto;color:var(--mudae-text-color)}.initalizing[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:5rem .5rem;align-items:center}.index-sections[_ngcontent-%COMP%]{height:100%;width:100%}.mudae-settings[_ngcontent-%COMP%]{position:fixed;top:1.5rem;left:1.5rem;width:calc(100% - 3rem);height:calc(100% - 3rem);border-radius:5px;background-color:#1e1e1ecc;-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur);overflow:hidden;z-index:200}.user_and_nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:fixed;top:0rem;width:var(--mudae-nav-width);height:calc(100% - 2rem);padding:1rem;box-sizing:border-box}.side-bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:sticky;top:0}#navigation[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.nav-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1.25rem;padding-top:1rem}.nav-link[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.25rem;align-items:end;text-decoration:none;color:var(--mudae-link-color)}.nav-link[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--mudae-link-hover-color)}.logout[_ngcontent-%COMP%]{margin-top:auto}#content[_ngcontent-%COMP%]{min-height:100vh;margin-left:var(--mudae-nav-width);padding:1rem 0rem;background-color:var(--mudae-content-bg-color)}.upper-nav[_ngcontent-%COMP%]{display:none;width:100%;background-color:var(--mudae-index-bg-color)}.avatar-container[_ngcontent-%COMP%]{height:100%}.user-avatar[_ngcontent-%COMP%]{height:100%;border-radius:100%}@media (max-width: 720px){.user_and_nav[_ngcontent-%COMP%]{visibility:hidden;transform:translate(-100%)}#content[_ngcontent-%COMP%]{margin-left:0rem}.push-right[_ngcontent-%COMP%]{margin-left:var(--mudae-nav-width)!important}.upper-nav[_ngcontent-%COMP%]{position:sticky;top:0rem;display:flex;gap:1.5rem;height:3.5rem;padding:.5rem .5rem .5rem 1.5rem;z-index:50}.logout[_ngcontent-%COMP%]{margin-left:auto}.nav-link[_ngcontent-%COMP%]{margin-bottom:.5rem}}"]})}}return i})();var $i=(i,d)=>{let e=p(A),a=p(De),t=D.MUDAE_TOKEN_COOKIE_NAME,o=()=>(e.navigate(["/mudae/login"],{queryParams:{returnTo:d.url}}),Kt);return a.check(t)?!0:o()};var za=()=>[import("./chunk-NQ2TTUOM.js").then(i=>i.MyHeaderComponent),yt,ye,be,Mi,gt,J,Si,_t,Z,ue],Ba=i=>["../updates",i];function Ua(i,d){if(i&1&&(r(0,"div",9)(1,"div",18),c(2),n(),r(3,"div",19),c(4),n()()),i&2){let e=d.$implicit;l("routerLink",Oe(3,Ba,e.update)),s(2),x(e.year),s(2),x(e.monthday)}}function $a(i,d){if(i&1){let e=$();r(0,"div",1)(1,"div",2)(2,"span"),c(3,"Welcome"),n()(),r(4,"div",3)(5,"span"),c(6,"Latest Update"),n(),c(7," To view to latest set of characters added"),n(),r(8,"div",3)(9,"span"),c(10,"Series Search"),n(),c(11," To find a series in the bot"),n(),r(12,"div",3)(13,"span"),c(14,"Character Search"),n(),c(15," To find a character in the bot"),n()(),r(16,"section",4)(17,"div",5),h(18,"div",6)(19,"my-header",7)(20,"div",6),n(),r(21,"div",8),b(22,Ua,5,5,"div",9,F),n()(),r(24,"section",10)(25,"div",5),h(26,"div",6)(27,"my-header",11)(28,"div",6),n(),r(29,"form",12)(30,"mat-form-field",13)(31,"mat-label"),c(32,"Search Series"),n(),r(33,"input",14),g("keydown.enter",function(){I(e);let t=f();return E(t.searchSeries())}),n()()()(),r(34,"section",15)(35,"div",5),h(36,"div",6)(37,"my-header",16)(38,"div",6),n(),r(39,"form",12)(40,"mat-form-field",13)(41,"mat-label"),c(42,"Search Character"),n(),r(43,"input",17),g("keydown.enter",function(){I(e);let t=f();return E(t.searchCharacter())}),n()()()()}if(i&2){let e=f();s(19),l("color",e.colors.discordContenttext)("lc","rgba(135, 206, 250,.5)"),s(3),y(e.updates),s(5),l("color",e.colors.discordContenttext)("lc","rgba(135, 206, 250,.5)"),s(6),l("formControl",e.search),s(4),l("color",e.colors.discordContenttext)("lc","rgba(135, 206, 250,.5)"),s(6),l("formControl",e.search)}}var Hi=(()=>{class i{constructor(e,a){this.router=e,this.route=a,this.userService=p(N),this.resourceService=p(L),this.search=new S(""),this.me=this.userService.me$}ngOnInit(){}get updates(){return this.resourceService.updates$().map(e=>({update:e,monthday:e.charAt(0).toUpperCase()+e.substring(1,3),year:e.substring(3)}))}get colors(){return Ct}searchSeries(){}searchCharacter(){}static{this.\u0275fac=function(a){return new(a||i)(w(A),w(P))}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-home"]],decls:4,vars:1,consts:[[1,"mudae-home"],[1,"welcome-panel"],[1,"welcome-message"],[1,"welcome-info"],["id","updates-section"],[1,"home-header"],[1,"square"],["text","Latest Updates","type","h2","lw","2px","r","4px",1,"series-header",3,"color","lc"],[1,"updates-list"],[1,"update",3,"routerLink"],["id","series-lookup"],["text","Series Search","type","h2","lw","2px","r","4px",1,"series-header",3,"color","lc"],[1,"search-form"],["appearance","outline",1,"search"],["matInput","","placeholder","Series ...",3,"keydown.enter","formControl"],["id","character-lookup"],["text","Character Search","type","h2","lw","2px","r","4px",1,"character-header",3,"color","lc"],["matInput","","placeholder","Character ...",3,"keydown.enter","formControl"],[1,"update-year"],[1,"update-monthday"]],template:function(a,t){a&1&&(r(0,"div",0),v(1,$a,44,8),me(2,1,za),n()),a&2&&(s(2),pe(t.me().id!="empty"))},dependencies:[Ce,qe,ee,fe],styles:["[_nghost-%COMP%]{flex:1;position:relative;overflow-x:hidden}.mudae-home[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem}.home-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.5rem;border-radius:4px}my-header[_ngcontent-%COMP%]{flex:1}.square[_ngcontent-%COMP%]{display:flex;width:1rem;height:1rem;margin:auto 0rem;border-radius:4px;background-color:var(--link-color)}.welcome-panel[_ngcontent-%COMP%]{height:15rem;padding:1rem;box-sizing:border-box;border-bottom:4px solid var(--mudae-medium)}.welcome-message[_ngcontent-%COMP%]{text-align:center;font-size:1.3rem}.welcome-info[_ngcontent-%COMP%]{font-size:1.1rem}.welcome-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.show-more[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;padding:.5rem;border:2px solid var(--mudae-dark);border-radius:4px;background-color:var(--mudae-medium);box-shadow:2px 3px var(--mudae-medium)}.show-more[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.75}.show-more[_ngcontent-%COMP%]:active{opacity:.95}#updates-section[_ngcontent-%COMP%], #series-lookup[_ngcontent-%COMP%], #character-lookup[_ngcontent-%COMP%], #search-section[_ngcontent-%COMP%]{margin:1rem 2rem;display:flex;flex-direction:column;gap:1rem}.updates-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;padding:.5rem .5rem 1rem;gap:1rem}.updates-list[_ngcontent-%COMP%]::-webkit-scrollbar{height:.25rem}.updates-list[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:var(--mudae-medium);border-radius:4px}.updates-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--mudae-card-text-color);border-radius:4px}.update[_ngcontent-%COMP%]{flex-shrink:0;display:flex;flex-flow:row nowrap;align-items:center;font-size:1.2rem;width:9rem;border:3px solid var(--mudae-medium);border-radius:4px;box-shadow:2px 4px var(--mudae-medium)}.update[_ngcontent-%COMP%]:hover{scale:1.05;cursor:pointer}.update-year[_ngcontent-%COMP%]{padding:.5rem;background-color:var(--mudae-medium)}.update-monthday[_ngcontent-%COMP%]{flex:1;text-align:center}.search-form[_ngcontent-%COMP%]{flex:1}.search[_ngcontent-%COMP%]{width:100%}"]})}}return i})();var ji=(()=>{class i{constructor(e,a){this.router=e,this.route=a,this.mudaeLogin=p(ae),this.cookieService=p(De)}ngOnInit(){}logout(){this.mudaeLogin.logout$().subscribe(e=>{this.cookieService.delete(D.MUDAE_TOKEN_COOKIE_NAME),this.router.navigate(["login"],{relativeTo:this.route.parent})})}return(){this.router.navigate(["home"],{relativeTo:this.route.parent})}static{this.\u0275fac=function(a){return new(a||i)(w(A),w(P))}}static{this.\u0275cmp=C({type:i,selectors:[["logout-page"]],decls:7,vars:0,consts:[[1,"logout-page"],[1,"btn-container"],["mat-raised-button","",1,"logout-btn",3,"click"]],template:function(a,t){a&1&&(r(0,"div",0)(1,"div",1)(2,"button",2),g("click",function(){return t.logout()}),c(3,"Logout"),n()(),r(4,"div",1)(5,"button",2),g("click",function(){return t.return()}),c(6,"Return to home"),n()()())},dependencies:[j,X],styles:[".btn-container[_ngcontent-%COMP%]{text-align:center;margin:auto;padding:5rem 0rem}.logout-btn[_ngcontent-%COMP%]{border-radius:.5rem}"]})}}return i})();var Ha=i=>[i];function ja(i,d){if(i&1&&h(0,"img",5),i&2){let e=f().$implicit,a=f();l("src",a.banner(e),de)}}function Na(i,d){if(i&1&&(r(0,"div",3)(1,"div",4),v(2,ja,1,1,"img",5),h(3,"img",6),r(4,"div",7),c(5),n()()()),i&2){let e=d.$implicit,a=f();s(),l("routerLink",Oe(4,Ha,e.id)),s(),_(e.banner!=null?2:-1),s(),l("src",a.icon(e)+"?size=80",de),s(2),x(e.name)}}var Ni=(()=>{class i{constructor(){this.resourceService=p(L),this.servers=Fe(()=>this.resourceService.servers$().map(e=>e.server))}ngOnInit(){}banner(e){return`https://cdn.discordapp.com/banners/${e.id}/${e.banner}`}icon(e){return`https://cdn.discordapp.com/icons/${e.id}/${e.icon}`}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-servers"]],decls:6,vars:0,consts:[[1,"mudae-servers"],[1,"list-header"],[1,"server-list"],[1,"mudae-server-container"],[1,"mudae-server",3,"routerLink"],[1,"mudae-server-banner",3,"src"],[1,"mudae-server-icon",3,"src"],[1,"mudae-server-name"]],template:function(a,t){a&1&&(r(0,"div",0)(1,"div",1),c(2,"Your Server List"),n(),r(3,"div",2),b(4,Na,6,6,"div",3,F),n()()),a&2&&(s(4),y(t.servers()))},dependencies:[fe,ue],styles:["[_nghost-%COMP%]{position:relative}.mudae-servers[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.list-header[_ngcontent-%COMP%]{font-size:1.2rem;padding:1rem;background-color:var(--mudae-medium)}.server-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-between;gap:1.5rem;padding:1rem}.mudae-server-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;max-width:calc(50% - 1rem);box-shadow:8px 7px #0003}.mudae-server[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;align-items:center;gap:.25rem;border:1px solid black;border-radius:3px;overflow:hidden}.mudae-server[_ngcontent-%COMP%]:hover{cursor:pointer;scale:1.025}.mudae-server-icon[_ngcontent-%COMP%]{height:80px;width:80px;z-index:11}.mudae-server-name[_ngcontent-%COMP%]{font-size:1.1rem;text-shadow:2px 3px black;text-overflow:ellipsis;padding:0rem .5rem;z-index:10}.mudae-server-banner[_ngcontent-%COMP%]{position:absolute;right:0;height:80px;mask-image:linear-gradient(to left,rgba(0,0,0,.8),rgba(0,0,0,.5),transparent)}"]})}}return i})();var Gi=(()=>{class i extends ge{constructor(){super(),this.loading=O(!1),this.loading$=this.loading.asReadonly(),this.claimData=O({type:"none",more:!1,results:[],page:0}),this.claimData$=this.claimData.asReadonly(),this.lastRequest={}}searchClaims(e,a,t){this.outgoingRequest&&!this.outgoingRequest.closed&&this.outgoingRequest.unsubscribe(),this.claimData.set({type:"none",more:!1,results:[],page:0}),this.loading.set(!0),this.lastRequest={serverId:e,claimerId:a,query:t},this.outgoingRequest=this.findClaimsByUser$(e,a,t).subscribe({next:o=>{this.claimData.set(o)}}),this.outgoingRequest.add(()=>this.loading.set(!1))}loadMore(){this.loading()||!this.lastRequest||!this.lastRequest.serverId||!this.lastRequest.claimerId||this.claimData().more&&(this.loading.set(!0),this.lastRequest.query=Q(T({},this.lastRequest.query),{page:this.lastRequest.query?.page?this.lastRequest.query.page+1:1}),this.outgoingRequest=this.findClaimsByUser$(this.lastRequest.serverId,this.lastRequest.claimerId,this.lastRequest.query).subscribe({next:e=>{this.claimData.update(a=>this.updateResultData(a,e))}}),this.outgoingRequest.add(()=>this.loading.set(!1)))}mudaeUpdates$(){return this.http.get(`${this.url}/api/updates`)}myServers$(){return this.http.get(`${this.url}/api/servers`)}serverUsers$(e){return this.http.get(`${this.url}/api/servers/${e}/users`)}findClaim$(e,a){return this.http.get(`${this.url}/api/servers/${e}/claims?characterId=${a}`)}findClaimsByUser$(e,a,t){return this.http.get(`${this.url}/api/servers/${e}/claims/${a}`,{params:t||void 0})}updateResultData(e,a){return e=Q(T({},a),{results:e.results}),a.type=="series"?e.results=this.appendSeries(e.results,a.results):e.results.push(...a.results),e}appendSeries(e,a){let t=[...e];for(let o of a){let m=e.findIndex(u=>u.id==o.id);if(m<0)t.push(o);else{let u=[...e[m].characters];for(let M of o.characters)e[m].characters.find(G=>G.id==M.id)||u.push(M);o.characters=u,t[m]=o}}return t}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Wa=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],Ya=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function Xa(i,d){i&1&&(r(0,"span",3),H(1,1),n())}function Ja(i,d){i&1&&(r(0,"span",6),H(1,2),n())}var Za='.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width, 1px);border-radius:var(--mdc-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size, 24px);height:var(--mdc-chip-with-avatar-avatar-size, 24px);font-size:var(--mdc-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius, 8px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mdc-chip-with-icon-icon-size, 18px);height:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}',er=[[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],tr=["mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function ir(i,d){i&1&&h(0,"span",0)}function ar(i,d){i&1&&(r(0,"span",2),H(1),n())}function rr(i,d){i&1&&H(0,1)}function nr(i,d){i&1&&h(0,"span",7)}function or(i,d){if(i&1&&v(0,rr,1,0)(1,nr,1,0,"span",7),i&2){let e=f();_(e.contentEditInput?0:1)}}function sr(i,d){i&1&&H(0,2)}function cr(i,d){i&1&&(r(0,"span",5),H(1,3),n())}var Ji=["*"],dr=".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}",Zi=new ce("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),Ki=new ce("MatChipAvatar"),Wi=new ce("MatChipTrailingIcon"),Ht=new ce("MatChipRemove"),Gt=new ce("MatChip"),Mt=(()=>{class i{_elementRef=p(K);_parentChip=p(Gt);isInteractive=!0;_isPrimary=!0;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(e){this._disabled=e}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(){p(Te).load(We),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=function(a){return new(a||i)};static \u0275dir=W({type:i,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(a,t){a&1&&g("click",function(m){return t._handleClick(m)})("keydown",function(m){return t._handleKeydown(m)}),a&2&&(z("tabindex",t._getTabindex())("disabled",t._getDisabledAttribute())("aria-disabled",t.disabled),he("mdc-evolution-chip__action--primary",t._isPrimary)("mdc-evolution-chip__action--presentational",!t.isInteractive)("mdc-evolution-chip__action--trailing",!t._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",R],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?-1:Qe(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[le]})}return i})();var kt=(()=>{class i extends Mt{_isPrimary=!1;_handleClick(e){this.disabled||(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}static \u0275fac=(()=>{let e;return function(t){return(e||(e=Pt(i)))(t||i)}})();static \u0275dir=W({type:i,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(a,t){a&2&&z("aria-hidden",null)},features:[Se([{provide:Ht,useExisting:i}]),te]})}return i})(),jt=(()=>{class i{_changeDetectorRef=p(Ge);_elementRef=p(K);_ngZone=p(Zt);_focusMonitor=p(ht);_globalRippleOptions=p(mi,{optional:!0});_document=p(Lt);_onFocus=new He;_onBlur=new He;_isBasicChip;role=null;_hasFocusInternal=!1;_pendingFocus;_actionChanges;_animationsDisabled;_allLeadingIcons;_allTrailingIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=p(Ke).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_ariaDescriptionId=`${this.id}-aria-description`;_chipListDisabled=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(e){this._disabled=e}_disabled=!1;removed=new U;destroyed=new U;basicChipAttrName="mat-basic-chip";leadingIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=p(ui);_injector=p(Xt);constructor(){p(Te).load(We),p(Te).load(si);let e=p(ot,{optional:!0});this._animationsDisabled=e==="NoopAnimations",this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){let e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=et(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(e){(e.keyCode===8&&!e.repeat||e.keyCode===46)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(a=>{let t=a._elementRef.nativeElement;return t===e||t.contains(e)})}_getActions(){let e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let a=e!==null;a!==this._hasFocusInternal&&(this._hasFocusInternal=a,a?this._onFocus.next({chip:this}):At(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=C({type:i,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(a,t,o){if(a&1&&(Y(o,Ki,5),Y(o,Wi,5),Y(o,Ht,5),Y(o,Ki,5),Y(o,Wi,5),Y(o,Ht,5)),a&2){let m;q(m=V())&&(t.leadingIcon=m.first),q(m=V())&&(t.trailingIcon=m.first),q(m=V())&&(t.removeIcon=m.first),q(m=V())&&(t._allLeadingIcons=m),q(m=V())&&(t._allTrailingIcons=m),q(m=V())&&(t._allRemoveIcons=m)}},viewQuery:function(a,t){if(a&1&&Ne(Mt,5),a&2){let o;q(o=V())&&(t.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(a,t){a&1&&g("keydown",function(m){return t._handleKeydown(m)}),a&2&&(Ie("id",t.id),z("role",t.role)("aria-label",t.ariaLabel),ct("mat-"+(t.color||"primary")),he("mdc-evolution-chip",!t._isBasicChip)("mdc-evolution-chip--disabled",t.disabled)("mdc-evolution-chip--with-trailing-action",t._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",t.leadingIcon)("mdc-evolution-chip--with-primary-icon",t.leadingIcon)("mdc-evolution-chip--with-avatar",t.leadingIcon)("mat-mdc-chip-with-avatar",t.leadingIcon)("mat-mdc-chip-highlighted",t.highlighted)("mat-mdc-chip-disabled",t.disabled)("mat-mdc-basic-chip",t._isBasicChip)("mat-mdc-standard-chip",!t._isBasicChip)("mat-mdc-chip-with-trailing-icon",t._hasTrailingIcon())("_mat-animation-noopable",t._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",R],highlighted:[2,"highlighted","highlighted",R],disableRipple:[2,"disableRipple","disableRipple",R],disabled:[2,"disabled","disabled",R]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[Se([{provide:Gt,useExisting:i}]),le],ngContentSelectors:Ya,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(a,t){a&1&&(xe(Wa),h(0,"span",0),r(1,"span",1)(2,"span",2),v(3,Xa,2,0,"span",3),r(4,"span",4),H(5),h(6,"span",5),n()()(),v(7,Ja,2,0,"span",6)),a&2&&(s(2),l("isInteractive",!1),s(),_(t.leadingIcon?3:-1),s(4),_(t._hasTrailingIcon()?7:-1))},dependencies:[Mt],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width, 1px);border-radius:var(--mdc-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size, 24px);height:var(--mdc-chip-with-avatar-avatar-size, 24px);font-size:var(--mdc-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius, 8px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mdc-chip-with-icon-icon-size, 18px);height:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})();var $t=(()=>{class i{_elementRef=p(K);_document=p(Lt);constructor(){}initialize(e){this.getNativeElement().focus(),this.setValue(e)}getNativeElement(){return this._elementRef.nativeElement}setValue(e){this.getNativeElement().textContent=e,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){let e=this._document.createRange();e.selectNodeContents(this.getNativeElement()),e.collapse(!1);let a=window.getSelection();a.removeAllRanges(),a.addRange(e)}static \u0275fac=function(a){return new(a||i)};static \u0275dir=W({type:i,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"]})}return i})(),Je=(()=>{class i extends jt{basicChipAttrName="mat-basic-chip-row";_editStartPending=!1;editable=!1;edited=new U;defaultEditInput;contentEditInput;_isEditing=!1;constructor(){super(),this.role="row",this._onBlur.pipe(se(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(e){e.keyCode===13&&!this.disabled?this._isEditing?(e.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(e):this._isEditing?e.stopPropagation():super._handleKeydown(e)}_handleDoubleclick(e){!this.disabled&&this.editable&&this._startEditing(e)}_startEditing(e){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(e.target)===this.removeIcon)return;let a=this.value;this._isEditing=this._editStartPending=!0,At(()=>{this._getEditInput().initialize(a),this._editStartPending=!1},{injector:this._injector})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=C({type:i,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(a,t,o){if(a&1&&Y(o,$t,5),a&2){let m;q(m=V())&&(t.contentEditInput=m.first)}},viewQuery:function(a,t){if(a&1&&Ne($t,5),a&2){let o;q(o=V())&&(t.defaultEditInput=o.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(a,t){a&1&&g("focus",function(m){return t._handleFocus(m)})("dblclick",function(m){return t._handleDoubleclick(m)}),a&2&&(Ie("id",t.id),z("tabindex",t.disabled?null:-1)("aria-label",null)("aria-description",null)("role",t.role),he("mat-mdc-chip-with-avatar",t.leadingIcon)("mat-mdc-chip-disabled",t.disabled)("mat-mdc-chip-editing",t._isEditing)("mat-mdc-chip-editable",t.editable)("mdc-evolution-chip--disabled",t.disabled)("mdc-evolution-chip--with-trailing-action",t._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",t.leadingIcon)("mdc-evolution-chip--with-primary-icon",t.leadingIcon)("mdc-evolution-chip--with-avatar",t.leadingIcon)("mat-mdc-chip-highlighted",t.highlighted)("mat-mdc-chip-with-trailing-icon",t._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},features:[Se([{provide:jt,useExisting:i},{provide:Gt,useExisting:i}]),te],ngContentSelectors:tr,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],["matChipEditInput",""]],template:function(a,t){a&1&&(xe(er),v(0,ir,1,0,"span",0),r(1,"span",1),v(2,ar,2,0,"span",2),r(3,"span",3),v(4,or,2,1)(5,sr,1,0),h(6,"span",4),n()(),v(7,cr,2,0,"span",5),r(8,"span",6),c(9),n()),a&2&&(_(t._isEditing?-1:0),s(),l("disabled",t.disabled),z("aria-label",t.ariaLabel)("aria-describedby",t._ariaDescriptionId),s(),_(t.leadingIcon?2:-1),s(2),_(t._isEditing?4:5),s(3),_(t._hasTrailingIcon()?7:-1),s(),l("id",t._ariaDescriptionId),s(),x(t.ariaDescription))},dependencies:[Mt,$t],styles:[Za],encapsulation:2,changeDetection:0})}return i})(),lr=(()=>{class i{_elementRef=p(K);_changeDetectorRef=p(Ge);_dir=p(di,{optional:!0});_lastDestroyedFocusedChipIndex=null;_keyManager;_destroyed=new He;_defaultRole="presentation";get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}_disabled=!1;get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}tabIndex=0;set role(e){this._explicitRole=e}_explicitRole=null;get focused(){return this._hasFocusedChip()}_chips;_chipActions=new ei;constructor(){}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips?.forEach(e=>{e._chipListDisabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){let e=this._elementRef.nativeElement.tabIndex;e!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=e))}_getChipStream(e){return this._chips.changes.pipe(tt(null),Yt(()=>et(...this._chips.map(e))))}_originatesFromChip(e){let a=e.target;for(;a&&a!==this._elementRef.nativeElement;){if(a.classList.contains("mat-mdc-chip"))return!0;a=a.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(tt(this._chips)).subscribe(e=>{let a=[];e.forEach(t=>t._getActions().forEach(o=>a.push(o))),this._chipActions.reset(a),this._chipActions.notifyOnChanges()}),this._keyManager=new ci(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(se(this._destroyed)).subscribe(({chip:e})=>{let a=e._getSourceAction(document.activeElement);a&&this._keyManager.updateActiveItem(a)}),this._dir?.change.pipe(se(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(tt(null),se(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(se(this._destroyed)).subscribe(e=>{let t=this._chips.toArray().indexOf(e.chip);this._isValidIndex(t)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=t)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),a=this._chips.toArray()[e];a.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():a.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=C({type:i,selectors:[["mat-chip-set"]],contentQueries:function(a,t,o){if(a&1&&Y(o,jt,5),a&2){let m;q(m=V())&&(t._chips=m)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(a,t){a&1&&g("keydown",function(m){return t._handleKeydown(m)}),a&2&&z("role",t.role)},inputs:{disabled:[2,"disabled","disabled",R],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Qe(e)]},features:[le],ngContentSelectors:Ji,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(a,t){a&1&&(xe(),r(0,"div",0),H(1),n())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return i})();var Nt=class{source;value;constructor(d,e){this.source=d,this.value=e}},It=(()=>{class i extends lr{ngControl=p(vt,{optional:!0,self:!0});controlType="mat-chip-grid";_chipInput;_defaultRole="grid";_errorStateTracker;_ariaDescribedbyIds=[];_onTouched=()=>{};_onChange=()=>{};get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=e,this._syncChipsState(),this.stateChanges.next()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||this._chips.length===0)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(xi.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(e){this._value=e}_value=[];get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}change=new U;valueChange=new U;_chips=void 0;stateChanges=new He;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(){super();let e=p(_t,{optional:!0}),a=p(ki,{optional:!0}),t=p(Vt);this.ngControl&&(this.ngControl.valueAccessor=this),this._errorStateTracker=new li(t,this.ngControl,a,e,this.stateChanges)}ngAfterContentInit(){this.chipBlurChanges.pipe(se(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),et(this.chipFocusChanges,this._chips.changes).pipe(se(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit(),this._chipInput}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(e){this._chipInput=e,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(e){!this.disabled&&!this._originatesFromChip(e)&&this.focus()}focus(){if(!(this.disabled||this._chipInput.focused)){if(!this._chips.length||this._chips.first.disabled)Promise.resolve().then(()=>this._chipInput.focus());else{let e=this._keyManager.activeItem;e?e.focus():this._keyManager.setFirstItemActive()}this.stateChanges.next()}}setDescribedByIds(e){this._ariaDescribedbyIds=e,this._chipInput?.setDescribedByIds(e)}writeValue(e){this._value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}updateErrorState(){this._errorStateTracker.updateErrorState()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(e){let a=e.keyCode,t=this._keyManager.activeItem;if(a===9)this._chipInput.focused&&qt(e,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(e.preventDefault(),t?this._keyManager.setActiveItem(t):this._focusLastChip()):super._allowFocusEscape();else if(!this._chipInput.focused)if((a===38||a===40)&&t){let o=this._chipActions.filter(M=>M._isPrimary===t._isPrimary&&!this._skipPredicate(M)),m=o.indexOf(t),u=e.keyCode===38?-1:1;e.preventDefault(),m>-1&&this._isValidIndex(m+u)&&this._keyManager.setActiveItem(o[m+u])}else super._handleKeydown(e);this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){let e=this._chips.length?this._chips.toArray().map(a=>a.value):[];this._value=e,this.change.emit(new Nt(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=C({type:i,selectors:[["mat-chip-grid"]],contentQueries:function(a,t,o){if(a&1&&Y(o,Je,5),a&2){let m;q(m=V())&&(t._chips=m)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(a,t){a&1&&g("focus",function(){return t.focus()})("blur",function(){return t._blur()}),a&2&&(z("role",t.role)("tabindex",t.disabled||t._chips&&t._chips.length===0?-1:t.tabIndex)("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState),he("mat-mdc-chip-list-disabled",t.disabled)("mat-mdc-chip-list-invalid",t.errorState)("mat-mdc-chip-list-required",t.required))},inputs:{disabled:[2,"disabled","disabled",R],placeholder:"placeholder",required:[2,"required","required",R],value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},features:[Se([{provide:Ii,useExisting:i}]),le,te],ngContentSelectors:Ji,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(a,t){a&1&&(xe(),r(0,"div",0),H(1),n())},styles:[dr],encapsulation:2,changeDetection:0})}return i})(),Et=(()=>{class i{_elementRef=p(K);focused=!1;get chipGrid(){return this._chipGrid}set chipGrid(e){e&&(this._chipGrid=e,this._chipGrid.registerInput(this))}_chipGrid;addOnBlur=!1;separatorKeyCodes;chipEnd=new U;placeholder="";id=p(Ke).getId("mat-mdc-chip-list-input-");get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(e){this._disabled=e}_disabled=!1;get empty(){return!this.inputElement.value}inputElement;constructor(){let e=p(Zi),a=p(Ei,{optional:!0});this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=e.separatorKeyCodes,a&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}_keydown(e){this.empty&&e.keyCode===8?(e.repeat||this._chipGrid._focusLastChip(),e.preventDefault()):this._emitChipEnd(e)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._chipGrid.stateChanges.next()}_emitChipEnd(e){(!e||this._isSeparatorKey(e)&&!e.repeat)&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),e?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value=""}setDescribedByIds(e){let a=this._elementRef.nativeElement;e.length?a.setAttribute("aria-describedby",e.join(" ")):a.removeAttribute("aria-describedby")}_isSeparatorKey(e){return!qt(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}static \u0275fac=function(a){return new(a||i)};static \u0275dir=W({type:i,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(a,t){a&1&&g("keydown",function(m){return t._keydown(m)})("blur",function(){return t._blur()})("focus",function(){return t._focus()})("input",function(){return t._onInput()}),a&2&&(Ie("id",t.id),z("disabled",t.disabled||null)("placeholder",t.placeholder||null)("aria-invalid",t._chipGrid&&t._chipGrid.ngControl?t._chipGrid.ngControl.invalid:null)("aria-required",t._chipGrid&&t._chipGrid.required||null)("required",t._chipGrid&&t._chipGrid.required||null))},inputs:{chipGrid:[0,"matChipInputFor","chipGrid"],addOnBlur:[2,"matChipInputAddOnBlur","addOnBlur",R],separatorKeyCodes:[0,"matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:[2,"disabled","disabled",R]},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[le,at]})}return i})();var Ot=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=st({type:i});static \u0275inj=it({providers:[Vt,{provide:Zi,useValue:{separatorKeyCodes:[13]}}],imports:[Re,hi,Re]})}return i})();var ta=["Male","Female","Other"],ia=["Animanga","Game","Both"],aa=["Any","Non 18+","18+"],ra=["series","rank","name"],na=["false","true"];var Ft=(()=>{class i{constructor(){this.route=p(P),this.mudaeUpdates=nt.required(),this.onFilterChange=rt(),this.isExpanded=ti(!1),this.form={},this.subs=[],this.initDefaultForm()}ngOnInit(){this.route.params.pipe(oe(this.route.queryParams)).pipe(ne(150)).subscribe(e=>{let a=this.route.snapshot.params,t=this.route.snapshot.queryParams;this.setFormValuesOnRouting(T(T({},a),t))})}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}initDefaultForm(){return this.form.q=new S,this.form.series=new S([]),this.form.gender=new S([]),this.form.category=new S([]),this.form.adult=new S,this.form.sort=new S,this.form.desc=new S,this.form.favorited=new S,this.form.updateAdded=new S,this.form}toggleFiltersDisplay(){this.isExpanded.set(!this.isExpanded())}applyFilters(){this.isExpanded.set(!1),this.onFilterChange.emit(this.constructFilter())}constructFilter(){let e={};for(let a of Object.keys(this.form)){let t=this.form[a].value;t!=null&&(Array.isArray(t)&&t.length==0||(e[a]=this.form[a].value))}return e}adultOptionValue(e){switch(e.toLowerCase()){case"any":return;case"non 18+":return"false";case"18+":return"true"}}favoriteOptionValue(e){switch(e.toLowerCase()){case"any":return;case"favorited":return"true";case"unfavorited":return"false"}}get genderOptions(){return ta}get categoryOptions(){return ia}get adultOptions(){return aa}get sortOptions(){return ra}get orderOptions(){return na}get favoriteOptions(){return["any","favorited","unfavorited"]}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=C({type:i,selectors:[["ng-component"]],inputs:{mudaeUpdates:[1,"mudaeUpdates"],isExpanded:[1,"isExpanded"]},outputs:{onFilterChange:"onFilterChange",isExpanded:"isExpandedChange"},decls:0,vars:0,template:function(a,t){},encapsulation:2})}}return i})();var Dt=(()=>{class i{set isShown(e){this.isShowing=e,this.resize()}constructor(e){this.eleRef=e,this.isShowing=!1,this.isShownChange=new U,this.resizeObserver=new ResizeObserver(a=>{for(let t of a)t.target==this.firstChild()&&this.isShowing&&parseInt(this.eleRef.nativeElement.style.maxHeight)<this.firstChild().clientHeight&&this.resize()})}ngAfterContentInit(){this.resizeObserver.observe(this.eleRef.nativeElement.firstChild)}firstChild(){return this.eleRef.nativeElement.firstChild}resize(){this.isShowing?this.eleRef.nativeElement.style.maxHeight=this.eleRef.nativeElement.firstChild.clientHeight+"px":this.eleRef.nativeElement.style.maxHeight="0px"}ngOnDestroy(){this.resizeObserver.disconnect()}static{this.\u0275fac=function(a){return new(a||i)(w(K))}}static{this.\u0275dir=W({type:i,selectors:[["","accordian",""]],inputs:{isShown:"isShown"},outputs:{isShownChange:"isShownChange"}})}}return i})();var oa=(()=>{class i{set disableWhen(e){let a=e?"disable":"enable";this.ngControl.control&&this.ngControl?.control[a]()}constructor(e){this.ngControl=e}static{this.\u0275fac=function(a){return new(a||i)(w(vt))}}static{this.\u0275dir=W({type:i,selectors:[["","disableWhen",""]],inputs:{disableWhen:"disableWhen"}})}}return i})();var mr=(i,d)=>d.toString();function pr(i,d){if(i&1){let e=$();r(0,"mat-chip-row",25),g("removed",function(){let t=I(e).$implicit,o=f();return E(o.removeSeries(t))}),c(1),r(2,"button",26)(3,"mat-icon"),c(4,"cancel"),n()()()}if(i&2){let e=d.$implicit;s(),dt(" ",e," ")}}function hr(i,d){if(i&1&&(r(0,"mat-option",14),c(1),n()),i&2){let e=d.$implicit;l("value",e.server.id),s(),x(e.server.name)}}function ur(i,d){if(i&1&&(r(0,"mat-option",14),c(1),n()),i&2){let e=d.$implicit;l("value",e.id),s(),x(e.username=="unknown"?e.id:e.username)}}function fr(i,d){if(i&1&&(r(0,"mat-option",18),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function gr(i,d){if(i&1&&(r(0,"mat-option",18),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function vr(i,d){if(i&1&&(r(0,"mat-option",18),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function _r(i,d){if(i&1&&(r(0,"mat-option",18),c(1),n()),i&2){let e=d.$implicit,a=f();l("value",a.adultOptionValue(e)),s(),x(e)}}function br(i,d){if(i&1&&(r(0,"mat-option",18),c(1),n()),i&2){let e=d.$implicit,a=f();l("value",a.favoriteOptionValue(e)),s(),x(e)}}function yr(i,d){if(i&1&&(r(0,"mat-option",18),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function Cr(i,d){if(i&1&&(r(0,"mat-option",18),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}var da=(()=>{class i extends Ft{constructor(){super(),this.searchSeries=O([]),this.userServers=nt.required(),this.selectedServer=O(void 0),this.form.serverId=new S,this.form.userId=new S,this.userOptions=ii(()=>{let e=this.selectedServer();return(e?this.userServers().find(t=>t.server.id==e.server.id)?.users||[]:this.userServers().find(t=>t.server.id==this.form.serverId.value)?.users||[]).sort((t,o)=>t.username.toLowerCase().localeCompare(o.username.toLowerCase()))})}setFormValuesOnRouting(e){let{serverId:a,userId:t}=e,{series:o,updateAdded:m,gender:u,category:M,adult:G,favorited:Ue,sort:$e,desc:we}=e;if(a){this.form.serverId.setValue(a);let ya=this.userServers().find(Ca=>Ca.server.id==a);this.selectedServer.set(ya)}t&&this.form.userId.setValue(t),o&&(this.form.series.setValue(o),typeof o=="string"?this.searchSeries.set([o]):this.searchSeries.set([...o])),m&&this.form.updateAdded.setValue(m),u&&(typeof u=="string"?this.form.gender.setValue([u]):this.form.gender.setValue([...u])),M&&(typeof M=="string"?this.form.category.setValue([M]):this.form.category.setValue([...M])),G&&this.form.adult.setValue(G),Ue&&this.form.favorited.setValue(Ue),$e&&this.form.sort.setValue($e),we&&this.form.desc.setValue(we)}updateServerOptions(e){if(!e.value)return;let a=this.userServers().find(t=>t.server.id==e.value);this.selectedServer.set(a)}add(e){let a=(e.value||"").trim();a&&this.searchSeries.update(t=>[...t,a]),e.chipInput.clear()}removeSeries(e){this.searchSeries.update(a=>{let t=a.indexOf(e);return t<0||a.splice(t,1),a}),this.form.series.setValue(this.searchSeries())}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-claim-filter"]],inputs:{userServers:[1,"userServers"]},features:[te],decls:75,vars:15,consts:[["currentSearch",""],[1,"mudae-filter"],[1,"search-container"],["appearance","outline",1,"search"],["aria-label","Enter series",3,"formControl"],[1,"test"],["placeholder","Series ...",3,"matChipInputTokenEnd","matChipInputFor"],["mat-fab","",1,"filter-btn","series-btn",3,"click"],[1,"filter-btn-text"],["mat-stroked-button","","matSuffix","",1,"filter-btn","series-btn",3,"click"],["accordian","",1,"filters",3,"isShownChange","isShown"],[1,"filter-controls"],["appearance","outline",1,"filter-control"],["placeholder","Server ...",3,"selectionChange","formControl","disableWhen"],[3,"value"],["placeholder","Claimer ...",3,"formControl","disableWhen"],["appearance","outline",1,"filter-control","update-control"],["placeholder","Update Added ...",1,"filter-option",3,"formControl"],[1,"filter-option",3,"value"],["placeholder","Genders ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Category ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Is 18+? ...",1,"filter-option",3,"formControl"],["placeholder","Is Favorited? ...",1,"filter-option",3,"formControl"],["placeholder","Sort ...",1,"filter-option",3,"formControl"],["placeholder","Order ...",1,"filter-option",3,"formControl"],[1,"test",3,"removed"],["matChipRemove","","aria-label","'remove ' + series"]],template:function(a,t){if(a&1){let o=$();r(0,"div",1)(1,"div",2)(2,"mat-form-field",3)(3,"mat-label"),c(4,"Search Series"),n(),r(5,"mat-chip-grid",4,0),b(7,pr,5,1,"mat-chip-row",5,mr),n(),r(9,"input",6),g("matChipInputTokenEnd",function(u){return I(o),E(t.add(u))}),n()(),r(10,"button",7),g("click",function(){return I(o),E(t.toggleFiltersDisplay())}),r(11,"mat-icon"),c(12,"filter_list"),n(),r(13,"span",8),c(14,"Filter"),n()(),r(15,"button",9),g("click",function(){return I(o),E(t.applyFilters())}),c(16,"GO"),n()(),r(17,"div",10),pt("isShownChange",function(u){return I(o),mt(t.isExpanded,u)||(t.isExpanded=u),E(u)}),r(18,"div",11)(19,"mat-form-field",12)(20,"mat-label"),c(21,"Server"),n(),r(22,"mat-select",13),g("selectionChange",function(u){return I(o),E(t.updateServerOptions(u))}),b(23,hr,2,2,"mat-option",14,F),n()(),r(25,"mat-form-field",12)(26,"mat-label"),c(27,"User"),n(),r(28,"mat-select",15),b(29,ur,2,2,"mat-option",14,F),n()(),r(31,"mat-form-field",16)(32,"mat-label"),c(33,"Update"),n(),r(34,"mat-select",17)(35,"mat-option",18),c(36,"Any"),n(),b(37,fr,2,2,"mat-option",18,F),n()(),r(39,"mat-form-field",12)(40,"mat-label"),c(41,"Genders"),n(),r(42,"mat-select",19),b(43,gr,2,2,"mat-option",18,F),n()(),r(45,"mat-form-field",12)(46,"mat-label"),c(47,"Category"),n(),r(48,"mat-select",20),b(49,vr,2,2,"mat-option",18,F),n()(),r(51,"mat-form-field",12)(52,"mat-label"),c(53,"Adult"),n(),r(54,"mat-select",21),b(55,_r,2,2,"mat-option",18,je),n()(),r(57,"mat-form-field",12)(58,"mat-label"),c(59,"Favorites"),n(),r(60,"mat-select",22),b(61,br,2,2,"mat-option",18,je),n()(),r(63,"mat-form-field",12)(64,"mat-label"),c(65,"Sort"),n(),r(66,"mat-select",23),b(67,yr,2,2,"mat-option",18,je),n()(),r(69,"mat-form-field",12)(70,"mat-label"),c(71,"Desc"),n(),r(72,"mat-select",24),b(73,Cr,2,2,"mat-option",18,je),n()()()()()}if(a&2){let o=Ee(6);s(5),l("formControl",t.form.series),s(2),y(t.searchSeries()),s(2),l("matChipInputFor",o),s(8),lt("isShown",t.isExpanded),s(5),l("formControl",t.form.serverId)("disableWhen",t.userServers().length<=0),s(),y(t.userServers()),s(5),l("formControl",t.form.userId)("disableWhen",t.userOptions().length<=0),s(),y(t.userOptions()),s(5),l("formControl",t.form.updateAdded),s(),l("value",void 0),s(2),y(t.mudaeUpdates()),s(5),l("formControl",t.form.gender),s(),y(t.genderOptions),s(5),l("formControl",t.form.category),s(),y(t.categoryOptions),s(5),l("formControl",t.form.adult),s(),y(t.adultOptions),s(5),l("formControl",t.form.favorited),s(),y(t.favoriteOptions),s(5),l("formControl",t.form.sort),s(),y(t.sortOptions),s(5),l("formControl",t.form.desc),s(),y(t.orderOptions)}},dependencies:[Ce,ye,be,bt,Le,Ae,Be,ze,Pe,j,X,ut,Ot,It,Et,kt,Je,qe,J,ee,Z,Dt,oa],styles:[".mudae-filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0rem;padding:.5rem;border:1px solid var(--mudae-dark);border-radius:.25rem;box-shadow:var(--mudae-filter-shadow);background-color:var(--mudae-filter-bg-color);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.mudae-filter-panel[_ngcontent-%COMP%]{margin:0rem;border-radius:0rem!important}.mudae-filter-panel[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.25rem!important;border-top-left-radius:.25rem!important}.mudae-filter-panel[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.mat-expansion-panel-body[_ngcontent-%COMP%]{padding:0rem!important}.filters[_ngcontent-%COMP%]{max-height:0px;overflow:hidden;transition:max-height .25s}.filter-controls[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.5rem;padding-top:2rem;justify-content:center}.filter-control[_ngcontent-%COMP%]{flex-grow:1}.update-control[_ngcontent-%COMP%]{width:100%}.filter-option[_ngcontent-%COMP%]{text-transform:capitalize}.filter-btns[_ngcontent-%COMP%]{display:flex;gap:.5rem}.filter-btn[_ngcontent-%COMP%]{flex:1;height:36px;border-radius:.25rem;letter-spacing:.075rem}.search-container[_ngcontent-%COMP%]{display:flex;gap:.25rem}.update[_ngcontent-%COMP%]{width:8rem}.search[_ngcontent-%COMP%]{flex:1}.series-btn[_ngcontent-%COMP%]{max-width:8rem;height:unset;box-shadow:unset;background-color:transparent;border:1px solid var(--mudae-filter-button-border-color)}.series-btn[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:var(--mudae-white)}.filter-btn-text[_ngcontent-%COMP%]{color:var(--mudae-white)}@media (max-width: 720px){.series-btn[_ngcontent-%COMP%]{max-width:2rem}.filter-btn-text[_ngcontent-%COMP%]{display:none}}"]})}}return i})();var la=(i,d)=>d.id,wr=()=>[ve,import("./chunk-RYWY4WXD.js").then(i=>i.MudaeSeriesComponent),import("./chunk-4EBSOG6M.js").then(i=>i.MudaeCharacterComponent)];function xr(i,d){if(i&1&&h(0,"mudae-character",6),i&2){let e=d.$implicit,a=f(3);l("character",e)("me",a.me())}}function Sr(i,d){if(i&1&&(r(0,"div",3),b(1,xr,1,2,"mudae-character",6,la),n()),i&2){let e=f(2);s(),y(e.claims().results)}}function Mr(i,d){if(i&1&&h(0,"mudae-series",7),i&2){let e=d.$implicit,a=f(4);l("series",e)("me",a.me())}}function kr(i,d){i&1&&(r(0,"div",8)(1,"h5"),c(2,"No Results Found"),n()())}function Ir(i,d){if(i&1&&v(0,kr,3,0,"div",8),i&2){let e=f(4);_(e.isLoading()?-1:0)}}function Er(i,d){if(i&1&&b(0,Mr,1,2,"mudae-series",7,la,!1,Ir,1,1),i&2){let e=f(3);y(e.claims().results)}}function Or(i,d){if(i&1&&(r(0,"div",4),v(1,Er,3,1),n()),i&2){let e=f(2);s(),_(e.claims().results?1:-1)}}function Fr(i,d){i&1&&(r(0,"div",5),h(1,"mat-progress-spinner",9),r(2,"span"),c(3,"Loading..."),n()())}function Dr(i,d){if(i&1&&v(0,Sr,3,0,"div",3)(1,Or,2,1,"div",4)(2,Fr,4,0,"div",5),i&2){let e,a=f();_((e=a.claims().type)==="character"?0:e==="series"?1:-1),s(2),_(a.isLoading()?2:-1)}}var ma=(()=>{class i{constructor(e,a){this.router=e,this.route=a,this.userService=p(N),this.resourceService=p(L),this.serverService=p(Gi),this.throttler=new Ve,this.subs=[],this.me=this.userService.me$,this.claims=this.serverService.claimData$,this.isLoading=this.serverService.loading$,this.serverList=this.resourceService.servers$,this.updatesList=this.resourceService.updates$,this.serverId=O(""),this.userId=O("");let t=this.route.params.pipe(oe(this.route.queryParams)).pipe(ne(150)).subscribe(o=>{let{serverId:m,userId:u}=this.route.snapshot.params;this.query=this.route.snapshot.queryParams?this.createQueryFromParams(this.route.snapshot.queryParams):this.query,m&&u&&(this.serverId.set(m),this.userId.set(u),this.serverService.searchClaims(m,u,this.query))});this.timeInterval=Me(1e3).subscribe(()=>{let o=window.document.documentElement;!this.serverService.loading$()&&!this.resourceService.loading$()&&o.scrollHeight==o.clientHeight&&this.onScroll()}),this.subs.push(t,this.timeInterval)}ngOnInit(){}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}applyFilters(e){let m=T({},e),{serverId:a,userId:t}=m,o=Ze(m,["serverId","userId"]);this.query=o,this.resourceService.settings$().preserveFiltersInHistory?this.router.navigate(["servers",e.serverId,"claims",e.userId],{relativeTo:this.route.parent,queryParams:T({},o)}):a&&t&&(Object.keys(this.route.snapshot.queryParams).length==0?this.serverService.searchClaims(a,t,this.query):this.router.navigate(["servers",e.serverId,"claims",e.userId],{relativeTo:this.route.parent,queryParams:void 0}))}onScroll(){let e=window.document.documentElement;e.scrollHeight-(e.scrollTop+e.offsetHeight)<Math.min(2e3,e.scrollHeight*.1)&&this.throttler.throttle(()=>{this.serverService.loadMore()},D.SCROLL_LOAD_DELAY)}createQueryFromParams(e){let a={};for(let t of Object.keys(e)){let o=e[t];o!=null&&(Array.isArray(o)&&o.length==0||(a[t]=e[t]))}return a}static{this.\u0275fac=function(a){return new(a||i)(w(A),w(P))}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-user-claims"]],hostBindings:function(a,t){a&1&&g("scroll",function(){return t.onScroll()},!1,ke)},decls:6,vars:4,consts:[[1,"mudae-list"],[1,"mudae-filter"],[3,"onFilterChange","userServers","mudaeUpdates","isExpanded"],[1,"character-list"],[1,"series-list"],[1,"loading"],[3,"character","me"],[3,"series","me"],[1,"no-results"],["mode","indeterminate"]],template:function(a,t){a&1&&(r(0,"div",0)(1,"div",1)(2,"mudae-claim-filter",2),g("onFilterChange",function(m){return t.applyFilters(m)}),n()(),v(3,Dr,3,2),me(4,3,wr),n()),a&2&&(s(2),l("userServers",t.serverList())("mudaeUpdates",t.updatesList())("isExpanded",!0),s(2),pe(t.me()&&t.me().id!="empty"))},dependencies:[_e,da],styles:["[_nghost-%COMP%]{position:relative}.mudae-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem}.mudae-filter[_ngcontent-%COMP%]{position:fixed;top:0;width:calc(100% - var(--mudae-nav-width));max-width:calc(var(--mudae-page-width) - var(--mudae-nav-width));padding:.5rem 1rem;z-index:100;display:flex;flex-direction:column;gap:.5rem}.character-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1rem 1.3rem;padding:0rem 1rem;margin-top:4rem;overflow:hidden}.series-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:4rem}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:auto;padding-top:5rem;align-items:center}@media (max-width: 720px){.mudae-filter[_ngcontent-%COMP%]{top:3.5rem}.series-list[_ngcontent-%COMP%]{margin-top:4rem}}"]})}}return i})();var pa=(()=>{class i extends ge{constructor(){super(),this.loading=O(!1),this.loading$=this.loading.asReadonly(),this.updateData=O({type:"none",more:!1,results:[],page:0}),this.updateData$=this.updateData.asReadonly(),this.lastRequest={}}searchUpdate(e,a){this.outgoingRequest&&!this.outgoingRequest.closed&&this.outgoingRequest.unsubscribe(),this.updateData.set({type:"none",more:!1,results:[],page:0}),this.loading.set(!0),this.lastRequest={update:e,query:a},this.outgoingRequest=this.findCharactersByUpdate$(e,a).subscribe({next:t=>{this.updateData.set(t)}}),this.outgoingRequest.add(()=>this.loading.set(!1))}loadMore(){this.loading()||!this.lastRequest||this.lastRequest.update&&this.updateData().more&&(this.loading.set(!0),this.lastRequest.query=Q(T({},this.lastRequest.query),{updateAdded:this.lastRequest.update,page:this.lastRequest.query?.page?this.lastRequest.query.page+1:1}),this.outgoingRequest=this.findCharactersByUpdate$(this.lastRequest.update,this.lastRequest.query).subscribe({next:e=>{this.updateData.update(a=>this.updateResultData(a,e))}}),this.outgoingRequest.add(()=>this.loading.set(!1)))}mudaeUpdates$(){return this.http.get(`${this.url}/api/updates`)}findCharactersByUpdate$(e,a){let t=a?Q(T({},a),{updateAdded:e}):{updateAdded:e};return a?.sort=="series"&&(t.groupSeries=!0),this.http.get(`${this.url}/api/updates/${e}`,{params:t})}updateResultData(e,a){return e=Q(T({},a),{results:e.results}),a.type=="series"?e.results=this.appendSeries(e.results,a.results):e.results.push(...a.results),e}appendSeries(e,a){let t=[...e];for(let o of a){let m=e.findIndex(u=>u.id==o.id);if(m<0)t.push(o);else{let u=[...e[m].characters];for(let M of o.characters)e[m].characters.find(G=>G.id==M.id)||u.push(M);o.characters=u,t[m]=o}}return t}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Tr=(i,d)=>d.toString();function Rr(i,d){if(i&1){let e=$();r(0,"mat-chip-row",23),g("removed",function(){let t=I(e).$implicit,o=f();return E(o.removeSeries(t))}),c(1),r(2,"button",24)(3,"mat-icon"),c(4,"cancel"),n()()()}if(i&2){let e=d.$implicit;s(),dt(" ",e," ")}}function Pr(i,d){if(i&1&&(r(0,"mat-option",14),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function Ar(i,d){if(i&1&&(r(0,"mat-option",14),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function Lr(i,d){if(i&1&&(r(0,"mat-option",14),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function qr(i,d){if(i&1&&(r(0,"mat-option",14),c(1),n()),i&2){let e=d.$implicit,a=f();l("value",a.adultOptionValue(e)),s(),x(e)}}function Vr(i,d){if(i&1&&(r(0,"mat-option",14),c(1),n()),i&2){let e=d.$implicit,a=f();l("value",a.favoriteOptionValue(e)),s(),x(e)}}function zr(i,d){if(i&1&&(r(0,"mat-option",14),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function Br(i,d){if(i&1&&(r(0,"mat-option",14),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function Ur(i,d){if(i&1&&(r(0,"mat-option",14),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}var ha=(()=>{class i extends Ft{constructor(){super(),this.searchSeries=O([]),this.form.status=new S([])}ngOnInit(){this.form.updateAdded.setValue(this.mudaeUpdates()[0]),super.ngOnInit()}setFormValuesOnRouting(e){let{update:a}=e,{series:t,updateAdded:o,gender:m,category:u,adult:M,favorited:G,sort:Ue,desc:$e,status:we}=e;t&&(this.form.series.setValue(t),typeof t=="string"?this.searchSeries.set([t]):this.searchSeries.set([...t])),a?this.form.updateAdded.setValue(a):o&&this.form.updateAdded.setValue(o),m&&(typeof m=="string"?this.form.gender.setValue([m]):this.form.gender.setValue([...m])),u&&(typeof u=="string"?this.form.category.setValue([u]):this.form.category.setValue([...u])),M&&this.form.adult.setValue(M),G&&this.form.favorited.setValue(G),Ue&&this.form.sort.setValue(Ue),$e&&this.form.desc.setValue($e),we&&(typeof we=="string"?this.form.status.setValue([we]):this.form.status.setValue([...we]))}add(e){let a=(e.value||"").trim();a&&this.searchSeries.update(t=>[...t,a]),e.chipInput.clear()}removeSeries(e){this.searchSeries.update(a=>{let t=a.indexOf(e);return t<0||a.splice(t,1),a}),this.form.series.setValue(this.searchSeries())}get statusOptions(){return["owned","lost","unclaimed"]}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-update-filter"]],features:[te],decls:67,vars:11,consts:[["currentSearch",""],[1,"mudae-filter"],[1,"search-container"],["appearance","outline",1,"search"],["aria-label","Enter series",3,"formControl"],[1,"test"],["placeholder","Series ...",3,"matChipInputTokenEnd","matChipInputFor"],["mat-fab","",1,"filter-btn","series-btn",3,"click"],[1,"filter-btn-text"],["mat-stroked-button","","matSuffix","",1,"filter-btn","series-btn",3,"click"],["accordian","",1,"filters",3,"isShownChange","isShown"],[1,"filter-controls"],["appearance","outline",1,"filter-control","update-control"],["placeholder","Update Added ...",1,"filter-option",3,"formControl"],[1,"filter-option",3,"value"],["appearance","outline",1,"filter-control"],["placeholder","Genders ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Category ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Is 18+? ...",1,"filter-option",3,"formControl"],["placeholder","Is Favorited? ...",1,"filter-option",3,"formControl"],["placeholder","Status ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Sort ...",1,"filter-option",3,"formControl"],["placeholder","Order ...",1,"filter-option",3,"formControl"],[1,"test",3,"removed"],["matChipRemove","","aria-label","'remove ' + series"]],template:function(a,t){if(a&1){let o=$();r(0,"div",1)(1,"div",2)(2,"mat-form-field",3)(3,"mat-label"),c(4,"Search Series"),n(),r(5,"mat-chip-grid",4,0),b(7,Rr,5,1,"mat-chip-row",5,Tr),n(),r(9,"input",6),g("matChipInputTokenEnd",function(u){return I(o),E(t.add(u))}),n()(),r(10,"button",7),g("click",function(){return I(o),E(t.toggleFiltersDisplay())}),r(11,"mat-icon"),c(12,"filter_list"),n(),r(13,"span",8),c(14,"Filter"),n()(),r(15,"button",9),g("click",function(){return I(o),E(t.applyFilters())}),c(16,"GO"),n()(),r(17,"div",10),pt("isShownChange",function(u){return I(o),mt(t.isExpanded,u)||(t.isExpanded=u),E(u)}),r(18,"div",11)(19,"mat-form-field",12)(20,"mat-label"),c(21,"Update"),n(),r(22,"mat-select",13),b(23,Pr,2,2,"mat-option",14,F),n()(),r(25,"mat-form-field",15)(26,"mat-label"),c(27,"Genders"),n(),r(28,"mat-select",16),b(29,Ar,2,2,"mat-option",14,F),n()(),r(31,"mat-form-field",15)(32,"mat-label"),c(33,"Category"),n(),r(34,"mat-select",17),b(35,Lr,2,2,"mat-option",14,F),n()(),r(37,"mat-form-field",15)(38,"mat-label"),c(39,"Adult"),n(),r(40,"mat-select",18),b(41,qr,2,2,"mat-option",14,F),n()(),r(43,"mat-form-field",15)(44,"mat-label"),c(45,"Favorites"),n(),r(46,"mat-select",19),b(47,Vr,2,2,"mat-option",14,F),n()(),r(49,"mat-form-field",15)(50,"mat-label"),c(51,"Status"),n(),r(52,"mat-select",20),b(53,zr,2,2,"mat-option",14,F),n()(),r(55,"mat-form-field",15)(56,"mat-label"),c(57,"Sort"),n(),r(58,"mat-select",21),b(59,Br,2,2,"mat-option",14,F),n()(),r(61,"mat-form-field",15)(62,"mat-label"),c(63,"Desc"),n(),r(64,"mat-select",22),b(65,Ur,2,2,"mat-option",14,F),n()()()()()}if(a&2){let o=Ee(6);s(5),l("formControl",t.form.series),s(2),y(t.searchSeries()),s(2),l("matChipInputFor",o),s(8),lt("isShown",t.isExpanded),s(5),l("formControl",t.form.updateAdded),s(),y(t.mudaeUpdates()),s(5),l("formControl",t.form.gender),s(),y(t.genderOptions),s(5),l("formControl",t.form.category),s(),y(t.categoryOptions),s(5),l("formControl",t.form.adult),s(),y(t.adultOptions),s(5),l("formControl",t.form.favorited),s(),y(t.favoriteOptions),s(5),l("formControl",t.form.status),s(),y(t.statusOptions),s(5),l("formControl",t.form.sort),s(),y(t.sortOptions),s(5),l("formControl",t.form.desc),s(),y(t.orderOptions)}},dependencies:[Ce,ye,be,bt,Le,Ae,Be,ze,Pe,j,X,ut,Ot,It,Et,kt,Je,qe,J,ee,Z,Dt],styles:[".mudae-filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0rem;padding:.5rem;border:1px solid var(--mudae-dark);border-radius:.25rem;box-shadow:var(--mudae-filter-shadow);background-color:var(--mudae-filter-bg-color);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.mudae-filter-panel[_ngcontent-%COMP%]{margin:0rem;border-radius:0rem!important}.mudae-filter-panel[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.25rem!important;border-top-left-radius:.25rem!important}.mudae-filter-panel[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.mat-expansion-panel-body[_ngcontent-%COMP%]{padding:0rem!important}.filters[_ngcontent-%COMP%]{max-height:0px;overflow:hidden;transition:max-height .25s}.filter-controls[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.5rem;padding-top:2rem;justify-content:center}.filter-control[_ngcontent-%COMP%]{flex-grow:1}.update-control[_ngcontent-%COMP%]{width:100%}.filter-option[_ngcontent-%COMP%]{text-transform:capitalize}.filter-btns[_ngcontent-%COMP%]{display:flex;gap:.5rem}.filter-btn[_ngcontent-%COMP%]{flex:1;height:36px;border-radius:.25rem;letter-spacing:.075rem}.search-container[_ngcontent-%COMP%]{display:flex;gap:.25rem}.update[_ngcontent-%COMP%]{width:8rem}.search[_ngcontent-%COMP%]{flex:1}.series-btn[_ngcontent-%COMP%]{max-width:8rem;height:unset;box-shadow:unset;background-color:transparent;border:1px solid var(--mudae-filter-button-border-color)}.series-btn[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:var(--mudae-white)}.filter-btn-text[_ngcontent-%COMP%]{color:var(--mudae-white)}@media (max-width: 720px){.series-btn[_ngcontent-%COMP%]{max-width:2rem}.filter-btn-text[_ngcontent-%COMP%]{display:none}}"]})}}return i})();var ua=(i,d)=>d.id,$r=()=>[import("./chunk-RYWY4WXD.js").then(i=>i.MudaeSeriesComponent),import("./chunk-4EBSOG6M.js").then(i=>i.MudaeCharacterComponent),ve];function Hr(i,d){if(i&1&&h(0,"mudae-character",6),i&2){let e=d.$implicit,a=f(3);l("character",e)("me",a.me())("showStatus",!0)}}function jr(i,d){if(i&1&&(r(0,"div",3),b(1,Hr,1,3,"mudae-character",6,ua),n()),i&2){let e=f(2);s(),y(e.updateData().results)}}function Nr(i,d){if(i&1&&h(0,"mudae-series",7),i&2){let e=d.$implicit,a=f(4);l("series",e)("me",a.me())("showStatus",!0)}}function Gr(i,d){i&1&&(r(0,"div",8)(1,"h5"),c(2,"No Results Found"),n()())}function Qr(i,d){if(i&1&&v(0,Gr,3,0,"div",8),i&2){let e=f(4);_(e.isLoading()?-1:0)}}function Kr(i,d){if(i&1&&b(0,Nr,1,3,"mudae-series",7,ua,!1,Qr,1,1),i&2){let e=f(3);y(e.updateData().results)}}function Wr(i,d){if(i&1&&(r(0,"div",4),v(1,Kr,3,1),n()),i&2){let e=f(2);s(),_(e.updateData().results?1:-1)}}function Yr(i,d){i&1&&(r(0,"div",5),h(1,"mat-progress-spinner",9),r(2,"span"),c(3,"Loading..."),n()())}function Xr(i,d){if(i&1&&v(0,jr,3,0,"div",3)(1,Wr,2,1,"div",4)(2,Yr,4,0,"div",5),i&2){let e,a=f();_((e=a.updateData().type)==="character"?0:e==="series"?1:-1),s(2),_(a.isLoading()?2:-1)}}var Qt=(()=>{class i{constructor(e,a){this.router=e,this.route=a,this.userService=p(N),this.updateService=p(pa),this.resourceService=p(L),this.throttler=new Ve,this.subs=[],this.me=this.userService.me$,this.isLoading=this.updateService.loading$,this.updateData=this.updateService.updateData$,this.updatesList=this.resourceService.updates$;let t=this.route.params.pipe(oe(this.route.queryParams)).pipe(ne(150)).subscribe(o=>{let{update:m}=this.route.snapshot.params;this.query=this.route.snapshot.queryParams?this.createQueryFromParams(this.route.snapshot.queryParams):this.query,m?this.updateService.searchUpdate(m,this.query):this.router.navigate(["updates",this.updatesList()[0]],{relativeTo:this.route.parent,queryParams:this.query})});this.timeInterval=Me(1e3).subscribe(()=>{let o=window.document.documentElement;!this.updateService.loading$()&&!this.resourceService.loading$()&&o.scrollHeight==o.clientHeight&&this.onScroll()}),this.subs.push(t,this.timeInterval)}ngOnInit(){}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}applyFilters(e){let o=T({},e),{updateAdded:a}=o,t=Ze(o,["updateAdded"]);this.query=t,this.resourceService.settings$().preserveFiltersInHistory?this.router.navigate(["updates",e.updateAdded],{relativeTo:this.route.parent,queryParams:t}):a&&(Object.keys(this.route.snapshot.queryParams).length==0?this.updateService.searchUpdate(a,this.query):this.router.navigate(["updates",e.updateAdded],{relativeTo:this.route.parent,queryParams:void 0}))}onScroll(){let e=window.document.documentElement;e.scrollHeight-(e.scrollTop+e.offsetHeight)<Math.min(2e3,e.scrollHeight*.1)&&this.throttler.throttle(()=>{this.updateService.loadMore()},D.SCROLL_LOAD_DELAY)}createQueryFromParams(e){let a={};for(let t of Object.keys(e)){let o=e[t];o!=null&&(Array.isArray(o)&&o.length==0||(a[t]=e[t]))}return a}static{this.\u0275fac=function(a){return new(a||i)(w(A),w(P))}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-update-characters"]],hostBindings:function(a,t){a&1&&g("scroll",function(){return t.onScroll()},!1,ke)},decls:6,vars:3,consts:[[1,"mudae-list"],[1,"mudae-filter"],[3,"onFilterChange","mudaeUpdates","isExpanded"],[1,"character-list"],[1,"series-list"],[1,"loading"],[3,"character","me","showStatus"],[3,"series","me","showStatus"],[1,"no-results"],["mode","indeterminate"]],template:function(a,t){a&1&&(r(0,"div",0)(1,"div",1)(2,"mudae-update-filter",2),g("onFilterChange",function(m){return t.applyFilters(m)}),n()(),v(3,Xr,3,2),me(4,3,$r),n()),a&2&&(s(2),l("mudaeUpdates",t.updatesList())("isExpanded",!0),s(2),pe(t.me()&&t.me().id!="empty"))},dependencies:[_e,ha],styles:["[_nghost-%COMP%]{position:relative}.mudae-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem}.mudae-filter[_ngcontent-%COMP%]{position:fixed;top:0;width:calc(100% - var(--mudae-nav-width));max-width:calc(var(--mudae-page-width) - var(--mudae-nav-width));padding:.5rem 1rem;z-index:100;display:flex;flex-direction:column;gap:.5rem}.character-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1rem 1.3rem;padding:0rem 1rem;margin-top:4rem;overflow:hidden}.series-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:4rem}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:auto;padding-top:5rem;align-items:center}@media (max-width: 720px){.mudae-filter[_ngcontent-%COMP%]{top:3.5rem}.series-list[_ngcontent-%COMP%]{margin-top:4rem}}"]})}}return i})();var Jr=i=>["claims",i];function Zr(i,d){if(i&1&&h(0,"img",5),i&2){let e=f(2);l("src",e.banner(e.server),de)}}function en(i,d){if(i&1&&(r(0,"div",9),h(1,"img",10),r(2,"span",11),c(3),n()()),i&2){let e=d.$implicit;l("title",e.username)("routerLink",Oe(3,Jr,e.id)),s(3),x(e.username)}}function tn(i,d){if(i&1&&(r(0,"div",1),h(1,"img",2),r(2,"span",3),c(3),n()(),r(4,"div",4),v(5,Zr,1,1,"img",5),r(6,"div",6)(7,"span"),c(8,"# Users:"),n(),r(9,"span"),c(10,"24"),n(),r(11,"span"),c(12,"# Claimed:"),n(),r(13,"span"),c(14,"88,888"),n(),r(15,"span"),c(16,"# Waifu:"),n(),r(17,"span"),c(18,"60,223"),n(),r(19,"span"),c(20,"# Husbando: "),n(),r(21,"span"),c(22,"20,101"),n(),r(23,"span"),c(24,"# Other:"),n(),r(25,"span"),c(26," 8,564"),n()()(),h(27,"my-header",7),r(28,"div",8),b(29,en,4,5,"div",9,F),n()),i&2){let e=f();s(),l("src",e.icon(e.server)+"?size=80",de),s(2),x(e.server.name),s(2),_(e.server.banner!=null?5:-1),s(22),l("lc",e.colors.discordBorder),s(2),y(e.users)}}var fa=(()=>{class i{constructor(e,a){this.router=e,this.route=a,this.resourceService=p(L),this.colors=Ct;let{serverId:t}=this.route.snapshot.params;this.serverId=t,this.serverData=Fe(()=>this.resourceService.servers$().find(o=>o.server.id==t))}ngOnInit(){}banner(e){return`https://cdn.discordapp.com/banners/${e.id}/${e.banner}`}icon(e){return`https://cdn.discordapp.com/icons/${e.id}/${e.icon}`}get server(){let e=this.serverData();if(!(!e||!e.server))return e.server}get users(){let e=this.serverData();if(!(!e||!e.users))return e.users.sort((a,t)=>a.username.toLowerCase().localeCompare(t.username.toLowerCase()))}static{this.\u0275fac=function(a){return new(a||i)(w(A),w(P))}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-server-claims"]],decls:2,vars:1,consts:[[1,"mudae-server-view"],[1,"server-header"],[1,"server-icon",3,"src"],[1,"server-name"],[1,"container"],[1,"server-banner",3,"src"],[1,"server-stats-list"],["text","Users","color","rgb(200,200,200)","lw","3px",3,"lc"],[1,"users-list"],[1,"mudae-user",3,"title","routerLink"],["alt","196190198093185024","src","https://cdn.discordapp.com/avatars/196190198093185024/5619da88ee6b0c609deed87c5cf3d600.png",1,"user-avatar"],[1,"user-username"]],template:function(a,t){a&1&&(r(0,"div",0),v(1,tn,31,4),n()),a&2&&(s(),_(t.server!=null?1:-1))},dependencies:[Oi,fe,ue],styles:[".mudae-server-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.server-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;font-size:1.2rem;padding:1rem;background-color:var(--mudae-medium)}.server-icon[_ngcontent-%COMP%]{height:40px;width:40px;z-index:11}.server-stats-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;max-width:25rem;gap:0rem .75rem;font-size:1.3rem;font-variant-caps:all-petite-caps;letter-spacing:2px;text-shadow:-1px -1px 0 black,1px -1px 0 black,-1px 1px 0 black,1px 1px 0 black;text-wrap:nowrap;z-index:12}.container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row nowrap;gap:2rem}.server-banner[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:100%;mask-image:linear-gradient(to left,rgba(0,0,0,.8),rgba(0,0,0,.5),transparent)}.users-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(min(200px,100%),1fr));gap:1rem 2rem;padding:1rem}.mudae-user[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;gap:1rem;padding:.25rem;border:1px solid black;border-radius:3px;overflow:hidden}.mudae-user[_ngcontent-%COMP%]:hover{scale:1.025;cursor:pointer}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:100%}.user-username[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}"]})}}return i})();var ga=(()=>{class i extends ge{constructor(){super()}getSeries$(e){return this.http.get(`${this.url}/api/series/${e}`)}searchSeries$(e){return this.http.get(`${this.url}/api/series/search`,{params:e})}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var va=(()=>{class i{constructor(){this.seriesService=p(ga),this.characterService=p(ft),this.loading=O(!1),this.loading$=this.loading.asReadonly(),this.searchData=O({type:"none",more:!1,results:[],page:0}),this.searchData$=this.searchData.asReadonly(),this.outgoingRequest&&!this.outgoingRequest.closed&&this.outgoingRequest.unsubscribe(),this.searchData.set({type:"none",more:!1,results:[],page:0})}searchUpdate(e,a){this.outgoingRequest&&!this.outgoingRequest.closed&&this.outgoingRequest.unsubscribe(),this.searchData.set({type:"none",more:!1,results:[],page:0}),this.loading.set(!0),this.lastRequest={type:e,query:a},this.lastRequest.type=="character"?(this.outgoingRequest=this.searchCharacters$(this.lastRequest.query).subscribe({next:t=>{this.searchData.set(t)}}),this.outgoingRequest.add(()=>this.loading.set(!1))):this.lastRequest.type=="series"?(this.outgoingRequest=this.searchSeries$(this.lastRequest.query).subscribe({next:t=>{this.searchData.set(t)}}),this.outgoingRequest.add(()=>this.loading.set(!1))):this.loading.set(!1)}loadMore(){this.loading()||!this.lastRequest||this.lastRequest.type&&this.searchData().more&&(this.loading.set(!0),this.lastRequest.query=Q(T({},this.lastRequest.query),{page:this.lastRequest.query?.page?this.lastRequest.query.page+1:1}),this.lastRequest.type=="character"?(this.outgoingRequest=this.searchCharacters$(this.lastRequest.query).subscribe({next:e=>{this.searchData.update(a=>this.updateResultData(a,e))}}),this.outgoingRequest.add(()=>this.loading.set(!1))):this.lastRequest.type=="series"?(this.outgoingRequest=this.searchSeries$(this.lastRequest.query).subscribe({next:e=>{this.searchData.update(a=>this.updateResultData(a,e))}}),this.outgoingRequest.add(()=>this.loading.set(!1))):this.loading.set(!1))}searchSeries$(e){return this.seriesService.searchSeries$(e)}searchCharacters$(e){return this.characterService.searchCharacter$(e)}updateResultData(e,a){return e=Q(T({},a),{results:e.results}),a.type=="series"?e.results=this.appendSeries(e.results,a.results):e.results.push(...a.results),e}appendSeries(e,a){let t=[...e];for(let o of a){let m=e.findIndex(u=>u.id==o.id);if(m<0)t.push(o);else{let u=[...e[m].characters];for(let M of o.characters)e[m].characters.find(G=>G.id==M.id)||u.push(M);o.characters=u,t[m]=o}}return t}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275prov=B({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var _a=(i,d)=>d.id;function an(i,d){if(i&1&&h(0,"mudae-character",12),i&2){let e=d.$implicit,a=f(2);l("character",e)("me",a.me())}}function rn(i,d){if(i&1&&(r(0,"div",9),b(1,an,1,2,"mudae-character",12,_a),n()),i&2){let e=f();s(),y(e.searchResults().results)}}function nn(i,d){if(i&1&&h(0,"mudae-series",13),i&2){let e=d.$implicit,a=f(3);l("series",e)("me",a.me())}}function on(i,d){i&1&&(r(0,"div",14)(1,"h5"),c(2,"No Results Found"),n()())}function sn(i,d){if(i&1&&v(0,on,3,0,"div",14),i&2){let e=f(3);_(e.isLoading()?-1:0)}}function cn(i,d){if(i&1&&b(0,nn,1,2,"mudae-series",13,_a,!1,sn,1,1),i&2){let e=f(2);y(e.searchResults().results)}}function dn(i,d){if(i&1&&(r(0,"div",10),v(1,cn,3,1),n()),i&2){let e=f();s(),_(e.searchResults().results?1:-1)}}function ln(i,d){i&1&&(r(0,"div",11),h(1,"mat-progress-spinner",15),r(2,"span"),c(3,"Loading..."),n()())}var ba=(()=>{class i{constructor(e,a){this.router=e,this.route=a,this.userService=p(N),this.resourceService=p(L),this.searchService=p(va),this.throttler=new Ve,this.subs=[],this.me=this.userService.me$,this.isLoading=this.searchService.loading$,this.searchResults=this.searchService.searchData$,this.searchQuery={type:"character"},this.searchForm={type:new S,query:new S};let t=this.route.params.pipe(oe(this.route.queryParams)).pipe(ne(150)).subscribe(m=>{let{searchType:u}=this.route.snapshot.params,{q:M}=this.route.snapshot.queryParams;u&&(this.searchQuery.type=u,this.searchForm.type.setValue(u),M?(this.searchForm.query.setValue(M),this.searchService.searchUpdate(u,{q:M})):this.searchService.searchUpdate(u)),console.log(this.searchQuery)}),o=Me(1e3).subscribe(()=>{let m=window.document.documentElement;!this.searchService.loading$()&&!this.resourceService.loading$()&&m.scrollHeight==m.clientHeight&&this.onScroll()});this.subs.push(t,o)}ngOnInit(){let{searchType:e}=this.route.snapshot.params,{q:a}=this.route.snapshot.queryParams;e?(this.searchForm.type.setValue(e),this.searchForm.query.setValue(a)):this.router.navigate(["search",this.searchQuery.type],{relativeTo:this.route.parent,queryParams:{q:a}})}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}search(){this.searchQuery.q=this.searchForm.query.value,this.searchQuery.type=this.searchForm.type.value||"character",this.router.navigate(["search",this.searchQuery.type],{relativeTo:this.route.parent,queryParams:{q:this.searchQuery.q}})}onScroll(){let e=window.document.documentElement,a=e.scrollHeight-(e.scrollTop+e.offsetHeight),t=Math.min(2e3,e.scrollHeight*.1);a<t&&this.throttler.throttle(()=>{this.searchQuery.type&&this.searchService.loadMore()},D.SCROLL_LOAD_DELAY)}static{this.\u0275fac=function(a){return new(a||i)(w(A),w(P))}}static{this.\u0275cmp=C({type:i,selectors:[["search"]],hostBindings:function(a,t){a&1&&g("scroll",function(){return t.onScroll()},!1,ke)},decls:20,vars:4,consts:[[1,"mudae-search","mudae-list"],[1,"search-header"],[1,"search-form","mudae-filter"],["appearance","outline",1,"type"],["placeholder","Character or Series ...",3,"formControl"],["value","character"],["value","series"],["appearance","outline",1,"search"],["matInput","","placeholder","Search ...",3,"keydown.enter","formControl"],[1,"character-list"],[1,"series-list"],[1,"loading"],[3,"character","me"],[3,"series","me"],[1,"no-results"],["mode","indeterminate"]],template:function(a,t){if(a&1&&(r(0,"div",0)(1,"div",1)(2,"span"),c(3,"Search"),n()(),r(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),c(7,"Type"),n(),r(8,"mat-select",4)(9,"mat-option",5),c(10,"Character"),n(),r(11,"mat-option",6),c(12,"Series"),n()()(),r(13,"mat-form-field",7)(14,"mat-label"),c(15,"Search"),n(),r(16,"input",8),g("keydown.enter",function(){return t.search()}),n()()(),v(17,rn,3,0,"div",9)(18,dn,2,1,"div",10)(19,ln,4,0,"div",11),n()),a&2){let o;s(8),l("formControl",t.searchForm.type),s(8),l("formControl",t.searchForm.query),s(),_((o=t.searchResults().type)==="character"?17:o==="series"?18:-1),s(2),_(t.isLoading()?19:-1)}},dependencies:[_e,ve,Ce,yt,ye,be,Be,ze,Pe,ee,gt,J,Z,Di,Fi],styles:["[_nghost-%COMP%]{position:relative}.mudae-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem}.mudae-filter[_ngcontent-%COMP%]{position:fixed;top:0;width:calc(100% - var(--mudae-nav-width));max-width:calc(var(--mudae-page-width) - var(--mudae-nav-width));padding:.5rem 1rem;z-index:100;display:flex;flex-direction:column;gap:.5rem}.character-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1rem 1.3rem;padding:0rem 1rem;margin-top:4rem;overflow:hidden}.series-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:4rem}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:auto;padding-top:5rem;align-items:center}@media (max-width: 720px){.mudae-filter[_ngcontent-%COMP%]{top:3.5rem}.series-list[_ngcontent-%COMP%]{margin-top:4rem}}.search-form[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;padding:1rem;background-color:var(--mudae-filter-bg-color);box-shadow:var(--mudae-filter-shadow);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.search[_ngcontent-%COMP%]{flex:1}.type[_ngcontent-%COMP%]{flex:1;min-width:6rem;max-width:10rem}.search-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;font-size:1.2rem;padding:1rem;background-color:var(--mudae-medium)}"]})}}return i})();var mn=[{path:"home",component:Hi},{path:"search",redirectTo:"search/character"},{path:"search/:searchType",component:ba},{path:"updates",component:Qt},{path:"updates/:update",component:Qt},{path:"servers",component:Ni},{path:"servers/:serverId",component:fa},{path:"servers/:serverId/claims/:userId",component:ma},{path:"**",redirectTo:"home",pathMatch:"full"}],Md=[{path:"login",component:Ti},{path:"logout",component:ji},{path:"on-login",component:Ri},{path:"",component:Ui,loadChildren:()=>mn,canActivate:[$i]}];export{mn as contentRoutes,Md as mudaeRoutes};
