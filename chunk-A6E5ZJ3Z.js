import{a as H,b as z,c as J}from"./chunk-LCBHDNMZ.js";import"./chunk-MAA5GSAZ.js";import"./chunk-OG2F7MK6.js";import{a as R,b as B,g as k,k as L,l as j}from"./chunk-CVYHWQ3C.js";import{A as V,C as $,D as P,b as A,f as b,g as E,q as I,r as D,s as T,t as G,y as O}from"./chunk-XT72EIBI.js";import{J as N}from"./chunk-KCLKHEQV.js";import"./chunk-RVDJVD4K.js";import"./chunk-76PGFOOU.js";import{Dc as w,Rb as p,Sb as d,Tb as Q,Ub as v,Uc as c,Vb as f,Wb as g,Xb as u,Yb as r,Zb as n,_b as F,db as o,dc as M,fc as S,hc as m,ma as x,na as C,ub as q,wc as l,xc as y,ya as h}from"./chunk-W56RDURX.js";function U(i,a){if(i&1&&(r(0,"mat-option",4),l(1),n()),i&2){let e=m().$index,t=m();u("value",t.myQuestion(e)),o(),y(t.myQuestion(e))}}function W(i,a){if(i&1&&(r(0,"mat-option",4),l(1),n()),i&2){let e=a.$implicit;u("value",e),o(),y(e)}}function X(i,a){i&1&&(r(0,"mat-hint"),l(1,"Error: Answer begins or ends with a space"),n())}function Y(i,a){if(i&1){let e=M();r(0,"div",2)(1,"mat-select",3),S("selectionChange",function(){x(e);let s=m();return C(s.updateRemainingQuestions())}),p(2,U,2,2,"mat-option",4),f(3,W,2,2,"mat-option",4,v),n(),r(5,"mat-form-field",5)(6,"mat-label"),l(7,"Answer"),n(),F(8,"input",6),p(9,X,2,0,"mat-hint"),n()()}if(i&2){let e=a.$index,t=m();u("formGroupName",w(e)),o(2),d(t.myQuestion(e)?2:-1),o(),g(t.remainingQuestions()),o(6),d(t.myAnswer(e).hasError("invalidSecurityQuestionAnswerSeq")?9:-1)}}var me=(()=>{class i{constructor(){this.form=c.required(),this.questions=c.required(),this.numberQuestions=c.required(),this.remainingQuestions=h([])}ngOnInit(){this.remainingQuestions.set(this.questions())}getQuestion(e,t){return t?this.questionsFormArray.at(e).controls.answer:this.questionsFormArray.at(e).controls.question}myQuestion(e){return this.getQuestion(e).value}myAnswer(e){return this.getQuestion(e,!0)}updateRemainingQuestions(){let e=[...this.questions()];for(let t=0;t<this.numberQuestions();t++){let s=this.getQuestion(t).value,_=e.findIndex(K=>K==s);_>-1&&e.splice(_,1)}this.remainingQuestions.set(e)}get questionsFormArray(){return this.form().get("questions")}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=q({type:i,selectors:[["security-questions-form"]],inputs:{form:[1,"form"],questions:[1,"questions"],numberQuestions:[1,"numberQuestions"]},decls:4,vars:1,consts:[[3,"formGroup"],["formArrayName","questions",1,"questions"],[1,"question-group",3,"formGroupName"],["formControlName","question","placeholder","Select a Question","required","",3,"selectionChange"],[3,"value"],["appearance","outline",1,"settings-input"],["formControlName","answer","type","password","matInput","","maxlength","256","placeholder","Answer...","required",""]],template:function(t,s){t&1&&(r(0,"div",0)(1,"div",1),f(2,Y,10,4,"div",2,Q),n()()),t&2&&(u("formGroup",s.form()),o(2),g(s.questionsFormArray.controls))},dependencies:[P,A,b,E,O,V,G,T,I,D,$,j,L,k,R,B,N,J,z,H],styles:[".change-question[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;justify-content:center}.questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.question-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.settings-input[_ngcontent-%COMP%]{width:100%}"]})}}return i})();export{me as SecurityQuestionsFormComponent};
