import{a}from"./chunk-4SU4UW77.js";import{G as o,ca as n,ha as u,q as i,u as r,ya as c}from"./chunk-W56RDURX.js";var d=(()=>{class e{static{this.SERVICE_URL="/users/@me/security"}constructor(){this.userService=u(a),this.confirmationResponse="success",this.securedResponse="secured",this.expiry=1e3*600,this.questions=c([]),this.questions$=this.questions.asReadonly(),this.userService.get$(`${e.SERVICE_URL}/questions`).subscribe({next:s=>{this.questions.set(s)}})}requestVerification$(){return this.userService.get$(`${e.SERVICE_URL}`).pipe(r(s=>s.message==this.confirmationResponse))}confirmVerification$(s){return this.userService.post$(`${e.SERVICE_URL}`,{password:s}).pipe(o(t=>i(!1)),r(t=>t.message==this.securedResponse))}isSecured$(){return this.userService.get$(`${e.SERVICE_URL}/status`).pipe(o(s=>i(!1)),r(s=>s.message==this.securedResponse))}static{this.\u0275fac=function(t){return new(t||e)}}static{this.\u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();export{d as a};
