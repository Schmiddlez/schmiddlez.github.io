import{a as L}from"./chunk-LZDPGLQC.js";import{a as B}from"./chunk-I7H33XEW.js";import{b as j}from"./chunk-DW5KVXRS.js";import{a as I,b as T,c as R,d as E,e as D,f as U,g as F,h as z}from"./chunk-ZFOFE4YQ.js";import{a as A,b as V}from"./chunk-QCGIDFDQ.js";import{b as y,d as S}from"./chunk-RA5YA7SP.js";import{i as O}from"./chunk-CG5ODPV4.js";import{$a as h,Ib as k,Lb as P,Ob as x,Tb as i,Ub as c,Vb as u,Xb as _,Zb as m,_b as s,cb as r,db as M,jc as p,kc as b,lc as f,ma as l,na as d,pb as v,tb as w,wb as g}from"./chunk-UUT3EF6T.js";function H(n,C){if(n&1){let t=_();i(0,"button",19),m("click",function(e){l(t);let a=s(2);return d(a.del(e))}),u(1,"mat-icon",20),c()}}function N(n,C){if(n&1){let t=_();i(0,"button",21),m("click",function(){l(t);let e=s(2);return d(e.toggleReadStatus())}),u(1,"mat-icon",22),c()}}function q(n,C){if(n&1){let t=_();i(0,"button",23),m("click",function(){l(t);let e=s(2);return d(e.toggleReadStatus())}),u(1,"mat-icon",24),c()}}function G(n,C){if(n&1){let t=_();i(0,"button",25),m("click",function(e){l(t);let a=s(2);return d(a.fav(e))}),u(1,"mat-icon",26),p(2),c()}if(n&2){let t=s(2);r(2),f(" ",t.post.likes," ")}}function J(n,C){if(n&1){let t=_();i(0,"button",27),m("click",function(e){l(t);let a=s(2);return d(a.fav(e))}),u(1,"mat-icon",28),p(2),c()}if(n&2){let t=s(2);r(2),f(" ",t.post.likes," ")}}function K(n,C){if(n&1){let t=_();i(0,"mat-card",1),m("click",function(e){l(t);let a=s();return d(a.toPost(e))}),i(1,"mat-card-header")(2,"img",2),m("click",function(e){l(t);let a=s();return d(a.toProfile(e))}),c(),i(3,"mat-card-title",3)(4,"span"),p(5),c()(),i(6,"div",4)(7,"span"),p(8),c()(),i(9,"mat-card-subtitle")(10,"div",5),m("click",function(e){l(t);let a=s();return d(a.toProfile(e))}),i(11,"span",6),p(12),c(),u(13,"span"),i(14,"span",7),p(15),c()()()(),i(16,"mat-card-content",8),p(17),c(),i(18,"mat-card-actions",9),g(19,H,2,0,"button",10),i(20,"div",11)(21,"div",12)(22,"span"),p(23,"announcement"),c()()(),g(24,N,2,0,"button",13)(25,q,2,0,"button",14)(26,G,3,1,"button",15)(27,J,3,1,"button",16),i(28,"button",17),m("click",function(e){l(t);let a=s();return d(a.commentPost(e))}),u(29,"mat-icon",18),p(30),c()()()}if(n&2){let t=s();P(t.user==null?null:t.user.customStyles),r(2),k("src",t.post.author.avatar,h)("title",t.post.author.username),r(),k("title",t.post.title),r(2),b(t.post.title),r(3),b(t.date),r(4),b(t.post.author.displayName),r(3),f("@",t.post.author.username,""),r(2),f(" ",t.post.content," "),r(2),x((t.user==null?null:t.user.id)===t.post.author.id?19:-1),r(5),x(t.isRead()?24:25),r(2),x(t.isFav()?26:27),r(4),f(" ",t.post.comments," ")}}var at=(()=>{class n extends j{constructor(t){super(t),this.announcementService=t}isRead(){if(this.user){for(let t of this.user.read_announcements)if(t==this.post.id)return!0}return!1}toggleReadStatus(){this.user&&(this.user.read_announcements.findIndex(o=>o==this.post.id)>-1?this.markUnread():this.markRead())}markRead(){this.announcementService.markAsRead(this.post.id).subscribe(t=>{let o=t.message;this.user&&(this.user.read_announcements.push(o),this.changeRef.markForCheck())})}markUnread(){this.announcementService.markAsUnread(this.post.id).subscribe(t=>{let o=t.message;if(this.user){let e=this.user.likes.findIndex(a=>a==o);this.user.read_announcements.splice(e,1),this.changeRef.markForCheck()}})}static{this.\u0275fac=function(o){return new(o||n)(M(L))}}static{this.\u0275cmp=v({type:n,selectors:[["sns-announcement"]],features:[w],decls:1,vars:1,consts:[["appearance","outlined",1,"post","announcement",3,"style"],["appearance","outlined",1,"post","announcement",3,"click"],["mat-card-avatar","",3,"click","src","title"],[1,"post-title",3,"title"],[1,"post-date"],[1,"author-identification",3,"click"],[1,"author-displayname"],[1,"author-username"],[1,"post-content"],[1,"post-footer"],["type","button","title","Delete Post","mat-fab","","extended","",1,"post-action","delete-post"],["overflow-auto-scroll","",1,"post-categories"],["title","Post Purpose",1,"post-purpose"],["type","button","title","Mark as Unread","mat-fab","",1,"post-action"],["type","button","title","Mark as Read","mat-fab","",1,"post-action"],["type","button","title","Unlike Post","mat-fab","","extended","",1,"post-action"],["type","button","title","Like Post","mat-fab","","extended","",1,"post-action"],["type","button","title","Comment","mat-fab","","extended","",1,"post-action",3,"click"],["aria-hidden","false","aria-label","comment post","fontIcon","comment",1,"action-comment"],["type","button","title","Delete Post","mat-fab","","extended","",1,"post-action","delete-post",3,"click"],["aria-hidden","false","aria-label","delete post","fontIcon","delete",1,"action-delete"],["type","button","title","Mark as Unread","mat-fab","",1,"post-action",3,"click"],["aria-hidden","false","aria-label","Mark as Unread","fontIcon","mark_email_read",1,"action-read"],["type","button","title","Mark as Read","mat-fab","",1,"post-action",3,"click"],["aria-hidden","false","aria-label","Mark as Read","fontIcon","mark_email_unread",1,"action-read"],["type","button","title","Unlike Post","mat-fab","","extended","",1,"post-action",3,"click"],["aria-hidden","false","aria-label","unlike post","fontIcon","favorite",1,"action-like"],["type","button","title","Like Post","mat-fab","","extended","",1,"post-action",3,"click"],["aria-hidden","false","aria-label","like post","fontIcon","favorite_border",1,"action-like"]],template:function(o,e){o&1&&g(0,K,31,14,"mat-card",0),o&2&&x(e.isDeleted?-1:0)},dependencies:[z,I,D,F,R,U,E,T,V,A,S,y,B,O],styles:["mat-card-actions[_ngcontent-%COMP%]{justify-content:end;gap:1rem;padding:0rem 1rem}.post[_ngcontent-%COMP%]{color:#000;border-color:var(--sns-post-border-color);border-radius:5px;overflow:hidden;background-color:var(--sns-post-bg-color)}.post[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--sns-hover-color)}.post-title[_ngcontent-%COMP%], .author-identification[_ngcontent-%COMP%], .post-date[_ngcontent-%COMP%], .post-content[_ngcontent-%COMP%], .post-summary[_ngcontent-%COMP%]{color:var(--sns-post-text-color)}.post-title[_ngcontent-%COMP%]{text-wrap:nowrap;text-overflow:ellipsis;overflow:hidden}.author-identification[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.5rem}.author-displayname[_ngcontent-%COMP%]{text-wrap:nowrap;text-overflow:ellipsis;overflow:hidden}.author-username[_ngcontent-%COMP%]{text-wrap:nowrap;color:var(--sns-username-color)}.post-media[_ngcontent-%COMP%]{max-height:700px;object-fit:cover}.post-action[_ngcontent-%COMP%]{height:1.75rem;box-shadow:none!important;background-color:transparent;color:var(--sns-post-text-color)}.post-action[_ngcontent-%COMP%]:hover{scale:1.05}.delete-post[_ngcontent-%COMP%]{position:absolute;left:1rem}.action-like[_ngcontent-%COMP%]{color:var(--sns-like-post-color)}.action-comment[_ngcontent-%COMP%]{color:var(--sns-comment-post-color)}.action-delete[_ngcontent-%COMP%]{color:red}.post-date[_ngcontent-%COMP%]{flex:1;justify-self:end;text-align:end;text-wrap:nowrap}.post-categories[_ngcontent-%COMP%]{flex:1;font-size:.9rem;display:flex;flex-flow:row nowrap;gap:.5rem;text-overflow:ellipsis}.post-categories[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.post-purpose[_ngcontent-%COMP%], .post-topic[_ngcontent-%COMP%], .post-mood[_ngcontent-%COMP%]{padding:.2rem;border:1px solid rgba(0,0,0,35%);border-radius:.3rem}.post-purpose[_ngcontent-%COMP%]{background-color:var(--sns-post-purpose-color)}.post-topic[_ngcontent-%COMP%]{background-color:var(--sns-post-topic-color)}.post-mood[_ngcontent-%COMP%]{background-color:var(--sns-post-mood-color)}.post-footer[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}@media (max-width:1080px){.post-title[_ngcontent-%COMP%]{font-size:1.25rem}.author-identification[_ngcontent-%COMP%], .post-date[_ngcontent-%COMP%]{font-size:.9rem}.post-content[_ngcontent-%COMP%], .post-summary[_ngcontent-%COMP%]{font-size:1rem}.post-action[_ngcontent-%COMP%]{padding:.25rem}}.announcement[_ngcontent-%COMP%]{text-align:start}.action-read[_ngcontent-%COMP%]{color:#008b8b}"],changeDetection:0})}}return n})();export{at as a};
