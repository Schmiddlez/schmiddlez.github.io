import{a as Ci,b as wi}from"./chunk-EVH4XK5I.js";import{a as _e,b as be,c as $e}from"./chunk-LDB6UGBE.js";import{a as si}from"./chunk-SNIT5WVI.js";import{a as He,b as je}from"./chunk-YQT2ZH4O.js";import"./chunk-3PMNG65X.js";import{a as ye,d as yt,e as Ei,f as Oi,g as Ce,i as Ct,j as we}from"./chunk-4P6JCT6G.js";import{B as Be,C as te,a as $t,b as vt,c as xi,d as Si,e as _t,f as Z,g as Mi,i as bt,j as k,l as ki,n as ee,o as Ii}from"./chunk-ESTKDGOR.js";import{a as Ae}from"./chunk-V2WTJHAE.js";import"./chunk-HU7WFQWJ.js";import{a as _i,b as bi,c as yi}from"./chunk-NTGWZLDD.js";import{a as Ti}from"./chunk-OBNFWP4X.js";import{a as wt}from"./chunk-RFHZPYFY.js";import{a as Fi}from"./chunk-WB74LKWR.js";import{a as ve,b as gt,c as L,d as Di}from"./chunk-TKYFSGGS.js";import{a as ze,b as Ue}from"./chunk-QCGIDFDQ.js";import{a as J,b as ut,d as Q}from"./chunk-RA5YA7SP.js";import{B as Je,C as mi,E as qe,F as pi,G as Bt,H as Ze,I as hi,J as ui,K as fi,O as Ve,S as gi,T as vi,j as Le,k as di,l as Ut,v as li,z as ht}from"./chunk-AE4C5XQ6.js";import{a as ft}from"./chunk-C5RMYWSX.js";import{a as ci}from"./chunk-JLWIDV3F.js";import{b as P,c as ni,d as A,e as fe,f as oi,i as ge}from"./chunk-CG5ODPV4.js";import"./chunk-OQ23N4OO.js";import"./chunk-MCXAIKY4.js";import{d as zt}from"./chunk-MB2EZ7OD.js";import{$,$a as ie,$b as Me,Aa as ct,Ac as Xe,Ba as Se,Bc as Pe,Ca as j,Cc as ai,Db as me,E as oe,Eb as pe,Fa as D,Ga as ri,Hb as U,Ib as l,Kb as he,La as dt,Mb as mt,N as se,Ob as _,P as Jt,Pa as qt,Pb as O,Qb as We,Rb as b,Sb as y,Tb as a,U as nt,Ub as n,V as Zt,Vb as u,W as ce,Xb as q,Yb as Oe,Zb as g,_ as Pt,_b as h,a as F,aa as ot,ac as G,b as B,bb as Ee,c as rt,ca as de,cb as s,cc as X,db as x,dc as Ke,ec as V,fa as p,fc as z,i as Qe,ic as ue,jc as c,kc as w,l as Xt,la as st,lb as Vt,lc as pt,ma as S,mc as Fe,na as M,nc as De,oa as At,oc as Te,pb as C,pc as ke,qa as Lt,qb as lt,qc as re,rb as N,rc as Re,sa as ei,ta as ti,tb as Y,vb as le,wb as v,xa as H,xc as Ye,y as Ie,ya as ii,z as at,zc as R}from"./chunk-UUT3EF6T.js";var T=(()=>{class i{static{this.SCROLL_LOAD_DELAY=750}static{this.MUDAE_TOKEN_COOKIE_NAME="mudae-tokens"}static{this.ANONYMOUS_USER_STORAGE_KEY="mudae-anonymous-user"}static{this.BG_COLOR="#313338"}static{this.INDEX_COLOR="#2b2b2b"}static{this.TEXT_COLOR="#c8c8c8"}}return i})();var ae=class i extends si{static{this.url=`${ci.mudae()}/api/oauth`}constructor(){super(`${i.url}/url`,`${i.url}/tokens`,`${i.url}/refresh`,`${i.url}/logout`,T.MUDAE_TOKEN_COOKIE_NAME)}isValid$(){return this.http.get(`${i.url}/valid`)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=$({token:i,factory:i.\u0275fac,providedIn:"root"})}};var W=(()=>{class i extends ve{constructor(){super(),this.cookieService=p(Ae);let e=localStorage.getItem(T.ANONYMOUS_USER_STORAGE_KEY),r=e?JSON.parse(e):_i();this.me=D(r),this.me$=this.me.asReadonly(),this.cookieService.check(T.MUDAE_TOKEN_COOKIE_NAME)&&this.cookieService.get(T.MUDAE_TOKEN_COOKIE_NAME)!="anonymous"&&this.refreshMe()}refreshMe(){this.getMe$().pipe(Jt(3)).subscribe({next:e=>{e.id!="anonymous"?this.me.set(e):this.me.set(this.me())},error:e=>{this.toastService.show({header:"Error",body:"Failed to retrieve user data.",type:"danger",source_feature:"mudae"}),console.log(e)}})}getMe$(){return this.http.get(`${this.url}/api/users/@me`)}setMe(e){this.me.set(e)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=$({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ri=(()=>{class i{constructor(e,r){this.router=e,this.route=r,this.mudaeLogin=p(ae),this.userService=p(W),this.subs=[],this.returnTo=this.route.snapshot.queryParams.returnTo;let t=this.mudaeLogin.tokensRecieved$.subscribe(o=>{o!=null&&(this.mudaeLogin.setTokenCookie(JSON.stringify(o),new Date(Date.now()+o.expires_in*1e3)),this.redirect())});this.subs.push(t)}ngOnInit(){}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}login(){this.mudaeLogin.login()}guest(){let e=localStorage.getItem(T.ANONYMOUS_USER_STORAGE_KEY);if(console.log("Anon:",e),e){let r=JSON.parse(e);this.userService.setMe(r)}else{let r=bi();localStorage.setItem(T.ANONYMOUS_USER_STORAGE_KEY,JSON.stringify(r)),this.userService.setMe(r)}this.mudaeLogin.setTokenCookie("anonymous"),this.redirect()}redirect(){this.returnTo?this.router.navigateByUrl(this.returnTo):this.router.navigate(["home"],{relativeTo:this.route.parent})}static{this.\u0275fac=function(r){return new(r||i)(x(A),x(P))}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-login"]],decls:13,vars:0,consts:[["id","mudae-login-page",1,"login-page"],[1,"login-container"],[1,"desc"],[1,"login-methods"],[1,"btn-container"],["mat-raised-button","",1,"login-btn",3,"click"]],template:function(r,t){r&1&&(a(0,"div",0)(1,"div",1)(2,"legend"),c(3,"Schmid's Mudae Tracker"),n(),a(4,"div",2),c(5,"Mudae Updates & Server Harems"),n(),a(6,"div",3)(7,"div",4)(8,"button",5),g("click",function(){return t.login()}),c(9,"Login via Discord"),n()(),a(10,"div",4)(11,"button",5),g("click",function(){return t.guest()}),c(12,"Continue as Guest"),n()()()()())},dependencies:[Q,J],styles:["#mudae-login-page[_ngcontent-%COMP%]{padding:3rem}.login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:20rem;padding:1rem;margin:0rem auto;text-align:center;color:var(--mudae-text-color);box-shadow:var(--mudae-character-shadow);border-radius:4px;background-color:var(--mudae-light)}.desc[_ngcontent-%COMP%]{font-variant-caps:all-petite-caps;letter-spacing:1px}.login-methods[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;align-items:center;padding:1rem;margin-top:4rem;margin-bottom:1rem}.btn-container[_ngcontent-%COMP%]{text-align:center}.login-btn[_ngcontent-%COMP%]{border-radius:.5rem}"]})}}return i})();function kr(i,d){i&1&&(a(0,"div"),c(1,"Awaiting Token Response..."),n())}function Ir(i,d){i&1&&(a(0,"div"),c(1,"Tokens Recieved"),n())}function Er(i,d){i&1&&(a(0,"div"),c(1,"Failed to retrieve tokens"),n())}var Pi=(()=>{class i{constructor(e){this.route=e,this.mudaeLogin=p(ae),this.tokenExchangeResult=0}ngOnInit(){let e=this.route.snapshot.queryParams,r=e.code,t=e.state;r&&t&&this.mudaeLogin.getTokens$(r,t).subscribe({next:o=>{window.opener.postMessage(o),this.tokenExchangeResult=1,window.close()},error:o=>{this.tokenExchangeResult=-1}})}static{this.\u0275fac=function(r){return new(r||i)(x(P))}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-on-login"]],decls:4,vars:1,consts:[[1,"on-login"]],template:function(r,t){if(r&1&&(a(0,"div",0),v(1,kr,2,0,"div")(2,Ir,2,0,"div")(3,Er,2,0,"div"),n()),r&2){let o;s(),_((o=t.tokenExchangeResult)===0?1:o===1?2:o===-1?3:-1)}},styles:[".on-login[_ngcontent-%COMP%]{margin:5rem;padding:1rem;color:var(--mudae-text-color)}"]})}}return i})();var Or=["switch"],Fr=["*"];function Dr(i,d){i&1&&(a(0,"span",10),At(),a(1,"svg",12),u(2,"path",13),n(),a(3,"svg",14),u(4,"path",15),n()())}var Tr=new de("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),Rr={provide:$t,useExisting:Pt(()=>Mt),multi:!0},St=class{source;checked;constructor(d,e){this.source=d,this.checked=e}},Mt=(()=>{class i{_elementRef=p(j);_focusMonitor=p(ht);_changeDetectorRef=p(Ye);defaults=p(Tr);_onChange=e=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(e){return new St(this,e)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations;_focused;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new H;toggleChange=new H;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){p(Le).load(Ze);let e=p(new ti("tabindex"),{optional:!0}),r=this.defaults,t=p(dt,{optional:!0});this.tabIndex=e==null?0:parseInt(e)||0,this.color=r.color||"accent",this._noopAnimations=t==="NoopAnimations",this.id=this._uniqueId=p(Je).getId("mat-mdc-slide-toggle-"),this.hideIcon=r.hideIcon??!1,this.disabledInteractive=r.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new St(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=C({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(r,t){if(r&1&&Ke(Or,5),r&2){let o;V(o=z())&&(t._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(r,t){r&2&&(Oe("id",t.id),U("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),mt(t.color?"mat-"+t.color:""),he("mat-mdc-slide-toggle-focused",t._focused)("mat-mdc-slide-toggle-checked",t.checked)("_mat-animation-noopable",t._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",R],color:"color",disabled:[2,"disabled","disabled",R],disableRipple:[2,"disableRipple","disableRipple",R],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Xe(e)],checked:[2,"checked","checked",R],hideIcon:[2,"hideIcon","hideIcon",R],disabledInteractive:[2,"disabledInteractive","disabledInteractive",R]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[ke([Rr,{provide:xi,useExisting:i,multi:!0}]),le,st],ngContentSelectors:Fr,decls:13,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,t){if(r&1){let o=q();Me(),a(0,"div",1)(1,"button",2,0),g("click",function(){return S(o),M(t._handleClick())}),u(3,"span",3),a(4,"span",4)(5,"span",5)(6,"span",6),u(7,"span",7),n(),a(8,"span",8),u(9,"span",9),n(),v(10,Dr,5,0,"span",10),n()()(),a(11,"label",11),g("click",function(f){return S(o),M(f.stopPropagation())}),G(12),n()()}if(r&2){let o=ue(2);l("labelPosition",t.labelPosition),s(),he("mdc-switch--selected",t.checked)("mdc-switch--unselected",!t.checked)("mdc-switch--checked",t.checked)("mdc-switch--disabled",t.disabled)("mat-mdc-slide-toggle-disabled-interactive",t.disabledInteractive),l("tabIndex",t.disabled&&!t.disabledInteractive?-1:t.tabIndex)("disabled",t.disabled&&!t.disabledInteractive),U("id",t.buttonId)("name",t.name)("aria-label",t.ariaLabel)("aria-labelledby",t._getAriaLabelledBy())("aria-describedby",t.ariaDescribedby)("aria-required",t.required||null)("aria-checked",t.checked)("aria-disabled",t.disabled&&t.disabledInteractive?"true":null),s(8),l("matRippleTrigger",o)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0),s(),_(t.hideIcon?-1:10),s(),l("for",t.buttonId),U("id",t._labelId)}},dependencies:[ui,vi],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height, 32px);border-radius:var(--mdc-switch-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width, 2px);border-color:var(--mat-switch-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width, 2px);border-color:var(--mat-switch-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-switch-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity, 1);transition:var(--mat-switch-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity, 0);transition:var(--mat-switch-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size, 16px);height:var(--mat-switch-unselected-handle-size, 16px);margin:var(--mat-switch-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size, 24px);height:var(--mat-switch-selected-handle-size, 24px);margin:var(--mat-switch-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size, 24px);height:var(--mat-switch-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size, 28px);height:var(--mat-switch-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size, 40px);height:var(--mdc-switch-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color, var(--mat-sys-on-surface))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color, var(--mat-sys-primary))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mdc-switch-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size, 16px);height:var(--mdc-switch-unselected-icon-size, 16px);fill:var(--mdc-switch-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size, 16px);height:var(--mdc-switch-selected-icon-size, 16px);fill:var(--mdc-switch-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-switch-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-switch-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-switch-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-switch-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-switch-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return i})();var Ai=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=lt({type:i});static \u0275inj=ot({imports:[Mt,qe,qe]})}return i})();var Li=(()=>{class i{constructor(){this.resourcesService=p(L),this.toastService=p(ft),this.form={},this.onClose=ct(),this.settings=this.resourcesService.settings$,this.currentSettings=this.settings(),this.form.hideAdultSeries=new k(this.settings().hideAdultSeries),this.form.hideAdultCharacters=new k(this.settings().hideAdultCharacters),this.form.displayCharacterRank=new k(this.settings().displayCharacterRank),this.form.displayCharacterSeries=new k(this.settings().displayCharacterSeries),this.form.preserveFiltersInHistory=new k(this.settings().preserveFiltersInHistory)}ngOnInit(){}saveSettings(){let e={};for(let r of Object.keys(this.form)){let t=this.form[r].value;e[r]=t||!1}this.resourcesService.saveSettings(e),this.onClose.emit(!0),this.toastService.show({type:"success",source_feature:"mudae",header:"Settings Saved",delay:1500})}close(){this.onClose.emit(!1)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-settings"]],outputs:{onClose:"onClose"},decls:44,vars:5,consts:[[1,"mudae-settings"],[1,"mudae-settings-header","settings-header"],[1,"series-settings"],[1,"settings-header"],[1,"settings-list"],[1,"setting"],[1,"toggle-btn",3,"formControl"],[1,"character-settings"],[1,"general-settings"],[1,"buttons"],["mat-stroked-button","","matSuffix","",1,"save-settings-btn",3,"click"]],template:function(r,t){r&1&&(a(0,"div",0)(1,"div",1)(2,"h3"),c(3,"Settings"),n()(),a(4,"div",2)(5,"div",3)(6,"h4"),c(7,"Series Settings"),n()(),a(8,"div",4)(9,"div",5)(10,"span"),c(11,"Hide 18+ Series"),n(),u(12,"mat-slide-toggle",6),n()()(),a(13,"div",7)(14,"div",3)(15,"h4"),c(16,"Character Settings"),n()(),a(17,"div",4)(18,"div",5)(19,"span"),c(20,"Hide 18+ Characters"),n(),u(21,"mat-slide-toggle",6),n(),a(22,"div",5)(23,"span"),c(24,"Display Character's Rank"),n(),u(25,"mat-slide-toggle",6),n(),a(26,"div",5)(27,"span"),c(28,"Display Character's Series"),n(),u(29,"mat-slide-toggle",6),n()()(),a(30,"div",8)(31,"div",3)(32,"h4"),c(33,"General Settings"),n()(),a(34,"div",4)(35,"div",5)(36,"span"),c(37,"Preserve Filter Settings in History"),n(),u(38,"mat-slide-toggle",6),n()()(),a(39,"div",9)(40,"button",10),g("click",function(){return t.close()}),c(41,"Cancel"),n(),a(42,"button",10),g("click",function(){return t.saveSettings()}),c(43,"Save Settings"),n()()()),r&2&&(s(12),l("formControl",t.form.hideAdultSeries),s(9),l("formControl",t.form.hideAdultCharacters),s(4),l("formControl",t.form.displayCharacterRank),s(4),l("formControl",t.form.displayCharacterSeries),s(9),l("formControl",t.form.preserveFiltersInHistory))},dependencies:[te,Z,ee,Ai,Mt,Q,J],styles:[".mudae-settings[_ngcontent-%COMP%]{position:relative}.mudae-settings-header[_ngcontent-%COMP%]{background-color:var(--mudae-dark)}.settings-header[_ngcontent-%COMP%]{text-align:center;padding:1rem}.settings-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.25rem 1rem;align-items:center}.setting[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:1rem;align-items:center;justify-content:center;min-width:20rem}.toggle-btn[_ngcontent-%COMP%]{margin-left:auto}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:2.5rem;padding:2.5rem 1rem}.save-settings-btn[_ngcontent-%COMP%]{font-size:1rem;border-radius:4px;background-color:var(--mudae-text-color)}"]})}}return i})();var Ar=()=>[import("./chunk-NMJE5SEY.js").then(i=>i.MudaeUserInfoComponent)],qi=()=>["home"],Vi=()=>["updates"],zi=()=>["logout"],Bi=()=>["servers"];function Lr(i,d){i&1&&(a(0,"div",1)(1,"h2"),c(2,"Initializing Data"),n(),u(3,"mat-progress-spinner",21),n())}function qr(i,d){if(i&1&&u(0,"mudae-user-info",22),i&2){let e=h();l("user",e.me())}}function Vr(i,d){if(i&1&&(a(0,"a",8),u(1,"mat-icon",23),c(2," My Servers "),n()),i&2){let e=h();l("routerLink",e.isActive("/servers")?null:re(1,Bi))}}function zr(i,d){if(i&1&&(u(0,"mat-divider",16),a(1,"a",8),u(2,"mat-icon",23),n()),i&2){let e=h();l("vertical",!0),s(),l("routerLink",e.isActive("/servers")?null:re(2,Bi))}}function Ur(i,d){i&1&&(a(0,"section",19),u(1,"router-outlet"),n())}function Br(i,d){if(i&1){let e=q();a(0,"mudae-settings",24),g("onClose",function(t){S(e);let o=h();return M(o.closeSettings(t))}),n()}}var $i=(()=>{class i{constructor(e){this.router=e,this.userService=p(W),this.resourceService=p(L),this.characterService=p(gt),this.settingsShown=D(!1),this.me=this.userService.me$,this.userService.refreshMe(),this.updatesLoading=this.resourceService.updateLoading$,this.initializing=Pe(()=>this.resourceService.loading$()||this.userService.me$().id=="empty"),this.characterService.characterChanges$.subscribe(r=>{if(!this.me)return;let t=this.me();switch(r.action){case"FAVORITE":t.favorites.push(r.characterId);break;case"UNFAVORITE":this.removeCharacterFromList(r.characterId,t.favorites);break;case"UNCLAIMED":this.removeCharacterFromList(r.characterId,t.owned),this.removeCharacterFromList(r.characterId,t.lost);break;case"OWNED":this.removeCharacterFromList(r.characterId,t.lost),t.owned.push(r.characterId);break;case"LOST":this.removeCharacterFromList(r.characterId,t.owned),t.lost.push(r.characterId);break}})}ngOnInit(){}get avatar(){return yi(this.me())}isActive(e){let r="/mudae",t={fragment:"ignored",matrixParams:"ignored",paths:"subset",queryParams:"ignored"};return this.router.isActive(r+e,t)}showSettings(){this.settingsShown.set(!0)}closeSettings(e){this.settingsShown.set(!1)}removeCharacterFromList(e,r){var t=r.findIndex(o=>o==e);t>-1&&r.splice(t,1)}static{this.\u0275fac=function(r){return new(r||i)(x(A))}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-index"]],decls:39,vars:23,consts:[["id","mudae-index",1,"index"],[1,"initalizing"],[1,"index-sections",3,"hidden"],[1,"user_and_nav"],[1,"side-bar"],["id","user"],["id","navigation"],[1,"nav-list"],["routerLinkActive","router-link-active",1,"nav-link",3,"routerLink"],["fontIcon","home"],["fontIcon","update"],[1,"nav-link",3,"click"],["fontIcon","settings"],["routerLinkActive","router-link-active",1,"nav-link","logout",3,"routerLink"],["fontIcon","logout"],[1,"upper-nav"],[3,"vertical"],[1,"avatar-container",3,"title"],[1,"user-avatar",3,"alt","src"],["id","content"],[1,"mudae-settings"],["mode","indeterminate"],[3,"user"],["fontIcon","group"],[1,"mudae-settings",3,"onClose"]],template:function(r,t){r&1&&(a(0,"div",0),v(1,Lr,4,0,"div",1),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"section",5),v(6,qr,1,1),me(7,6,Ar),n(),a(9,"section",6)(10,"div",7)(11,"a",8),u(12,"mat-icon",9),c(13," Home "),n(),a(14,"a",8),u(15,"mat-icon",10),c(16," Updates "),n(),v(17,Vr,3,2,"a",8),a(18,"a",11),g("click",function(){return t.showSettings()}),u(19,"mat-icon",12),c(20," Settings "),n(),a(21,"a",13),u(22,"mat-icon",14),c(23," Logout "),n()()()()(),a(24,"div",15)(25,"a",8),u(26,"mat-icon",9),n(),u(27,"mat-divider",16),a(28,"a",8),u(29,"mat-icon",10),n(),v(30,zr,3,3),a(31,"a",11),g("click",function(){return t.showSettings()}),u(32,"mat-icon",12),n(),a(33,"a",13),u(34,"mat-icon",14),n(),a(35,"div",17),u(36,"img",18),n()(),v(37,Ur,2,0,"section",19)(38,Br,1,0,"mudae-settings",20),n()()),r&2&&(s(),_(t.initializing()?1:-1),s(),l("hidden",t.initializing()),s(5),pe(t.me),s(4),l("routerLink",t.isActive("/home")?null:re(17,qi)),s(3),l("routerLink",t.isActive("/updates")?null:re(18,Vi)),s(3),_(t.me().id!="anonymous"?17:-1),s(4),l("routerLink",t.isActive("/logout")?null:re(19,zi)),s(4),l("routerLink",t.isActive("/home")?null:re(20,qi)),s(2),l("vertical",!0),s(),l("routerLink",t.isActive("/updates")?null:re(21,Vi)),s(2),_(t.me().id!="anonymous"?30:-1),s(3),l("routerLink",t.isActive("/logout")?null:re(22,zi)),s(2),l("title",t.me().username),s(),l("alt",t.me().name)("src",t.avatar,ie),s(),_(t.updatesLoading()?-1:37),s(),_(t.settingsShown()?38:-1))},dependencies:[ge,ni,fe,oi,Ue,ze,Q,be,_e,wi,Ci,Li],styles:[".index[_ngcontent-%COMP%]{min-height:100%;width:100%;max-width:1440px;margin:0 auto;color:var(--mudae-text-color)}.initalizing[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:5rem .5rem;align-items:center}.index-sections[_ngcontent-%COMP%]{height:100%;width:100%}.mudae-settings[_ngcontent-%COMP%]{position:fixed;top:1.5rem;left:1.5rem;width:calc(100% - 3rem);height:calc(100% - 3rem);border-radius:5px;background-color:#1e1e1ecc;-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur);overflow:hidden;z-index:200}.user_and_nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:fixed;top:0rem;width:var(--mudae-nav-width);height:calc(100% - 2rem);padding:1rem;box-sizing:border-box}.side-bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:sticky;top:0}#navigation[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.nav-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1.25rem;padding-top:1rem}.nav-link[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.25rem;align-items:end;text-decoration:none;color:var(--mudae-link-color)}.nav-link[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--mudae-link-hover-color)}.logout[_ngcontent-%COMP%]{margin-top:auto}#content[_ngcontent-%COMP%]{min-height:100vh;margin-left:var(--mudae-nav-width);padding:1rem 0rem;background-color:var(--mudae-content-bg-color)}.upper-nav[_ngcontent-%COMP%]{display:none;width:100%;background-color:var(--mudae-index-bg-color)}.avatar-container[_ngcontent-%COMP%]{height:100%}.user-avatar[_ngcontent-%COMP%]{height:100%;border-radius:100%}@media (max-width: 720px){.user_and_nav[_ngcontent-%COMP%]{visibility:hidden;transform:translate(-100%)}#content[_ngcontent-%COMP%]{margin-left:0rem}.push-right[_ngcontent-%COMP%]{margin-left:var(--mudae-nav-width)!important}.upper-nav[_ngcontent-%COMP%]{position:sticky;top:0rem;display:flex;gap:1.5rem;height:3.5rem;padding:.5rem .5rem .5rem 1.5rem;z-index:50}.logout[_ngcontent-%COMP%]{margin-left:auto}.nav-link[_ngcontent-%COMP%]{margin-bottom:.5rem}}"]})}}return i})();var Hi=(i,d)=>{let e=p(A),r=p(Ae),t=T.MUDAE_TOKEN_COOKIE_NAME,o=()=>(e.navigate(["/mudae/login"],{queryParams:{returnTo:d.url}}),Xt);return r.check(t)?!0:o()};var Hr=()=>[import("./chunk-2C32DJL7.js").then(i=>i.MyHeaderComponent),Ct,Ce,ye,ki,vt,Z,Mi,bt,ee,fe],jr=i=>["../updates",i];function Nr(i,d){if(i&1&&(a(0,"div",9)(1,"div",18),c(2),n(),a(3,"div",19),c(4),n()()),i&2){let e=d.$implicit;l("routerLink",Re(3,jr,e.update)),s(2),w(e.year),s(2),w(e.monthday)}}function Gr(i,d){if(i&1){let e=q();a(0,"div",1)(1,"div",2)(2,"span"),c(3,"Welcome"),n()(),a(4,"div",3)(5,"span"),c(6,"Latest Update"),n(),c(7," View to latest set of characters added"),n(),a(8,"div",3)(9,"span"),c(10,"Series Search"),n(),c(11," Find a series in the bot"),n(),a(12,"div",3)(13,"span"),c(14,"Character Search"),n(),c(15," Find a character in the bot"),n()(),a(16,"section",4)(17,"div",5),u(18,"div",6)(19,"my-header",7)(20,"div",6),n(),a(21,"div",8),b(22,Nr,5,5,"div",9,O),n()(),a(24,"section",10)(25,"div",5),u(26,"div",6)(27,"my-header",11)(28,"div",6),n(),a(29,"form",12)(30,"mat-form-field",13)(31,"mat-label"),c(32,"Search Series"),n(),a(33,"input",14),g("keydown.enter",function(){S(e);let t=h();return M(t.searchSeries())}),n()()()(),a(34,"section",15)(35,"div",5),u(36,"div",6)(37,"my-header",16)(38,"div",6),n(),a(39,"form",12)(40,"mat-form-field",13)(41,"mat-label"),c(42,"Search Character"),n(),a(43,"input",17),g("keydown.enter",function(){S(e);let t=h();return M(t.searchCharacter())}),n()()()()}if(i&2){let e=h();s(19),l("color",e.colors.discordContenttext)("lc","rgba(135, 206, 250,.5)"),s(3),y(e.updates),s(5),l("color",e.colors.discordContenttext)("lc","rgba(135, 206, 250,.5)"),s(6),l("formControl",e.search),s(4),l("color",e.colors.discordContenttext)("lc","rgba(135, 206, 250,.5)"),s(6),l("formControl",e.search)}}var ji=(()=>{class i{constructor(e,r){this.router=e,this.route=r,this.userService=p(W),this.resourceService=p(L),this.search=new k(""),this.me=this.userService.me$}ngOnInit(){}get updates(){return this.resourceService.updates$().map(e=>({update:e,monthday:e.charAt(0).toUpperCase()+e.substring(1,3),year:e.substring(3)}))}get colors(){return wt}searchSeries(){let e=this.search.value;if(/\S/.test(e)){let r={q:this.search.value,type:"series"};this.router.navigate(["search/series"],{queryParams:r,relativeTo:this.route.parent})}}searchCharacter(){let e=this.search.value;if(/\S/.test(e)){let r={q:this.search.value,type:"character"};this.router.navigate(["search/character"],{queryParams:r,relativeTo:this.route.parent})}}static{this.\u0275fac=function(r){return new(r||i)(x(A),x(P))}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-home"]],decls:4,vars:1,consts:[[1,"mudae-home"],[1,"welcome-panel"],[1,"welcome-message"],[1,"welcome-info"],["id","updates-section"],[1,"home-header"],[1,"square"],["text","Latest Updates","type","h2","lw","2px","r","4px",1,"series-header",3,"color","lc"],[1,"updates-list"],[1,"update",3,"routerLink"],["id","series-lookup"],["text","Series Search","type","h2","lw","2px","r","4px",1,"series-header",3,"color","lc"],[1,"search-form"],["appearance","outline",1,"search"],["matInput","","placeholder","Series ...",3,"keydown.enter","formControl"],["id","character-lookup"],["text","Character Search","type","h2","lw","2px","r","4px",1,"character-header",3,"color","lc"],["matInput","","placeholder","Character ...",3,"keydown.enter","formControl"],[1,"update-year"],[1,"update-monthday"]],template:function(r,t){r&1&&(a(0,"div",0),v(1,Gr,44,8),me(2,1,Hr),n()),r&2&&(s(2),pe(t.me().id!="empty"))},dependencies:[we,Be,te,ge],styles:["[_nghost-%COMP%]{flex:1;position:relative;overflow-x:hidden}.mudae-home[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem}.home-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.5rem;border-radius:4px}my-header[_ngcontent-%COMP%]{flex:1}.square[_ngcontent-%COMP%]{display:flex;width:1rem;height:1rem;margin:auto 0rem;border-radius:4px;background-color:var(--link-color)}.welcome-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;height:15rem;padding:1rem;box-sizing:border-box;border-bottom:4px solid var(--mudae-medium)}.welcome-message[_ngcontent-%COMP%]{text-align:center;font-size:1.3rem}.welcome-info[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1rem;font-size:1.1rem}.welcome-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.show-more[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;padding:.5rem;border:2px solid var(--mudae-dark);border-radius:4px;background-color:var(--mudae-medium);box-shadow:2px 3px var(--mudae-medium)}.show-more[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.75}.show-more[_ngcontent-%COMP%]:active{opacity:.95}#updates-section[_ngcontent-%COMP%], #series-lookup[_ngcontent-%COMP%], #character-lookup[_ngcontent-%COMP%], #search-section[_ngcontent-%COMP%]{margin:1rem 2rem;display:flex;flex-direction:column;gap:1rem}.updates-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;padding:.5rem .5rem 1rem;gap:1rem}.updates-list[_ngcontent-%COMP%]::-webkit-scrollbar{height:.25rem}.updates-list[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:var(--mudae-medium);border-radius:4px}.updates-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--mudae-card-text-color);border-radius:4px}.update[_ngcontent-%COMP%]{flex-shrink:0;display:flex;flex-flow:row nowrap;align-items:center;font-size:1.2rem;width:9rem;border:3px solid var(--mudae-medium);border-radius:4px;box-shadow:2px 4px var(--mudae-medium)}.update[_ngcontent-%COMP%]:hover{scale:1.05;cursor:pointer}.update-year[_ngcontent-%COMP%]{padding:.5rem;background-color:var(--mudae-medium)}.update-monthday[_ngcontent-%COMP%]{flex:1;text-align:center}.search-form[_ngcontent-%COMP%]{flex:1}.search[_ngcontent-%COMP%]{width:100%}"]})}}return i})();var Ni=(()=>{class i{constructor(e,r){this.router=e,this.route=r,this.mudaeLogin=p(ae),this.cookieService=p(Ae)}ngOnInit(){}logout(){this.mudaeLogin.logout$().subscribe(e=>{this.cookieService.delete(T.MUDAE_TOKEN_COOKIE_NAME),this.router.navigate(["login"],{relativeTo:this.route.parent})})}return(){this.router.navigate(["home"],{relativeTo:this.route.parent})}static{this.\u0275fac=function(r){return new(r||i)(x(A),x(P))}}static{this.\u0275cmp=C({type:i,selectors:[["logout-page"]],decls:7,vars:0,consts:[[1,"logout-page"],[1,"btn-container"],["mat-raised-button","",1,"logout-btn",3,"click"]],template:function(r,t){r&1&&(a(0,"div",0)(1,"div",1)(2,"button",2),g("click",function(){return t.logout()}),c(3,"Logout"),n()(),a(4,"div",1)(5,"button",2),g("click",function(){return t.return()}),c(6,"Return to home"),n()()())},dependencies:[Q,J],styles:[".btn-container[_ngcontent-%COMP%]{text-align:center;margin:auto;padding:5rem 0rem}.logout-btn[_ngcontent-%COMP%]{border-radius:.5rem}"]})}}return i})();var Qr=i=>[i];function Wr(i,d){if(i&1&&u(0,"img",5),i&2){let e=h().$implicit,r=h();l("src",r.banner(e),ie)}}function Kr(i,d){if(i&1&&(a(0,"div",3)(1,"div",4),v(2,Wr,1,1,"img",5),u(3,"img",6),a(4,"div",7),c(5),n()()()),i&2){let e=d.$implicit,r=h();s(),l("routerLink",Re(4,Qr,e.id)),s(),_(e.banner!=null?2:-1),s(),l("src",r.icon(e)+"?size=80",ie),s(2),w(e.name)}}var Gi=(()=>{class i{constructor(){this.resourceService=p(L),this.servers=Pe(()=>this.resourceService.servers$().map(e=>e.server))}ngOnInit(){}banner(e){return`https://cdn.discordapp.com/banners/${e.id}/${e.banner}`}icon(e){return`https://cdn.discordapp.com/icons/${e.id}/${e.icon}`}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-servers"]],decls:6,vars:0,consts:[[1,"mudae-servers"],[1,"list-header"],[1,"server-list"],[1,"mudae-server-container"],[1,"mudae-server",3,"routerLink"],[1,"mudae-server-banner",3,"src"],[1,"mudae-server-icon",3,"src"],[1,"mudae-server-name"]],template:function(r,t){r&1&&(a(0,"div",0)(1,"div",1),c(2,"Your Server List"),n(),a(3,"div",2),b(4,Kr,6,6,"div",3,O),n()()),r&2&&(s(4),y(t.servers()))},dependencies:[ge,fe],styles:["[_nghost-%COMP%]{position:relative}.mudae-servers[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.list-header[_ngcontent-%COMP%]{font-size:1.2rem;padding:1rem;background-color:var(--mudae-medium)}.server-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-between;gap:1.5rem;padding:1rem}.mudae-server-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;max-width:calc(50% - 1rem);box-shadow:8px 7px #0003}.mudae-server[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;align-items:center;gap:.25rem;border:1px solid black;border-radius:3px;overflow:hidden}.mudae-server[_ngcontent-%COMP%]:hover{cursor:pointer;scale:1.025}.mudae-server-icon[_ngcontent-%COMP%]{height:80px;width:80px;z-index:11}.mudae-server-name[_ngcontent-%COMP%]{font-size:1.1rem;text-shadow:2px 3px black;text-overflow:ellipsis;padding:0rem .5rem;z-index:10}.mudae-server-banner[_ngcontent-%COMP%]{position:absolute;right:0;height:80px;mask-image:linear-gradient(to left,rgba(0,0,0,.8),rgba(0,0,0,.5),transparent)}"]})}}return i})();var Qi=(()=>{class i extends ve{constructor(){super(),this.loading=D(!1),this.loading$=this.loading.asReadonly(),this.claimData=D({type:"none",more:!1,results:[],page:0}),this.claimData$=this.claimData.asReadonly(),this.lastRequest={}}searchClaims(e,r,t){this.outgoingRequest&&!this.outgoingRequest.closed&&this.outgoingRequest.unsubscribe(),this.claimData.set({type:"none",more:!1,results:[],page:0}),this.loading.set(!0),this.lastRequest={serverId:e,claimerId:r,query:t},this.outgoingRequest=this.findClaimsByUser$(e,r,t).subscribe({next:o=>{this.claimData.set(o)},error:o=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae claim data.",type:"danger",source_feature:"mudae"}),console.log(o)}}),this.outgoingRequest.add(()=>this.loading.set(!1))}loadMore(){this.loading()||!this.lastRequest||!this.lastRequest.serverId||!this.lastRequest.claimerId||this.claimData().more&&(this.loading.set(!0),this.lastRequest.query=B(F({},this.lastRequest.query),{page:this.lastRequest.query?.page?this.lastRequest.query.page+1:1}),this.outgoingRequest=this.findClaimsByUser$(this.lastRequest.serverId,this.lastRequest.claimerId,this.lastRequest.query).subscribe({next:e=>{this.claimData.update(r=>this.updateResultData(r,e))},error:e=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae claim data.",type:"danger",source_feature:"mudae"}),console.log(e)}}),this.outgoingRequest.add(()=>this.loading.set(!1)))}mudaeUpdates$(){return this.http.get(`${this.url}/api/updates`)}myServers$(){return this.http.get(`${this.url}/api/servers`)}serverUsers$(e){return this.http.get(`${this.url}/api/servers/${e}/users`)}findClaim$(e,r){return this.http.get(`${this.url}/api/servers/${e}/claims?characterId=${r}`)}findClaimsByUser$(e,r,t){return this.http.get(`${this.url}/api/servers/${e}/claims/${r}`,{params:t||void 0})}updateResultData(e,r){return e=B(F({},r),{results:e.results}),r.type=="series"?e.results=this.appendSeries(e.results,r.results):e.results.push(...r.results),e}appendSeries(e,r){let t=[...e];for(let o of r){let m=e.findIndex(f=>f.id==o.id);if(m<0)t.push(o);else{let f=[...e[m].characters];for(let E of o.characters)e[m].characters.find(K=>K.id==E.id)||f.push(E);o.characters=f,t[m]=o}}return t}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=$({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Zr=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],ea=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function ta(i,d){i&1&&(a(0,"span",3),G(1,1),n())}function ia(i,d){i&1&&(a(0,"span",6),G(1,2),n())}var ra='.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width, 1px);border-radius:var(--mdc-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size, 24px);height:var(--mdc-chip-with-avatar-avatar-size, 24px);font-size:var(--mdc-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius, 8px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mdc-chip-with-icon-icon-size, 18px);height:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}',aa=[[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],na=["mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function oa(i,d){i&1&&u(0,"span",0)}function sa(i,d){i&1&&(a(0,"span",2),G(1),n())}function ca(i,d){i&1&&G(0,1)}function da(i,d){i&1&&u(0,"span",7)}function la(i,d){if(i&1&&v(0,ca,1,0)(1,da,1,0,"span",7),i&2){let e=h();_(e.contentEditInput?0:1)}}function ma(i,d){i&1&&G(0,2)}function pa(i,d){i&1&&(a(0,"span",5),G(1,3),n())}var Zi=["*"],ha=".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}",er=new de("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),Ki=new de("MatChipAvatar"),Yi=new de("MatChipTrailingIcon"),Gt=new de("MatChipRemove"),Kt=new de("MatChip"),kt=(()=>{class i{_elementRef=p(j);_parentChip=p(Kt);isInteractive=!0;_isPrimary=!0;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(e){this._disabled=e}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(){p(Le).load(Ze),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=function(r){return new(r||i)};static \u0275dir=N({type:i,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(r,t){r&1&&g("click",function(m){return t._handleClick(m)})("keydown",function(m){return t._handleKeydown(m)}),r&2&&(U("tabindex",t._getTabindex())("disabled",t._getDisabledAttribute())("aria-disabled",t.disabled),he("mdc-evolution-chip__action--primary",t._isPrimary)("mdc-evolution-chip__action--presentational",!t.isInteractive)("mdc-evolution-chip__action--trailing",!t._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",R],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?-1:Xe(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[le]})}return i})();var It=(()=>{class i extends kt{_isPrimary=!1;_handleClick(e){this.disabled||(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}static \u0275fac=(()=>{let e;return function(t){return(e||(e=Lt(i)))(t||i)}})();static \u0275dir=N({type:i,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(r,t){r&2&&U("aria-hidden",null)},features:[ke([{provide:Gt,useExisting:i}]),Y]})}return i})(),Qt=(()=>{class i{_changeDetectorRef=p(Ye);_elementRef=p(j);_ngZone=p(ii);_focusMonitor=p(ht);_globalRippleOptions=p(hi,{optional:!0});_document=p(zt);_onFocus=new Qe;_onBlur=new Qe;_isBasicChip;role=null;_hasFocusInternal=!1;_pendingFocus;_actionChanges;_animationsDisabled;_allLeadingIcons;_allTrailingIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=p(Je).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_ariaDescriptionId=`${this.id}-aria-description`;_chipListDisabled=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(e){this._disabled=e}_disabled=!1;removed=new H;destroyed=new H;basicChipAttrName="mat-basic-chip";leadingIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=p(gi);_injector=p(ei);constructor(){p(Le).load(Ze),p(Le).load(di);let e=p(dt,{optional:!0});this._animationsDisabled=e==="NoopAnimations",this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){let e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=at(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(e){(e.keyCode===8&&!e.repeat||e.keyCode===46)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(r=>{let t=r._elementRef.nativeElement;return t===e||t.contains(e)})}_getActions(){let e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let r=e!==null;r!==this._hasFocusInternal&&(this._hasFocusInternal=r,r?this._onFocus.next({chip:this}):qt(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=C({type:i,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(r,t,o){if(r&1&&(X(o,Ki,5),X(o,Yi,5),X(o,Gt,5),X(o,Ki,5),X(o,Yi,5),X(o,Gt,5)),r&2){let m;V(m=z())&&(t.leadingIcon=m.first),V(m=z())&&(t.trailingIcon=m.first),V(m=z())&&(t.removeIcon=m.first),V(m=z())&&(t._allLeadingIcons=m),V(m=z())&&(t._allTrailingIcons=m),V(m=z())&&(t._allRemoveIcons=m)}},viewQuery:function(r,t){if(r&1&&Ke(kt,5),r&2){let o;V(o=z())&&(t.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(r,t){r&1&&g("keydown",function(m){return t._handleKeydown(m)}),r&2&&(Oe("id",t.id),U("role",t.role)("aria-label",t.ariaLabel),mt("mat-"+(t.color||"primary")),he("mdc-evolution-chip",!t._isBasicChip)("mdc-evolution-chip--disabled",t.disabled)("mdc-evolution-chip--with-trailing-action",t._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",t.leadingIcon)("mdc-evolution-chip--with-primary-icon",t.leadingIcon)("mdc-evolution-chip--with-avatar",t.leadingIcon)("mat-mdc-chip-with-avatar",t.leadingIcon)("mat-mdc-chip-highlighted",t.highlighted)("mat-mdc-chip-disabled",t.disabled)("mat-mdc-basic-chip",t._isBasicChip)("mat-mdc-standard-chip",!t._isBasicChip)("mat-mdc-chip-with-trailing-icon",t._hasTrailingIcon())("_mat-animation-noopable",t._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",R],highlighted:[2,"highlighted","highlighted",R],disableRipple:[2,"disableRipple","disableRipple",R],disabled:[2,"disabled","disabled",R]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[ke([{provide:Kt,useExisting:i}]),le],ngContentSelectors:ea,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(r,t){r&1&&(Me(Zr),u(0,"span",0),a(1,"span",1)(2,"span",2),v(3,ta,2,0,"span",3),a(4,"span",4),G(5),u(6,"span",5),n()()(),v(7,ia,2,0,"span",6)),r&2&&(s(2),l("isInteractive",!1),s(),_(t.leadingIcon?3:-1),s(4),_(t._hasTrailingIcon()?7:-1))},dependencies:[kt],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width, 1px);border-radius:var(--mdc-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mdc-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mdc-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mdc-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mdc-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size, 24px);height:var(--mdc-chip-with-avatar-avatar-size, 24px);font-size:var(--mdc-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius, 8px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mdc-chip-with-icon-icon-size, 18px);height:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mdc-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mdc-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return i})();var Nt=(()=>{class i{_elementRef=p(j);_document=p(zt);constructor(){}initialize(e){this.getNativeElement().focus(),this.setValue(e)}getNativeElement(){return this._elementRef.nativeElement}setValue(e){this.getNativeElement().textContent=e,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){let e=this._document.createRange();e.selectNodeContents(this.getNativeElement()),e.collapse(!1);let r=window.getSelection();r.removeAllRanges(),r.addRange(e)}static \u0275fac=function(r){return new(r||i)};static \u0275dir=N({type:i,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"]})}return i})(),it=(()=>{class i extends Qt{basicChipAttrName="mat-basic-chip-row";_editStartPending=!1;editable=!1;edited=new H;defaultEditInput;contentEditInput;_isEditing=!1;constructor(){super(),this.role="row",this._onBlur.pipe(ce(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish()})}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(e){e.keyCode===13&&!this.disabled?this._isEditing?(e.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(e):this._isEditing?e.stopPropagation():super._handleKeydown(e)}_handleDoubleclick(e){!this.disabled&&this.editable&&this._startEditing(e)}_startEditing(e){if(!this.primaryAction||this.removeIcon&&this._getSourceAction(e.target)===this.removeIcon)return;let r=this.value;this._isEditing=this._editStartPending=!0,qt(()=>{this._getEditInput().initialize(r),this._editStartPending=!1},{injector:this._injector})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=C({type:i,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(r,t,o){if(r&1&&X(o,Nt,5),r&2){let m;V(m=z())&&(t.contentEditInput=m.first)}},viewQuery:function(r,t){if(r&1&&Ke(Nt,5),r&2){let o;V(o=z())&&(t.defaultEditInput=o.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:27,hostBindings:function(r,t){r&1&&g("focus",function(m){return t._handleFocus(m)})("dblclick",function(m){return t._handleDoubleclick(m)}),r&2&&(Oe("id",t.id),U("tabindex",t.disabled?null:-1)("aria-label",null)("aria-description",null)("role",t.role),he("mat-mdc-chip-with-avatar",t.leadingIcon)("mat-mdc-chip-disabled",t.disabled)("mat-mdc-chip-editing",t._isEditing)("mat-mdc-chip-editable",t.editable)("mdc-evolution-chip--disabled",t.disabled)("mdc-evolution-chip--with-trailing-action",t._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",t.leadingIcon)("mdc-evolution-chip--with-primary-icon",t.leadingIcon)("mdc-evolution-chip--with-avatar",t.leadingIcon)("mat-mdc-chip-highlighted",t.highlighted)("mat-mdc-chip-with-trailing-icon",t._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},features:[ke([{provide:Qt,useExisting:i},{provide:Kt,useExisting:i}]),Y],ngContentSelectors:na,decls:10,vars:9,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],[1,"cdk-visually-hidden",3,"id"],["matChipEditInput",""]],template:function(r,t){r&1&&(Me(aa),v(0,oa,1,0,"span",0),a(1,"span",1),v(2,sa,2,0,"span",2),a(3,"span",3),v(4,la,2,1)(5,ma,1,0),u(6,"span",4),n()(),v(7,pa,2,0,"span",5),a(8,"span",6),c(9),n()),r&2&&(_(t._isEditing?-1:0),s(),l("disabled",t.disabled),U("aria-label",t.ariaLabel)("aria-describedby",t._ariaDescriptionId),s(),_(t.leadingIcon?2:-1),s(2),_(t._isEditing?4:5),s(3),_(t._hasTrailingIcon()?7:-1),s(),l("id",t._ariaDescriptionId),s(),w(t.ariaDescription))},dependencies:[kt,Nt],styles:[ra],encapsulation:2,changeDetection:0})}return i})(),ua=(()=>{class i{_elementRef=p(j);_changeDetectorRef=p(Ye);_dir=p(mi,{optional:!0});_lastDestroyedFocusedChipIndex=null;_keyManager;_destroyed=new Qe;_defaultRole="presentation";get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}_disabled=!1;get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}tabIndex=0;set role(e){this._explicitRole=e}_explicitRole=null;get focused(){return this._hasFocusedChip()}_chips;_chipActions=new ri;constructor(){}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips?.forEach(e=>{e._chipListDisabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){let e=this._elementRef.nativeElement.tabIndex;e!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=e))}_getChipStream(e){return this._chips.changes.pipe(nt(null),Zt(()=>at(...this._chips.map(e))))}_originatesFromChip(e){let r=e.target;for(;r&&r!==this._elementRef.nativeElement;){if(r.classList.contains("mat-mdc-chip"))return!0;r=r.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(nt(this._chips)).subscribe(e=>{let r=[];e.forEach(t=>t._getActions().forEach(o=>r.push(o))),this._chipActions.reset(r),this._chipActions.notifyOnChanges()}),this._keyManager=new li(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(ce(this._destroyed)).subscribe(({chip:e})=>{let r=e._getSourceAction(document.activeElement);r&&this._keyManager.updateActiveItem(r)}),this._dir?.change.pipe(ce(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(nt(null),ce(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(ce(this._destroyed)).subscribe(e=>{let t=this._chips.toArray().indexOf(e.chip);this._isValidIndex(t)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=t)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),r=this._chips.toArray()[e];r.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():r.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=C({type:i,selectors:[["mat-chip-set"]],contentQueries:function(r,t,o){if(r&1&&X(o,Qt,5),r&2){let m;V(m=z())&&(t._chips=m)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(r,t){r&1&&g("keydown",function(m){return t._handleKeydown(m)}),r&2&&U("role",t.role)},inputs:{disabled:[2,"disabled","disabled",R],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Xe(e)]},features:[le],ngContentSelectors:Zi,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(r,t){r&1&&(Me(),a(0,"div",0),G(1),n())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return i})();var Wt=class{source;value;constructor(d,e){this.source=d,this.value=e}},Et=(()=>{class i extends ua{ngControl=p(_t,{optional:!0,self:!0});controlType="mat-chip-grid";_chipInput;_defaultRole="grid";_errorStateTracker;_ariaDescribedbyIds=[];_onTouched=()=>{};_onChange=()=>{};get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=e,this._syncChipsState(),this.stateChanges.next()}get id(){return this._chipInput.id}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||this._chips.length===0)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get focused(){return this._chipInput.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(Si.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(e){this._value=e}_value=[];get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}change=new H;valueChange=new H;_chips=void 0;stateChanges=new Qe;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(){super();let e=p(bt,{optional:!0}),r=p(Ii,{optional:!0}),t=p(Bt);this.ngControl&&(this.ngControl.valueAccessor=this),this._errorStateTracker=new pi(t,this.ngControl,r,e,this.stateChanges)}ngAfterContentInit(){this.chipBlurChanges.pipe(ce(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),at(this.chipFocusChanges,this._chips.changes).pipe(ce(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngAfterViewInit(){super.ngAfterViewInit(),this._chipInput}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(e){this._chipInput=e,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds)}onContainerClick(e){!this.disabled&&!this._originatesFromChip(e)&&this.focus()}focus(){if(!(this.disabled||this._chipInput.focused)){if(!this._chips.length||this._chips.first.disabled)Promise.resolve().then(()=>this._chipInput.focus());else{let e=this._keyManager.activeItem;e?e.focus():this._keyManager.setFirstItemActive()}this.stateChanges.next()}}setDescribedByIds(e){this._ariaDescribedbyIds=e,this._chipInput?.setDescribedByIds(e)}writeValue(e){this._value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}updateErrorState(){this._errorStateTracker.updateErrorState()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput.focused||super._allowFocusEscape()}_handleKeydown(e){let r=e.keyCode,t=this._keyManager.activeItem;if(r===9)this._chipInput.focused&&Ut(e,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(e.preventDefault(),t?this._keyManager.setActiveItem(t):this._focusLastChip()):super._allowFocusEscape();else if(!this._chipInput.focused)if((r===38||r===40)&&t){let o=this._chipActions.filter(E=>E._isPrimary===t._isPrimary&&!this._skipPredicate(E)),m=o.indexOf(t),f=e.keyCode===38?-1:1;e.preventDefault(),m>-1&&this._isValidIndex(m+f)&&this._keyManager.setActiveItem(o[m+f])}else super._handleKeydown(e);this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){let e=this._chips.length?this._chips.toArray().map(r=>r.value):[];this._value=e,this.change.emit(new Wt(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=C({type:i,selectors:[["mat-chip-grid"]],contentQueries:function(r,t,o){if(r&1&&X(o,it,5),r&2){let m;V(m=z())&&(t._chips=m)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(r,t){r&1&&g("focus",function(){return t.focus()})("blur",function(){return t._blur()}),r&2&&(U("role",t.role)("tabindex",t.disabled||t._chips&&t._chips.length===0?-1:t.tabIndex)("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState),he("mat-mdc-chip-list-disabled",t.disabled)("mat-mdc-chip-list-invalid",t.errorState)("mat-mdc-chip-list-required",t.required))},inputs:{disabled:[2,"disabled","disabled",R],placeholder:"placeholder",required:[2,"required","required",R],value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},features:[ke([{provide:Ei,useExisting:i}]),le,Y],ngContentSelectors:Zi,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(r,t){r&1&&(Me(),a(0,"div",0),G(1),n())},styles:[ha],encapsulation:2,changeDetection:0})}return i})(),Ot=(()=>{class i{_elementRef=p(j);focused=!1;get chipGrid(){return this._chipGrid}set chipGrid(e){e&&(this._chipGrid=e,this._chipGrid.registerInput(this))}_chipGrid;addOnBlur=!1;separatorKeyCodes;chipEnd=new H;placeholder="";id=p(Je).getId("mat-mdc-chip-list-input-");get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(e){this._disabled=e}_disabled=!1;get empty(){return!this.inputElement.value}inputElement;constructor(){let e=p(er),r=p(Oi,{optional:!0});this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=e.separatorKeyCodes,r&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}_keydown(e){this.empty&&e.keyCode===8?(e.repeat||this._chipGrid._focusLastChip(),e.preventDefault()):this._emitChipEnd(e)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._chipGrid.stateChanges.next()}_emitChipEnd(e){(!e||this._isSeparatorKey(e)&&!e.repeat)&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),e?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value=""}setDescribedByIds(e){let r=this._elementRef.nativeElement;e.length?r.setAttribute("aria-describedby",e.join(" ")):r.removeAttribute("aria-describedby")}_isSeparatorKey(e){return!Ut(e)&&new Set(this.separatorKeyCodes).has(e.keyCode)}static \u0275fac=function(r){return new(r||i)};static \u0275dir=N({type:i,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:6,hostBindings:function(r,t){r&1&&g("keydown",function(m){return t._keydown(m)})("blur",function(){return t._blur()})("focus",function(){return t._focus()})("input",function(){return t._onInput()}),r&2&&(Oe("id",t.id),U("disabled",t.disabled||null)("placeholder",t.placeholder||null)("aria-invalid",t._chipGrid&&t._chipGrid.ngControl?t._chipGrid.ngControl.invalid:null)("aria-required",t._chipGrid&&t._chipGrid.required||null)("required",t._chipGrid&&t._chipGrid.required||null))},inputs:{chipGrid:[0,"matChipInputFor","chipGrid"],addOnBlur:[2,"matChipInputAddOnBlur","addOnBlur",R],separatorKeyCodes:[0,"matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:[2,"disabled","disabled",R]},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[le,st]})}return i})();var Ft=(()=>{class i{static \u0275fac=function(r){return new(r||i)};static \u0275mod=lt({type:i});static \u0275inj=ot({providers:[Bt,{provide:er,useValue:{separatorKeyCodes:[13]}}],imports:[qe,fi,qe]})}return i})();var ir=["Male","Female","Other"],rr=["Animanga","Game","Both"],ar=["Any","Non 18+","18+"],nr=["series","rank","name"],or=["false","true"];var sr=(()=>{class i{constructor(){this.resourceService=p(L),this.route=p(P),this.mudaeUpdates=Se.required(),this.onFilterChange=ct(),this.isExpanded=Vt(!1),this.seriesListVisible=Vt(!0),this.form={},this.subs=[],this.initDefaultForm()}ngOnInit(){this.route.params.pipe(se(this.route.queryParams)).pipe(oe(150)).subscribe(e=>{let r=this.route.snapshot.params,t=this.route.snapshot.queryParams;this.setFormValuesOnRouting(F(F({},r),t))})}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}initDefaultForm(){return this.form.q=new k,this.form.series=new k([]),this.form.gender=new k([]),this.form.category=new k([]),this.form.adult=new k,this.form.sort=new k,this.form.desc=new k,this.form.favorited=new k,this.form.updateAdded=new k,this.form}toggleFiltersDisplay(){this.isExpanded.set(!this.isExpanded())}toggleSeriesDisplay(){this.seriesListVisible.set(!this.seriesListVisible())}applyFilters(){this.isExpanded.set(!1),this.onFilterChange.emit(this.constructFilter())}constructFilter(){let e={};for(let r of Object.keys(this.form)){let t=this.form[r].value;t!=null&&(Array.isArray(t)&&t.length==0||(e[r]=this.form[r].value))}return e}adultOptionValue(e){switch(e.toLowerCase()){case"any":return;case"non 18+":return"false";case"18+":return"true"}}favoriteOptionValue(e){switch(e.toLowerCase()){case"any":return;case"favorited":return"true";case"unfavorited":return"false"}}get genderOptions(){return ir}get categoryOptions(){return rr}get adultOptions(){return ar}get sortOptions(){return nr}get orderOptions(){return or}get favoriteOptions(){return["any","favorited","unfavorited"]}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=C({type:i,selectors:[["ng-component"]],inputs:{mudaeUpdates:[1,"mudaeUpdates"],isExpanded:[1,"isExpanded"],seriesListVisible:[1,"seriesListVisible"]},outputs:{onFilterChange:"onFilterChange",isExpanded:"isExpandedChange",seriesListVisible:"seriesListVisibleChange"},decls:0,vars:0,template:function(r,t){},encapsulation:2})}}return i})();var Dt=(()=>{class i extends sr{constructor(){super(),this.searchSeries=D([])}add(e){let r=(e.value||"").trim();r&&this.searchSeries.update(t=>[...t,r]),e.chipInput.clear()}removeSeries(e){this.searchSeries.update(r=>{let t=r.indexOf(e);return t<0||r.splice(t,1),r}),this.form.series.setValue(this.searchSeries())}clearSeries(){this.searchSeries.set([]),this.form.series.setValue(void 0)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=C({type:i,selectors:[["ng-component"]],features:[Y],decls:0,vars:0,template:function(r,t){},encapsulation:2})}}return i})();var Tt=(()=>{class i{set isShown(e){this.isShowing=e,this.resize()}constructor(e){this.eleRef=e,this.isShowing=!1,this.isShownChange=new H,this.resizeObserver=new ResizeObserver(r=>{for(let t of r)t.target==this.firstChild()&&this.isShowing&&parseInt(this.eleRef.nativeElement.style.maxHeight)<this.firstChild().clientHeight&&this.resize()})}ngAfterContentInit(){this.resizeObserver.observe(this.eleRef.nativeElement.firstChild)}firstChild(){return this.eleRef.nativeElement.firstChild}resize(){this.isShowing?this.eleRef.nativeElement.style.maxHeight=this.eleRef.nativeElement.firstChild.clientHeight+"px":this.eleRef.nativeElement.style.maxHeight="0px"}ngOnDestroy(){this.resizeObserver.disconnect()}static{this.\u0275fac=function(r){return new(r||i)(x(j))}}static{this.\u0275dir=N({type:i,selectors:[["","accordian",""]],inputs:{isShown:"isShown"},outputs:{isShownChange:"isShownChange"}})}}return i})();var cr=(()=>{class i{set disableWhen(e){let r=e?"disable":"enable";this.ngControl.control&&this.ngControl?.control[r]()}constructor(e){this.ngControl=e}static{this.\u0275fac=function(r){return new(r||i)(x(_t))}}static{this.\u0275dir=N({type:i,selectors:[["","disableWhen",""]],inputs:{disableWhen:"disableWhen"}})}}return i})();var Rt=(()=>{class i{constructor(e){this.eleRef=e,this.isShowing=!1,this.afterElement=Se.required(),this.gap=Se(5),this.resizeObserver=new ResizeObserver(r=>{for(let t of r){let o=this.afterElement();t.target==o&&this.move()}})}ngAfterContentInit(){this.resizeObserver.observe(this.afterElement()),this.move()}move(){this.eleRef.nativeElement.style.top=this.afterElement().offsetHeight+this.gap()+"px"}ngOnDestroy(){this.resizeObserver.disconnect()}static{this.\u0275fac=function(r){return new(r||i)(x(j))}}static{this.\u0275dir=N({type:i,selectors:[["","positionAfter",""]],inputs:{afterElement:[1,"afterElement"],gap:[1,"gap"]}})}}return i})();var mr=(i,d)=>d.toString();function fa(i,d){if(i&1){let e=q();a(0,"mat-chip-row",27),g("removed",function(){let t=S(e).$implicit,o=h();return M(o.removeSeries(t))}),c(1),a(2,"button",28)(3,"mat-icon"),c(4,"cancel"),n()()()}if(i&2){let e=d.$implicit;s(),pt(" ",e," ")}}function ga(i,d){if(i&1){let e=q();a(0,"div",32)(1,"span",33),c(2),n(),a(3,"mat-icon",34),g("click",function(){let t=S(e).$implicit,o=h(2);return M(o.removeSeries(t))}),c(4,"cancel"),n()()}if(i&2){let e=d.$implicit;s(2),w(e)}}function va(i,d){if(i&1){let e=q();a(0,"div",11)(1,"div",29)(2,"div"),c(3,"Series . . . "),n(),a(4,"button",8),g("click",function(){S(e);let t=h();return M(t.toggleSeriesDisplay())}),a(5,"mat-icon"),c(6),n()(),a(7,"button",30),g("click",function(){S(e);let t=h();return M(t.clearSeries())}),a(8,"mat-icon"),c(9,"close"),n()()(),a(10,"div",12),Te("isShownChange",function(t){S(e);let o=h();return De(o.seriesListVisible,t)||(o.seriesListVisible=t),M(t)}),a(11,"div",31),b(12,ga,5,1,"div",32,mr),n()()()}if(i&2){let e=h(),r=ue(19);l("afterElement",r)("gap",65),s(6),w(e.seriesListVisible()?"visibility":"visibility_off"),s(4),Fe("isShown",e.seriesListVisible),s(2),y(e.searchSeries())}}function _a(i,d){if(i&1&&(a(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e.server.id),s(),w(e.server.name)}}function ba(i,d){if(i&1&&(a(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e.id),s(),w(e.username=="unknown"?e.id:e.username)}}function ya(i,d){if(i&1&&(a(0,"mat-option",20),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),w(e)}}function Ca(i,d){if(i&1&&(a(0,"mat-option",20),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),w(e)}}function wa(i,d){if(i&1&&(a(0,"mat-option",20),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),w(e)}}function xa(i,d){if(i&1&&(a(0,"mat-option",20),c(1),n()),i&2){let e=d.$implicit,r=h();l("value",r.adultOptionValue(e)),s(),w(e)}}function Sa(i,d){if(i&1&&(a(0,"mat-option",20),c(1),n()),i&2){let e=d.$implicit,r=h();l("value",r.favoriteOptionValue(e)),s(),w(e)}}function Ma(i,d){if(i&1&&(a(0,"mat-option",20),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),w(e)}}function ka(i,d){if(i&1&&(a(0,"mat-option",20),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),w(e)}}var pr=(()=>{class i extends Dt{constructor(){super(),this.userServers=Se.required(),this.selectedServer=D(void 0),this.form.serverId=new k,this.form.userId=new k,this.userOptions=ai(()=>{let e=this.selectedServer();return(e?this.userServers().find(t=>t.server.id==e.server.id)?.users||[]:this.userServers().find(t=>t.server.id==this.form.serverId.value)?.users||[]).sort((t,o)=>t.username.toLowerCase().localeCompare(o.username.toLowerCase()))})}setFormValuesOnRouting(e){let{serverId:r,userId:t}=e,{series:o,updateAdded:m,gender:f,category:E,adult:K,favorited:Ne,sort:Ge,desc:xe}=e;if(r){this.form.serverId.setValue(r);let Sr=this.userServers().find(Mr=>Mr.server.id==r);this.selectedServer.set(Sr)}t&&this.form.userId.setValue(t),!(!this.resourceService.settings$().preserveFiltersInHistory||Object.keys(e).length==0)&&(o?(this.form.series.setValue(o),typeof o=="string"?this.searchSeries.set([o]):this.searchSeries.set([...o])):this.searchSeries.set([]),m&&this.form.updateAdded.setValue(m),f&&(typeof f=="string"?this.form.gender.setValue([f]):this.form.gender.setValue([...f])),E&&(typeof E=="string"?this.form.category.setValue([E]):this.form.category.setValue([...E])),K&&this.form.adult.setValue(K),Ne&&this.form.favorited.setValue(Ne),Ge&&this.form.sort.setValue(Ge),xe&&this.form.desc.setValue(xe))}updateServerOptions(e){if(!e.value)return;let r=this.userServers().find(t=>t.server.id==e.value);this.selectedServer.set(r)}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-claim-filter"]],inputs:{userServers:[1,"userServers"]},features:[Y],decls:77,vars:16,consts:[["currentSearch",""],["filterList",""],[1,"mudae-filter"],[1,"search-container"],["appearance","outline",1,"search"],["aria-label","Enter series","hidden","",3,"formControl"],[1,"test"],["placeholder","Series ...",3,"matChipInputTokenEnd","matChipInputFor"],["mat-fab","",1,"filter-btn","series-btn",3,"click"],[1,"filter-btn-text"],["mat-stroked-button","","matSuffix","",1,"filter-btn","series-btn",3,"click"],["positionAfter","",1,"series-list",3,"afterElement","gap"],["accordian","",1,"filters",3,"isShownChange","isShown"],[1,"filter-controls"],["appearance","outline",1,"filter-control"],["placeholder","Server ...",3,"selectionChange","formControl","disableWhen"],[3,"value"],["placeholder","Claimer ...",3,"formControl","disableWhen"],["appearance","outline",1,"filter-control","update-control"],["placeholder","Update Added ...",1,"filter-option",3,"formControl"],[1,"filter-option",3,"value"],["placeholder","Genders ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Category ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Is 18+? ...",1,"filter-option",3,"formControl"],["placeholder","Is Favorited? ...",1,"filter-option",3,"formControl"],["placeholder","Sort ...",1,"filter-option",3,"formControl"],["placeholder","Order ...",1,"filter-option",3,"formControl"],[1,"test",3,"removed"],["matChipRemove","","aria-label","'remove ' + series"],[1,"series-list-header"],["title","Clear","mat-fab","",1,"filter-btn","series-btn",3,"click"],[1,"search-list"],[1,"search-series"],[1,"series-name"],[1,"remove-series",3,"click"]],template:function(r,t){if(r&1){let o=q();a(0,"div",2)(1,"div",3)(2,"mat-form-field",4)(3,"mat-label"),c(4,"Search Series"),n(),a(5,"mat-chip-grid",5,0),b(7,fa,5,1,"mat-chip-row",6,mr),n(),a(9,"input",7),g("matChipInputTokenEnd",function(f){return S(o),M(t.add(f))}),n()(),a(10,"button",8),g("click",function(){return S(o),M(t.toggleFiltersDisplay())}),a(11,"mat-icon"),c(12,"filter_list"),n(),a(13,"span",9),c(14,"Filter"),n()(),a(15,"button",10),g("click",function(){return S(o),M(t.applyFilters())}),c(16,"GO"),n()(),v(17,va,14,4,"div",11),a(18,"div",12,1),Te("isShownChange",function(f){return S(o),De(t.isExpanded,f)||(t.isExpanded=f),M(f)}),a(20,"div",13)(21,"mat-form-field",14)(22,"mat-label"),c(23,"Server"),n(),a(24,"mat-select",15),g("selectionChange",function(f){return S(o),M(t.updateServerOptions(f))}),b(25,_a,2,2,"mat-option",16,O),n()(),a(27,"mat-form-field",14)(28,"mat-label"),c(29,"User"),n(),a(30,"mat-select",17),b(31,ba,2,2,"mat-option",16,O),n()(),a(33,"mat-form-field",18)(34,"mat-label"),c(35,"Update"),n(),a(36,"mat-select",19)(37,"mat-option",20),c(38,"Any"),n(),b(39,ya,2,2,"mat-option",20,O),n()(),a(41,"mat-form-field",14)(42,"mat-label"),c(43,"Genders"),n(),a(44,"mat-select",21),b(45,Ca,2,2,"mat-option",20,O),n()(),a(47,"mat-form-field",14)(48,"mat-label"),c(49,"Category"),n(),a(50,"mat-select",22),b(51,wa,2,2,"mat-option",20,O),n()(),a(53,"mat-form-field",14)(54,"mat-label"),c(55,"Adult"),n(),a(56,"mat-select",23),b(57,xa,2,2,"mat-option",20,We),n()(),a(59,"mat-form-field",14)(60,"mat-label"),c(61,"Favorites"),n(),a(62,"mat-select",24),b(63,Sa,2,2,"mat-option",20,We),n()(),a(65,"mat-form-field",14)(66,"mat-label"),c(67,"Sort"),n(),a(68,"mat-select",25),b(69,Ma,2,2,"mat-option",20,We),n()(),a(71,"mat-form-field",14)(72,"mat-label"),c(73,"Desc"),n(),a(74,"mat-select",26),b(75,ka,2,2,"mat-option",20,We),n()()()()()}if(r&2){let o=ue(6);s(5),l("formControl",t.form.series),s(2),y(t.searchSeries()),s(2),l("matChipInputFor",o),s(8),_(t.searchSeries().length>0?17:-1),s(),Fe("isShown",t.isExpanded),s(6),l("formControl",t.form.serverId)("disableWhen",t.userServers().length<=0),s(),y(t.userServers()),s(5),l("formControl",t.form.userId)("disableWhen",t.userOptions().length<=0),s(),y(t.userOptions()),s(5),l("formControl",t.form.updateAdded),s(),l("value",void 0),s(2),y(t.mudaeUpdates()),s(5),l("formControl",t.form.gender),s(),y(t.genderOptions),s(5),l("formControl",t.form.category),s(),y(t.categoryOptions),s(5),l("formControl",t.form.adult),s(),y(t.adultOptions),s(5),l("formControl",t.form.favorited),s(),y(t.favoriteOptions),s(5),l("formControl",t.form.sort),s(),y(t.sortOptions),s(5),l("formControl",t.form.desc),s(),y(t.orderOptions)}},dependencies:[we,Ce,ye,yt,Ue,ze,je,He,Ve,Q,J,ut,Ft,Et,Ot,It,it,Be,Z,te,ee,Tt,cr,Rt],styles:[".mudae-filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0rem;padding:.5rem;border:1px solid var(--mudae-dark);border-radius:.25rem;box-shadow:var(--mudae-filter-shadow);background-color:var(--mudae-filter-bg-color);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.mudae-filter-panel[_ngcontent-%COMP%]{margin:0rem;border-radius:0rem!important}.series-list[_ngcontent-%COMP%]{position:absolute;max-width:15rem;border:1px solid var(--mudae-dark);border-radius:.25rem;box-shadow:var(--mudae-filter-shadow);background-color:var(--mudae-filter-bg-color);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.series-list-header[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;flex-flow:row nowrap;gap:.25rem;padding:.5rem;text-transform:uppercase;box-shadow:var(--mudae-filter-shadow);background-color:var(--mudae-filter-bg-color);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.search-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;max-height:15rem;padding:.5rem;overflow-y:auto}.search-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:.15rem}.search-list[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:transparent}.search-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--mudae-text-color);border-radius:4px}.search-series[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;width:100%;min-height:fit-content;text-wrap:nowrap;overflow:hidden}.series-name[_ngcontent-%COMP%]{flex:1;overflow:hidden;text-overflow:ellipsis}.remove-series[_ngcontent-%COMP%]{color:red;flex-shrink:0}.remove-series[_ngcontent-%COMP%]:hover{scale:1.01;cursor:pointer}.mudae-filter-panel[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.25rem!important;border-top-left-radius:.25rem!important}.mudae-filter-panel[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.mat-expansion-panel-body[_ngcontent-%COMP%]{padding:0rem!important}.filters[_ngcontent-%COMP%]{max-height:0px;overflow:hidden;transition:max-height .25s}.filter-controls[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.5rem;padding-top:2rem;justify-content:center}.filter-control[_ngcontent-%COMP%]{flex-grow:1}.update-control[_ngcontent-%COMP%]{width:100%}.filter-option[_ngcontent-%COMP%]{text-transform:capitalize}.filter-btns[_ngcontent-%COMP%]{display:flex;gap:.5rem}.filter-btn[_ngcontent-%COMP%]{flex:1;height:36px;border-radius:.25rem;letter-spacing:.075rem}.search-container[_ngcontent-%COMP%]{display:flex;gap:.25rem}.update[_ngcontent-%COMP%]{width:8rem}.search[_ngcontent-%COMP%]{flex:1}.series-btn[_ngcontent-%COMP%]{max-width:8rem;height:unset;box-shadow:unset;background-color:transparent;border:1px solid var(--mudae-filter-button-border-color)}.series-btn[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:var(--mudae-white)}.filter-btn-text[_ngcontent-%COMP%]{color:var(--mudae-white)}@media (max-width: 720px){.series-btn[_ngcontent-%COMP%]{max-width:2rem}.filter-btn-text[_ngcontent-%COMP%]{display:none}}"]})}}return i})();var hr=(i,d)=>d.id,Ia=()=>[_e,import("./chunk-UQ6X3SWW.js").then(i=>i.MudaeSeriesComponent),import("./chunk-2XF6DTZY.js").then(i=>i.MudaeCharacterComponent)];function Ea(i,d){if(i&1&&u(0,"mudae-character",6),i&2){let e=d.$implicit,r=h(3);l("character",e)("me",r.me())}}function Oa(i,d){i&1&&(a(0,"div",7)(1,"h3"),c(2,"No Results Found. Check your filters."),n()())}function Fa(i,d){if(i&1&&v(0,Oa,3,0,"div",7),i&2){let e=h(3);_(e.isLoading()?-1:0)}}function Da(i,d){if(i&1&&(a(0,"div",3),b(1,Ea,1,2,"mudae-character",6,hr,!1,Fa,1,1),n()),i&2){let e=h(2);s(),y(e.claims().results)}}function Ta(i,d){if(i&1&&u(0,"mudae-series",8),i&2){let e=d.$implicit,r=h(4);l("series",e)("me",r.me())}}function Ra(i,d){i&1&&(a(0,"div",7)(1,"h3"),c(2,"No Results Found. Check your filters."),n()())}function Pa(i,d){if(i&1&&v(0,Ra,3,0,"div",7),i&2){let e=h(4);_(e.isLoading()?-1:0)}}function Aa(i,d){if(i&1&&b(0,Ta,1,2,"mudae-series",8,hr,!1,Pa,1,1),i&2){let e=h(3);y(e.claims().results)}}function La(i,d){if(i&1&&(a(0,"div",4),v(1,Aa,3,1),n()),i&2){let e=h(2);s(),_(e.claims().results?1:-1)}}function qa(i,d){i&1&&(a(0,"div",5),u(1,"mat-progress-spinner",9),a(2,"span"),c(3,"Loading..."),n()())}function Va(i,d){if(i&1&&v(0,Da,4,1,"div",3)(1,La,2,1,"div",4)(2,qa,4,0,"div",5),i&2){let e,r=h();_((e=r.claims().type)==="character"?0:e==="series"?1:-1),s(2),_(r.isLoading()?2:-1)}}var ur=(()=>{class i{constructor(e,r){this.router=e,this.route=r,this.userService=p(W),this.resourceService=p(L),this.serverService=p(Qi),this.throttler=new $e,this.subs=[],this.me=this.userService.me$,this.claims=this.serverService.claimData$,this.isLoading=this.serverService.loading$,this.serverList=this.resourceService.servers$,this.updatesList=this.resourceService.updates$,this.serverId=D(""),this.userId=D("");let t=this.route.params.pipe(se(this.route.queryParams)).pipe(oe(150)).subscribe(o=>{let{serverId:m,userId:f}=this.route.snapshot.params;this.query=Object.keys(this.route.snapshot.queryParams).length>0?this.createQueryFromParams(this.route.snapshot.queryParams):this.query,m&&f&&(this.serverId.set(m),this.userId.set(f),this.serverService.searchClaims(m,f,this.query))});this.timeInterval=Ie(1e3).subscribe(()=>{let o=window.document.documentElement;!this.serverService.loading$()&&!this.resourceService.loading$()&&o.scrollHeight==o.clientHeight&&this.onScroll()}),this.subs.push(t,this.timeInterval)}ngOnInit(){}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}applyFilters(e){let m=F({},e),{serverId:r,userId:t}=m,o=rt(m,["serverId","userId"]);this.query=o,this.resourceService.settings$().preserveFiltersInHistory?this.router.navigate(["servers",e.serverId,"claims",e.userId],{relativeTo:this.route.parent,queryParams:F({},o)}):r&&t&&(this.serverId()==r&&this.userId()==t?this.serverService.searchClaims(r,t,this.query):this.router.navigate(["servers",e.serverId,"claims",e.userId],{relativeTo:this.route.parent,queryParams:void 0}))}onScroll(){let e=window.document.documentElement;e.scrollHeight-(e.scrollTop+e.offsetHeight)<Math.min(2e3,e.scrollHeight*.1)&&this.throttler.throttle(()=>{this.serverService.loadMore()},T.SCROLL_LOAD_DELAY)}createQueryFromParams(e){let r={};for(let t of Object.keys(e)){let o=e[t];o!=null&&(Array.isArray(o)&&o.length==0||(r[t]=e[t]))}return r}static{this.\u0275fac=function(r){return new(r||i)(x(A),x(P))}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-user-claims"]],hostBindings:function(r,t){r&1&&g("scroll",function(){return t.onScroll()},!1,Ee)},decls:6,vars:4,consts:[[1,"mudae-list"],[1,"mudae-filter"],[3,"onFilterChange","userServers","mudaeUpdates","isExpanded"],[1,"character-list"],[1,"series-list"],[1,"loading"],[3,"character","me"],[1,"no-results"],[3,"series","me"],["mode","indeterminate"]],template:function(r,t){r&1&&(a(0,"div",0)(1,"div",1)(2,"mudae-claim-filter",2),g("onFilterChange",function(m){return t.applyFilters(m)}),n()(),v(3,Va,3,2),me(4,3,Ia),n()),r&2&&(s(2),l("userServers",t.serverList())("mudaeUpdates",t.updatesList())("isExpanded",!0),s(2),pe(t.me()&&t.me().id!="empty"))},dependencies:[be,pr],styles:["[_nghost-%COMP%]{position:relative}.mudae-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem}.mudae-filter[_ngcontent-%COMP%]{position:fixed;top:0;width:calc(100% - var(--mudae-nav-width));max-width:calc(var(--mudae-page-width) - var(--mudae-nav-width));padding:.5rem 1rem;z-index:100;display:flex;flex-direction:column;gap:.5rem}.character-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1rem 1.3rem;padding:0rem 1rem;margin-top:4rem;overflow:hidden}.series-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:4rem}.no-results[_ngcontent-%COMP%]{position:fixed;top:40%}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:auto;padding-top:5rem;align-items:center}@media (max-width: 720px){.mudae-filter[_ngcontent-%COMP%]{top:3.5rem;width:100%}.series-list[_ngcontent-%COMP%]{margin-top:4rem}}"]})}}return i})();var fr=(()=>{class i extends ve{constructor(){super(),this.loading=D(!1),this.loading$=this.loading.asReadonly(),this.updateData=D({type:"none",more:!1,results:[],page:0}),this.updateData$=this.updateData.asReadonly(),this.lastRequest={}}searchUpdate(e,r){this.outgoingRequest&&!this.outgoingRequest.closed&&this.outgoingRequest.unsubscribe(),this.updateData.set({type:"none",more:!1,results:[],page:0}),this.loading.set(!0),this.lastRequest={update:e,query:r},this.outgoingRequest=this.findCharactersByUpdate$(e,r).subscribe({next:t=>{this.updateData.set(t)},error:t=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae update data.",type:"danger",source_feature:"mudae"}),console.log(t)}}),this.outgoingRequest.add(()=>this.loading.set(!1))}loadMore(){this.loading()||!this.lastRequest||this.lastRequest.update&&this.updateData().more&&(this.loading.set(!0),this.lastRequest.query=B(F({},this.lastRequest.query),{updateAdded:this.lastRequest.update,page:this.lastRequest.query?.page?this.lastRequest.query.page+1:1}),this.outgoingRequest=this.findCharactersByUpdate$(this.lastRequest.update,this.lastRequest.query).subscribe({next:e=>{this.updateData.update(r=>this.updateResultData(r,e))},error:e=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae update data.",type:"danger",source_feature:"mudae"}),console.log(e)}}),this.outgoingRequest.add(()=>this.loading.set(!1)))}mudaeUpdates$(){return this.http.get(`${this.url}/api/updates`)}findCharactersByUpdate$(e,r){let t=r?B(F({},r),{updateAdded:e}):{updateAdded:e};return r?.sort=="series"&&(t.groupSeries=!0),this.http.get(`${this.url}/api/updates/${e}`,{params:t})}updateResultData(e,r){return e=B(F({},r),{results:e.results}),r.type=="series"?e.results=this.appendSeries(e.results,r.results):e.results.push(...r.results),e}appendSeries(e,r){let t=[...e];for(let o of r){let m=e.findIndex(f=>f.id==o.id);if(m<0)t.push(o);else{let f=[...e[m].characters];for(let E of o.characters)e[m].characters.find(K=>K.id==E.id)||f.push(E);o.characters=f,t[m]=o}}return t}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=$({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var gr=(i,d)=>d.toString();function za(i,d){if(i&1){let e=q();a(0,"mat-chip-row",25),g("removed",function(){let t=S(e).$implicit,o=h();return M(o.removeSeries(t))}),c(1),a(2,"button",26)(3,"mat-icon"),c(4,"cancel"),n()()()}if(i&2){let e=d.$implicit;s(),pt(" ",e," ")}}function Ua(i,d){if(i&1){let e=q();a(0,"div",30)(1,"span",31),c(2),n(),a(3,"mat-icon",32),g("click",function(){let t=S(e).$implicit,o=h(2);return M(o.removeSeries(t))}),c(4,"cancel"),n()()}if(i&2){let e=d.$implicit;s(2),w(e)}}function Ba(i,d){if(i&1){let e=q();a(0,"div",11)(1,"div",27)(2,"div"),c(3,"Series . . . "),n(),a(4,"button",8),g("click",function(){S(e);let t=h();return M(t.toggleSeriesDisplay())}),a(5,"mat-icon"),c(6),n()(),a(7,"button",28),g("click",function(){S(e);let t=h();return M(t.clearSeries())}),a(8,"mat-icon"),c(9,"close"),n()()(),a(10,"div",12),Te("isShownChange",function(t){S(e);let o=h();return De(o.seriesListVisible,t)||(o.seriesListVisible=t),M(t)}),a(11,"div",29),b(12,Ua,5,1,"div",30,gr),n()()()}if(i&2){let e=h(),r=ue(19);l("afterElement",r)("gap",65),s(6),w(e.seriesListVisible()?"visibility":"visibility_off"),s(4),Fe("isShown",e.seriesListVisible),s(2),y(e.searchSeries())}}function $a(i,d){if(i&1&&(a(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),w(e)}}function Ha(i,d){if(i&1&&(a(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),w(e)}}function ja(i,d){if(i&1&&(a(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),w(e)}}function Na(i,d){if(i&1&&(a(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit,r=h();l("value",r.adultOptionValue(e)),s(),w(e)}}function Ga(i,d){if(i&1&&(a(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit,r=h();l("value",r.favoriteOptionValue(e)),s(),w(e)}}function Qa(i,d){if(i&1&&(a(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),w(e)}}function Wa(i,d){if(i&1&&(a(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),w(e)}}function Ka(i,d){if(i&1&&(a(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),w(e)}}var vr=(()=>{class i extends Dt{constructor(){super(),this.form.status=new k([])}ngOnInit(){this.form.updateAdded.setValue(this.mudaeUpdates()[0]),super.ngOnInit()}setFormValuesOnRouting(e){let{update:r}=e,{series:t,updateAdded:o,gender:m,category:f,adult:E,favorited:K,sort:Ne,desc:Ge,status:xe}=e;!this.resourceService.settings$().preserveFiltersInHistory||Object.keys(e).length==0||(t?(this.form.series.setValue(t),typeof t=="string"?this.searchSeries.set([t]):this.searchSeries.set([...t])):this.searchSeries.set([]),r?this.form.updateAdded.setValue(r):o&&this.form.updateAdded.setValue(o),m&&(typeof m=="string"?this.form.gender.setValue([m]):this.form.gender.setValue([...m])),f&&(typeof f=="string"?this.form.category.setValue([f]):this.form.category.setValue([...f])),E&&this.form.adult.setValue(E),K&&this.form.favorited.setValue(K),Ne&&this.form.sort.setValue(Ne),Ge&&this.form.desc.setValue(Ge),xe&&(typeof xe=="string"?this.form.status.setValue([xe]):this.form.status.setValue([...xe])))}get statusOptions(){return["owned","lost","unclaimed"]}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-update-filter"]],features:[Y],decls:69,vars:12,consts:[["currentSearch",""],["filterList",""],[1,"mudae-filter"],[1,"search-container"],["appearance","outline",1,"search"],["aria-label","Enter series","hidden","",3,"formControl"],[1,"test"],["placeholder","Series ...",3,"matChipInputTokenEnd","matChipInputFor"],["mat-fab","",1,"filter-btn","series-btn",3,"click"],[1,"filter-btn-text"],["mat-stroked-button","","matSuffix","",1,"filter-btn","series-btn",3,"click"],["positionAfter","",1,"series-list",3,"afterElement","gap"],["accordian","",1,"filters",3,"isShownChange","isShown"],[1,"filter-controls"],["appearance","outline",1,"filter-control","update-control"],["placeholder","Update Added ...",1,"filter-option",3,"formControl"],[1,"filter-option",3,"value"],["appearance","outline",1,"filter-control"],["placeholder","Genders ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Category ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Is 18+? ...",1,"filter-option",3,"formControl"],["placeholder","Is Favorited? ...",1,"filter-option",3,"formControl"],["placeholder","Status ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Sort ...",1,"filter-option",3,"formControl"],["placeholder","Order ...",1,"filter-option",3,"formControl"],[1,"test",3,"removed"],["matChipRemove","","aria-label","'remove ' + series"],[1,"series-list-header"],["title","Clear","mat-fab","",1,"filter-btn","series-btn",3,"click"],[1,"search-list"],[1,"search-series"],[1,"series-name"],[1,"remove-series",3,"click"]],template:function(r,t){if(r&1){let o=q();a(0,"div",2)(1,"div",3)(2,"mat-form-field",4)(3,"mat-label"),c(4,"Search Series"),n(),a(5,"mat-chip-grid",5,0),b(7,za,5,1,"mat-chip-row",6,gr),n(),a(9,"input",7),g("matChipInputTokenEnd",function(f){return S(o),M(t.add(f))}),n()(),a(10,"button",8),g("click",function(){return S(o),M(t.toggleFiltersDisplay())}),a(11,"mat-icon"),c(12,"filter_list"),n(),a(13,"span",9),c(14,"Filter"),n()(),a(15,"button",10),g("click",function(){return S(o),M(t.applyFilters())}),c(16,"GO"),n()(),v(17,Ba,14,4,"div",11),a(18,"div",12,1),Te("isShownChange",function(f){return S(o),De(t.isExpanded,f)||(t.isExpanded=f),M(f)}),a(20,"div",13)(21,"mat-form-field",14)(22,"mat-label"),c(23,"Update"),n(),a(24,"mat-select",15),b(25,$a,2,2,"mat-option",16,O),n()(),a(27,"mat-form-field",17)(28,"mat-label"),c(29,"Genders"),n(),a(30,"mat-select",18),b(31,Ha,2,2,"mat-option",16,O),n()(),a(33,"mat-form-field",17)(34,"mat-label"),c(35,"Category"),n(),a(36,"mat-select",19),b(37,ja,2,2,"mat-option",16,O),n()(),a(39,"mat-form-field",17)(40,"mat-label"),c(41,"Adult"),n(),a(42,"mat-select",20),b(43,Na,2,2,"mat-option",16,O),n()(),a(45,"mat-form-field",17)(46,"mat-label"),c(47,"Favorites"),n(),a(48,"mat-select",21),b(49,Ga,2,2,"mat-option",16,O),n()(),a(51,"mat-form-field",17)(52,"mat-label"),c(53,"Status"),n(),a(54,"mat-select",22),b(55,Qa,2,2,"mat-option",16,O),n()(),a(57,"mat-form-field",17)(58,"mat-label"),c(59,"Sort"),n(),a(60,"mat-select",23),b(61,Wa,2,2,"mat-option",16,O),n()(),a(63,"mat-form-field",17)(64,"mat-label"),c(65,"Desc"),n(),a(66,"mat-select",24),b(67,Ka,2,2,"mat-option",16,O),n()()()()()}if(r&2){let o=ue(6);s(5),l("formControl",t.form.series),s(2),y(t.searchSeries()),s(2),l("matChipInputFor",o),s(8),_(t.searchSeries().length>0?17:-1),s(),Fe("isShown",t.isExpanded),s(6),l("formControl",t.form.updateAdded),s(),y(t.mudaeUpdates()),s(5),l("formControl",t.form.gender),s(),y(t.genderOptions),s(5),l("formControl",t.form.category),s(),y(t.categoryOptions),s(5),l("formControl",t.form.adult),s(),y(t.adultOptions),s(5),l("formControl",t.form.favorited),s(),y(t.favoriteOptions),s(5),l("formControl",t.form.status),s(),y(t.statusOptions),s(5),l("formControl",t.form.sort),s(),y(t.sortOptions),s(5),l("formControl",t.form.desc),s(),y(t.orderOptions)}},dependencies:[we,Ce,ye,yt,Ue,ze,je,He,Ve,Q,J,ut,Ft,Et,Ot,It,it,Be,Z,te,ee,Tt,Rt],styles:[".mudae-filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0rem;padding:.5rem;border:1px solid var(--mudae-dark);border-radius:.25rem;box-shadow:var(--mudae-filter-shadow);background-color:var(--mudae-filter-bg-color);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.mudae-filter-panel[_ngcontent-%COMP%]{margin:0rem;border-radius:0rem!important}.series-list[_ngcontent-%COMP%]{position:absolute;max-width:15rem;border:1px solid var(--mudae-dark);border-radius:.25rem;box-shadow:var(--mudae-filter-shadow);background-color:var(--mudae-filter-bg-color);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.series-list-header[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;flex-flow:row nowrap;gap:.25rem;padding:.5rem;text-transform:uppercase;box-shadow:var(--mudae-filter-shadow);background-color:var(--mudae-filter-bg-color);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.search-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;max-height:15rem;padding:.5rem;overflow-y:auto}.search-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:.15rem}.search-list[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:transparent}.search-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--mudae-text-color);border-radius:4px}.search-series[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;width:100%;min-height:fit-content;text-wrap:nowrap;overflow:hidden}.series-name[_ngcontent-%COMP%]{flex:1;overflow:hidden;text-overflow:ellipsis}.remove-series[_ngcontent-%COMP%]{color:red;flex-shrink:0}.remove-series[_ngcontent-%COMP%]:hover{scale:1.01;cursor:pointer}.mudae-filter-panel[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.25rem!important;border-top-left-radius:.25rem!important}.mudae-filter-panel[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.mat-expansion-panel-body[_ngcontent-%COMP%]{padding:0rem!important}.filters[_ngcontent-%COMP%]{max-height:0px;overflow:hidden;transition:max-height .25s}.filter-controls[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.5rem;padding-top:2rem;justify-content:center}.filter-control[_ngcontent-%COMP%]{flex-grow:1}.update-control[_ngcontent-%COMP%]{width:100%}.filter-option[_ngcontent-%COMP%]{text-transform:capitalize}.filter-btns[_ngcontent-%COMP%]{display:flex;gap:.5rem}.filter-btn[_ngcontent-%COMP%]{flex:1;height:36px;border-radius:.25rem;letter-spacing:.075rem}.search-container[_ngcontent-%COMP%]{display:flex;gap:.25rem}.update[_ngcontent-%COMP%]{width:8rem}.search[_ngcontent-%COMP%]{flex:1}.series-btn[_ngcontent-%COMP%]{max-width:8rem;height:unset;box-shadow:unset;background-color:transparent;border:1px solid var(--mudae-filter-button-border-color)}.series-btn[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:var(--mudae-white)}.filter-btn-text[_ngcontent-%COMP%]{color:var(--mudae-white)}@media (max-width: 720px){.series-btn[_ngcontent-%COMP%]{max-width:2rem}.filter-btn-text[_ngcontent-%COMP%]{display:none}}"]})}}return i})();var _r=(i,d)=>d.id,Ya=()=>[import("./chunk-UQ6X3SWW.js").then(i=>i.MudaeSeriesComponent),import("./chunk-2XF6DTZY.js").then(i=>i.MudaeCharacterComponent),_e];function Xa(i,d){if(i&1&&u(0,"mudae-character",6),i&2){let e=d.$implicit,r=h(3);l("character",e)("me",r.me())("showStatus",!0)}}function Ja(i,d){i&1&&(a(0,"div",7)(1,"h3"),c(2,"No Results Found. Check your filters."),n()())}function Za(i,d){if(i&1&&v(0,Ja,3,0,"div",7),i&2){let e=h(3);_(e.isLoading()?-1:0)}}function en(i,d){if(i&1&&(a(0,"div",3),b(1,Xa,1,3,"mudae-character",6,_r,!1,Za,1,1),n()),i&2){let e=h(2);s(),y(e.updateData().results)}}function tn(i,d){if(i&1&&u(0,"mudae-series",8),i&2){let e=d.$implicit,r=h(4);l("series",e)("me",r.me())("showStatus",!0)}}function rn(i,d){i&1&&(a(0,"div",7)(1,"h3"),c(2,"No Results Found. Check your filters."),n()())}function an(i,d){if(i&1&&v(0,rn,3,0,"div",7),i&2){let e=h(4);_(e.isLoading()?-1:0)}}function nn(i,d){if(i&1&&b(0,tn,1,3,"mudae-series",8,_r,!1,an,1,1),i&2){let e=h(3);y(e.updateData().results)}}function on(i,d){if(i&1&&(a(0,"div",4),v(1,nn,3,1),n()),i&2){let e=h(2);s(),_(e.updateData().results?1:-1)}}function sn(i,d){i&1&&(a(0,"div",5),u(1,"mat-progress-spinner",9),a(2,"span"),c(3,"Loading..."),n()())}function cn(i,d){if(i&1&&v(0,en,4,1,"div",3)(1,on,2,1,"div",4)(2,sn,4,0,"div",5),i&2){let e,r=h();_((e=r.updateData().type)==="character"?0:e==="series"?1:-1),s(2),_(r.isLoading()?2:-1)}}var Yt=(()=>{class i{constructor(e,r){this.router=e,this.route=r,this.userService=p(W),this.updateService=p(fr),this.resourceService=p(L),this.throttler=new $e,this.subs=[],this.me=this.userService.me$,this.isLoading=this.updateService.loading$,this.updateData=this.updateService.updateData$,this.updatesList=this.resourceService.updates$;let t=this.route.params.pipe(se(this.route.queryParams)).pipe(oe(150)).subscribe(o=>{let{update:m}=this.route.snapshot.params;this.query=Object.keys(this.route.snapshot.queryParams).length>0?this.createQueryFromParams(this.route.snapshot.queryParams):this.query,m?this.updateService.searchUpdate(m,this.query):this.router.navigate(["updates",this.updatesList()[0]],{skipLocationChange:!0,relativeTo:this.route.parent,queryParams:this.query})});this.timeInterval=Ie(1e3).subscribe(()=>{let o=window.document.documentElement;!this.updateService.loading$()&&!this.resourceService.loading$()&&o.scrollHeight==o.clientHeight&&this.onScroll()}),this.subs.push(t,this.timeInterval)}ngOnInit(){}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}applyFilters(e){let o=F({},e),{updateAdded:r}=o,t=rt(o,["updateAdded"]);this.query=t,this.resourceService.settings$().preserveFiltersInHistory?this.router.navigate(["updates",e.updateAdded],{relativeTo:this.route.parent,queryParams:t}):r&&(Object.keys(this.route.snapshot.queryParams).length==0?this.updateService.searchUpdate(r,this.query):this.router.navigate(["updates",e.updateAdded],{relativeTo:this.route.parent,queryParams:void 0}))}onScroll(){let e=window.document.documentElement;e.scrollHeight-(e.scrollTop+e.offsetHeight)<Math.min(2e3,e.scrollHeight*.1)&&this.throttler.throttle(()=>{this.updateService.loadMore()},T.SCROLL_LOAD_DELAY)}createQueryFromParams(e){let r={};for(let t of Object.keys(e)){let o=e[t];o!=null&&(Array.isArray(o)&&o.length==0||(r[t]=e[t]))}return r}static{this.\u0275fac=function(r){return new(r||i)(x(A),x(P))}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-update-characters"]],hostBindings:function(r,t){r&1&&g("scroll",function(){return t.onScroll()},!1,Ee)},decls:6,vars:3,consts:[[1,"mudae-list"],[1,"mudae-filter"],[3,"onFilterChange","mudaeUpdates","isExpanded"],[1,"character-list"],[1,"series-list"],[1,"loading"],[3,"character","me","showStatus"],[1,"no-results"],[3,"series","me","showStatus"],["mode","indeterminate"]],template:function(r,t){r&1&&(a(0,"div",0)(1,"div",1)(2,"mudae-update-filter",2),g("onFilterChange",function(m){return t.applyFilters(m)}),n()(),v(3,cn,3,2),me(4,3,Ya),n()),r&2&&(s(2),l("mudaeUpdates",t.updatesList())("isExpanded",!0),s(2),pe(t.me()&&t.me().id!="empty"))},dependencies:[be,vr],styles:["[_nghost-%COMP%]{position:relative}.mudae-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem}.mudae-filter[_ngcontent-%COMP%]{position:fixed;top:0;width:calc(100% - var(--mudae-nav-width));max-width:calc(var(--mudae-page-width) - var(--mudae-nav-width));padding:.5rem 1rem;z-index:100;display:flex;flex-direction:column;gap:.5rem}.character-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1rem 1.3rem;padding:0rem 1rem;margin-top:4rem;overflow:hidden}.series-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:4rem}.no-results[_ngcontent-%COMP%]{position:fixed;top:40%}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:auto;padding-top:5rem;align-items:center}@media (max-width: 720px){.mudae-filter[_ngcontent-%COMP%]{top:3.5rem;width:100%}.series-list[_ngcontent-%COMP%]{margin-top:4rem}}"]})}}return i})();var dn=i=>["claims",i];function ln(i,d){if(i&1&&u(0,"img",5),i&2){let e=h(2);l("src",e.banner(e.server),ie)}}function mn(i,d){if(i&1&&(a(0,"div",9),u(1,"img",10),a(2,"span",11),c(3),n()()),i&2){let e=d.$implicit,r=h(2);l("title",e.username)("routerLink",Re(4,dn,e.id)),s(),l("src",r.avatar(e),ie),s(2),w(e.username)}}function pn(i,d){if(i&1&&(a(0,"div",1),u(1,"img",2),a(2,"span",3),c(3),n()(),a(4,"div",4),v(5,ln,1,1,"img",5),a(6,"div",6)(7,"span"),c(8,"# Users:"),n(),a(9,"span"),c(10,"24"),n(),a(11,"span"),c(12,"# Claimed:"),n(),a(13,"span"),c(14,"88,888"),n(),a(15,"span"),c(16,"# Waifu:"),n(),a(17,"span"),c(18,"60,223"),n(),a(19,"span"),c(20,"# Husbando: "),n(),a(21,"span"),c(22,"20,101"),n(),a(23,"span"),c(24,"# Other:"),n(),a(25,"span"),c(26," 8,564"),n()()(),u(27,"my-header",7),a(28,"div",8),b(29,mn,4,6,"div",9,O),n()),i&2){let e=h();s(),l("src",e.icon(e.server)+"?size=80",ie),s(2),w(e.server.name),s(2),_(e.server.banner!=null?5:-1),s(22),l("lc",e.colors.discordBorder),s(2),y(e.users)}}var br=(()=>{class i{constructor(e,r){this.router=e,this.route=r,this.resourceService=p(L),this.colors=wt;let{serverId:t}=this.route.snapshot.params;this.serverId=t,this.serverData=Pe(()=>this.resourceService.servers$().find(o=>o.server.id==t))}ngOnInit(){}banner(e){return`https://cdn.discordapp.com/banners/${e.id}/${e.banner}`}icon(e){return`https://cdn.discordapp.com/icons/${e.id}/${e.icon}`}avatar(e){return e.avatar?`https://cdn.discordapp.com/avatars/${e.id}/${e.avatar}.png`:"https://cdn.discordapp.com/avatars/553093683222937601/670c33691c1fd4cc40b643c41b9d02b5.png"}get server(){let e=this.serverData();if(!(!e||!e.server))return e.server}get users(){let e=this.serverData();if(!(!e||!e.users))return e.users.sort((r,t)=>r.username.toLowerCase().localeCompare(t.username.toLowerCase()))}static{this.\u0275fac=function(r){return new(r||i)(x(A),x(P))}}static{this.\u0275cmp=C({type:i,selectors:[["mudae-server-claims"]],decls:2,vars:1,consts:[[1,"mudae-server-view"],[1,"server-header"],[1,"server-icon",3,"src"],[1,"server-name"],[1,"container"],[1,"server-banner",3,"src"],[1,"server-stats-list"],["text","Users","color","rgb(200,200,200)","lw","3px",3,"lc"],[1,"users-list"],[1,"mudae-user",3,"title","routerLink"],["alt","196190198093185024",1,"user-avatar",3,"src"],[1,"user-username"]],template:function(r,t){r&1&&(a(0,"div",0),v(1,pn,31,4),n()),r&2&&(s(),_(t.server!=null?1:-1))},dependencies:[Fi,ge,fe],styles:[".mudae-server-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.server-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;font-size:1.2rem;padding:1rem;background-color:var(--mudae-medium)}.server-icon[_ngcontent-%COMP%]{height:40px;width:40px;z-index:11}.server-stats-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;max-width:25rem;gap:0rem .75rem;font-size:1.3rem;font-variant-caps:all-petite-caps;letter-spacing:2px;text-shadow:-1px -1px 0 black,1px -1px 0 black,-1px 1px 0 black,1px 1px 0 black;text-wrap:nowrap;z-index:12}.container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row nowrap;gap:2rem}.server-banner[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:100%;mask-image:linear-gradient(to left,rgba(0,0,0,.8),rgba(0,0,0,.5),transparent)}.users-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(min(200px,100%),1fr));gap:1rem 2rem;padding:1rem}.mudae-user[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;gap:1rem;padding:.25rem;border:1px solid black;border-radius:3px;overflow:hidden}.mudae-user[_ngcontent-%COMP%]:hover{scale:1.025;cursor:pointer}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:100%}.user-username[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}"]})}}return i})();var yr=(()=>{class i extends ve{constructor(){super()}getSeries$(e){return this.http.get(`${this.url}/api/series/${e}`)}searchSeries$(e,r=!0){return this.http.get(`${this.url}/api/series/search`,{params:B(F({},e),{withCharacters:r})})}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=$({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Cr=(()=>{class i{constructor(){this.toastService=p(ft),this.seriesService=p(yr),this.characterService=p(gt),this.loading=D(!1),this.loading$=this.loading.asReadonly(),this.searchData=D({type:"none",more:!1,results:[],page:0}),this.searchData$=this.searchData.asReadonly(),this.outgoingRequest&&!this.outgoingRequest.closed&&this.outgoingRequest.unsubscribe(),this.searchData.set({type:"none",more:!1,results:[],page:0})}searchUpdate(e,r){this.outgoingRequest&&!this.outgoingRequest.closed&&this.outgoingRequest.unsubscribe(),this.searchData.set({type:"none",more:!1,results:[],page:0}),this.loading.set(!0),this.lastRequest={type:e,query:r},this.lastRequest.type=="character"?(this.outgoingRequest=this.searchCharacters$(this.lastRequest.query).subscribe({next:t=>{this.searchData.set(t)},error:t=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae character data.",type:"danger",source_feature:"mudae"}),console.log(t)}}),this.outgoingRequest.add(()=>this.loading.set(!1))):this.lastRequest.type=="series"?(this.outgoingRequest=this.searchSeries$(this.lastRequest.query).subscribe({next:t=>{this.searchData.set(t)},error:t=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae series data.",type:"danger",source_feature:"mudae"}),console.log(t)}}),this.outgoingRequest.add(()=>this.loading.set(!1))):this.loading.set(!1)}loadMore(){this.loading()||!this.lastRequest||this.lastRequest.type&&this.searchData().more&&(this.loading.set(!0),this.lastRequest.query=B(F({},this.lastRequest.query),{page:this.lastRequest.query?.page?this.lastRequest.query.page+1:1}),this.lastRequest.type=="character"?(this.outgoingRequest=this.searchCharacters$(this.lastRequest.query).subscribe({next:e=>{this.searchData.update(r=>this.updateResultData(r,e))},error:e=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae character data.",type:"danger",source_feature:"mudae"}),console.log(e)}}),this.outgoingRequest.add(()=>this.loading.set(!1))):this.lastRequest.type=="series"?(this.outgoingRequest=this.searchSeries$(this.lastRequest.query).subscribe({next:e=>{this.searchData.update(r=>this.updateResultData(r,e))},error:e=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae series data.",type:"danger",source_feature:"mudae"}),console.log(e)}}),this.outgoingRequest.add(()=>this.loading.set(!1))):this.loading.set(!1))}searchSeries$(e){return this.seriesService.searchSeries$(e)}searchCharacters$(e){return this.characterService.searchCharacter$(e)}updateResultData(e,r){return e=B(F({},r),{results:e.results}),r.type=="series"?e.results=this.appendSeries(e.results,r.results):e.results.push(...r.results),e}appendSeries(e,r){let t=[...e];for(let o of r){let m=e.findIndex(f=>f.id==o.id);if(m<0)t.push(o);else{let f=[...e[m].characters];for(let E of o.characters)e[m].characters.find(K=>K.id==E.id)||f.push(E);o.characters=f,t[m]=o}}return t}static{this.\u0275fac=function(r){return new(r||i)}}static{this.\u0275prov=$({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var wr=(i,d)=>d.id;function hn(i,d){if(i&1&&u(0,"mudae-character",12),i&2){let e=d.$implicit,r=h(2);l("character",e)("me",r.me())}}function un(i,d){if(i&1&&(a(0,"div",9),b(1,hn,1,2,"mudae-character",12,wr),n()),i&2){let e=h();s(),y(e.searchResults().results)}}function fn(i,d){if(i&1&&u(0,"mudae-series",13),i&2){let e=d.$implicit,r=h(3);l("series",e)("me",r.me())}}function gn(i,d){i&1&&(a(0,"div",14)(1,"h5"),c(2,"No Results Found"),n()())}function vn(i,d){if(i&1&&v(0,gn,3,0,"div",14),i&2){let e=h(3);_(e.isLoading()?-1:0)}}function _n(i,d){if(i&1&&b(0,fn,1,2,"mudae-series",13,wr,!1,vn,1,1),i&2){let e=h(2);y(e.searchResults().results)}}function bn(i,d){if(i&1&&(a(0,"div",10),v(1,_n,3,1),n()),i&2){let e=h();s(),_(e.searchResults().results?1:-1)}}function yn(i,d){i&1&&(a(0,"div",11),u(1,"mat-progress-spinner",15),a(2,"span"),c(3,"Loading..."),n()())}var xr=(()=>{class i{constructor(e,r){this.router=e,this.route=r,this.userService=p(W),this.resourceService=p(L),this.searchService=p(Cr),this.throttler=new $e,this.subs=[],this.me=this.userService.me$,this.isLoading=this.searchService.loading$,this.searchResults=this.searchService.searchData$,this.searchQuery={type:"character"},this.searchForm={type:new k,query:new k};let t=this.route.params.pipe(se(this.route.queryParams)).pipe(oe(150)).subscribe(m=>{let{searchType:f}=this.route.snapshot.params,{q:E}=this.route.snapshot.queryParams;f&&(this.searchQuery.type=f,this.searchForm.type.setValue(f),E?(this.searchForm.query.setValue(E),this.searchService.searchUpdate(f,{q:E})):this.searchService.searchUpdate(f)),console.log(this.searchQuery)}),o=Ie(1e3).subscribe(()=>{let m=window.document.documentElement;!this.searchService.loading$()&&!this.resourceService.loading$()&&m.scrollHeight==m.clientHeight&&this.onScroll()});this.subs.push(t,o)}ngOnInit(){let{searchType:e}=this.route.snapshot.params,{q:r}=this.route.snapshot.queryParams;e?(this.searchForm.type.setValue(e),this.searchForm.query.setValue(r)):this.router.navigate(["search",this.searchQuery.type],{relativeTo:this.route.parent,queryParams:{q:r}})}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}search(){this.searchQuery.q=this.searchForm.query.value,this.searchQuery.type=this.searchForm.type.value||"character",this.router.navigate(["search",this.searchQuery.type],{relativeTo:this.route.parent,queryParams:{q:this.searchQuery.q}})}onScroll(){let e=window.document.documentElement,r=e.scrollHeight-(e.scrollTop+e.offsetHeight),t=Math.min(2e3,e.scrollHeight*.1);r<t&&this.throttler.throttle(()=>{this.searchQuery.type&&this.searchService.loadMore()},T.SCROLL_LOAD_DELAY)}static{this.\u0275fac=function(r){return new(r||i)(x(A),x(P))}}static{this.\u0275cmp=C({type:i,selectors:[["search"]],hostBindings:function(r,t){r&1&&g("scroll",function(){return t.onScroll()},!1,Ee)},decls:20,vars:4,consts:[[1,"mudae-search","mudae-list"],[1,"search-header"],[1,"search-form","mudae-filter"],["appearance","outline",1,"type"],["placeholder","Character or Series ...",3,"formControl"],["value","character"],["value","series"],["appearance","outline",1,"search"],["matInput","","placeholder","Search ...",3,"keydown.enter","formControl"],[1,"character-list"],[1,"series-list"],[1,"loading"],[3,"character","me"],[3,"series","me"],[1,"no-results"],["mode","indeterminate"]],template:function(r,t){if(r&1&&(a(0,"div",0)(1,"div",1)(2,"span"),c(3,"Search"),n()(),a(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),c(7,"Type"),n(),a(8,"mat-select",4)(9,"mat-option",5),c(10,"Character"),n(),a(11,"mat-option",6),c(12,"Series"),n()()(),a(13,"mat-form-field",7)(14,"mat-label"),c(15,"Search"),n(),a(16,"input",8),g("keydown.enter",function(){return t.search()}),n()()(),v(17,un,3,0,"div",9)(18,bn,2,1,"div",10)(19,yn,4,0,"div",11),n()),r&2){let o;s(8),l("formControl",t.searchForm.type),s(8),l("formControl",t.searchForm.query),s(),_((o=t.searchResults().type)==="character"?17:o==="series"?18:-1),s(2),_(t.isLoading()?19:-1)}},dependencies:[be,_e,we,Ct,Ce,ye,je,He,Ve,te,vt,Z,ee,Ti,Di],styles:["[_nghost-%COMP%]{position:relative}.mudae-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem}.mudae-filter[_ngcontent-%COMP%]{position:fixed;top:0;width:calc(100% - var(--mudae-nav-width));max-width:calc(var(--mudae-page-width) - var(--mudae-nav-width));padding:.5rem 1rem;z-index:100;display:flex;flex-direction:column;gap:.5rem}.character-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1rem 1.3rem;padding:0rem 1rem;margin-top:4rem;overflow:hidden}.series-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:4rem}.no-results[_ngcontent-%COMP%]{position:fixed;top:40%}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:auto;padding-top:5rem;align-items:center}@media (max-width: 720px){.mudae-filter[_ngcontent-%COMP%]{top:3.5rem;width:100%}.series-list[_ngcontent-%COMP%]{margin-top:4rem}}.search-form[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;padding:1rem;background-color:var(--mudae-filter-bg-color);box-shadow:var(--mudae-filter-shadow);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.search[_ngcontent-%COMP%]{flex:1}.type[_ngcontent-%COMP%]{flex:1;min-width:6rem;max-width:10rem}.search-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;font-size:1.2rem;padding:1rem;background-color:var(--mudae-medium)}"]})}}return i})();var Cn=[{path:"home",component:ji},{path:"search",redirectTo:"search/character"},{path:"search/:searchType",component:xr},{path:"updates",component:Yt},{path:"updates/:update",component:Yt},{path:"servers",component:Gi},{path:"servers/:serverId",component:br},{path:"servers/:serverId/claims/:userId",component:ur},{path:"**",redirectTo:"home",pathMatch:"full"}],Nd=[{path:"login",component:Ri},{path:"logout",component:Ni},{path:"on-login",component:Pi},{path:"",component:$i,loadChildren:()=>Cn,canActivate:[Hi]}];export{Cn as contentRoutes,Nd as mudaeRoutes};
