import{a as z,b as J}from"./chunk-YQT2ZH4O.js";import"./chunk-3PMNG65X.js";import{a as B,b as k,g as L,i as j,j as H}from"./chunk-4P6JCT6G.js";import{B as P,C as R,b as N,f as E,g as T,o as b,p as G,q as O,r as V,w as $,y as D}from"./chunk-ESTKDGOR.js";import"./chunk-HU7WFQWJ.js";import{d as I}from"./chunk-RA5YA7SP.js";import{O as A}from"./chunk-AE4C5XQ6.js";import"./chunk-MB2EZ7OD.js";import{Ba as l,Fa as C,Ib as p,Ob as d,Pb as Q,Qb as F,Rb as f,Sb as g,Tb as r,Ub as n,Vb as v,Xb as M,Zb as S,_b as m,bc as w,cb as o,jc as u,kc as y,ma as x,na as h,pb as q,wb as c}from"./chunk-UUT3EF6T.js";function U(i,a){if(i&1&&(r(0,"mat-option",4),u(1),n()),i&2){let e=m().$index,t=m();p("value",t.myQuestion(e)),o(),y(t.myQuestion(e))}}function W(i,a){if(i&1&&(r(0,"mat-option",4),u(1),n()),i&2){let e=a.$implicit;p("value",e),o(),y(e)}}function X(i,a){i&1&&(r(0,"mat-hint"),u(1,"Error: Answer begins or ends with a space"),n())}function Y(i,a){if(i&1){let e=M();r(0,"div",2)(1,"mat-select",3),S("selectionChange",function(){x(e);let s=m();return h(s.updateRemainingQuestions())}),c(2,U,2,2,"mat-option",4),f(3,W,2,2,"mat-option",4,F),n(),r(5,"mat-form-field",5)(6,"mat-label"),u(7,"Answer"),n(),v(8,"input",6),c(9,X,2,0,"mat-hint"),n()()}if(i&2){let e=a.$index,t=m();w("formGroupName",e),o(2),d(t.myQuestion(e)?2:-1),o(),g(t.remainingQuestions()),o(6),d(t.myAnswer(e).hasError("invalidSecurityQuestionAnswerSeq")?9:-1)}}var pe=(()=>{class i{constructor(){this.form=l.required(),this.questions=l.required(),this.numberQuestions=l.required(),this.remainingQuestions=C([])}ngOnInit(){this.remainingQuestions.set(this.questions())}getQuestion(e,t){return t?this.questionsFormArray.at(e).controls.answer:this.questionsFormArray.at(e).controls.question}myQuestion(e){return this.getQuestion(e).value}myAnswer(e){return this.getQuestion(e,!0)}updateRemainingQuestions(){let e=[...this.questions()];for(let t=0;t<this.numberQuestions();t++){let s=this.getQuestion(t).value,_=e.findIndex(K=>K==s);_>-1&&e.splice(_,1)}this.remainingQuestions.set(e)}get questionsFormArray(){return this.form().get("questions")}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=q({type:i,selectors:[["security-questions-form"]],inputs:{form:[1,"form"],questions:[1,"questions"],numberQuestions:[1,"numberQuestions"]},decls:4,vars:1,consts:[[3,"formGroup"],["formArrayName","questions",1,"questions"],[1,"question-group",3,"formGroupName"],["formControlName","question","placeholder","Select a Question","required","",3,"selectionChange"],[3,"value"],["appearance","outline",1,"settings-input"],["formControlName","answer","type","password","matInput","","maxlength","256","placeholder","Answer...","required",""]],template:function(t,s){t&1&&(r(0,"div",0)(1,"div",1),f(2,Y,10,3,"div",2,Q),n()()),t&2&&(p("formGroup",s.form()),o(2),g(s.questionsFormArray.controls))},dependencies:[R,N,E,T,$,D,b,V,G,O,P,H,j,L,B,k,I,J,z,A],styles:[".change-question[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;justify-content:center}.questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.question-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.settings-input[_ngcontent-%COMP%]{width:100%}"]})}}return i})();export{pe as SecurityQuestionsFormComponent};
