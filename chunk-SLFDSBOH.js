import{a as wi,b as xi}from"./chunk-P2MSSK5X.js";import{a as ye,b as Ce,c as Ue}from"./chunk-TF3S5RIE.js";import{a as li}from"./chunk-CGQI2L42.js";import{a as $e,b as He,c as Ne}from"./chunk-LCBHDNMZ.js";import"./chunk-MAA5GSAZ.js";import"./chunk-OG2F7MK6.js";import{a as we,d as xt,e as Fi,f as Oi,g as xe,h as Ut,i as Di,k as St,l as Se}from"./chunk-CVYHWQ3C.js";import{C as ze,D as te,a as zt,b as yt,c as Si,d as Mi,e as Ct,f as J,g as ki,j as wt,k,m as Ii,p as ee,t as Ei}from"./chunk-XT72EIBI.js";import{a as Le}from"./chunk-7E7XWTTT.js";import{a as bi,b as yi,c as Ci}from"./chunk-NTGWZLDD.js";import{a as Pi}from"./chunk-IX7OI46W.js";import{a as Mt}from"./chunk-6R3WEB4Y.js";import{a as Ri}from"./chunk-SVYMGW6U.js";import{a as be,b as bt,c as L,d as Ti}from"./chunk-5PZIQAPZ.js";import{a as Ve,b as Be}from"./chunk-WRSMBKFW.js";import{B as ui,C as fi,D as gi,E as et,G as _i,H as Z,I as vt,J as Q,f as ht,m as qe,n as ut,p as hi,y as ft}from"./chunk-KCLKHEQV.js";import{a as Je,b as pi,d as vi,e as gt}from"./chunk-RVDJVD4K.js";import{a as _t}from"./chunk-EJWSQFFV.js";import{a as mi}from"./chunk-JLWIDV3F.js";import{b as P,c as ci,e as A,f as ve,g as di,k as _e}from"./chunk-E7SDSQEU.js";import"./chunk-KE4LITEF.js";import"./chunk-44VI7T2K.js";import"./chunk-76PGFOOU.js";import{$a as ae,$b as ue,Ac as De,Bb as me,Bc as Re,C as Ee,Cc as Te,D as nt,Da as ct,Ea as Vt,Fc as ke,Ga as j,Gc as ne,Ha as ai,Hc as Pe,I as ce,Jb as pe,Kb as he,Nb as U,Nc as Ae,Oc as ni,Q as de,Rb as v,Rc as oi,S as Jt,Sb as _,Sc as si,Tb as F,Tc as pt,Ub as We,Uc as Ie,Vb as y,W as ot,Wb as C,X as ei,Xb as l,Xc as Bt,Y as le,Yb as r,Zb as n,Zc as Xe,_b as u,a as O,ac as fe,ad as R,b as $,ba as At,bb as Fe,bd as Ze,c as rt,ca as H,da as st,db as s,dc as q,ec as Oe,fa as ie,fc as g,ha as p,hc as h,ib as ri,ic as re,j as Qe,jc as z,kc as Ke,lc as Ye,ma as S,mb as w,mc as V,na as M,nc as B,o as Zt,oa as Lt,qa as ti,ra as qt,rc as ge,tc as X,ua as N,ub as b,va as ii,vb as dt,vc as lt,wb as G,wc as c,xc as x,ya as D,yc as mt,zb as Y}from"./chunk-W56RDURX.js";var T=(()=>{class i{static{this.SCROLL_LOAD_DELAY=750}static{this.MUDAE_TOKEN_COOKIE_NAME="mudae-tokens"}static{this.ANONYMOUS_USER_STORAGE_KEY="mudae-anonymous-user"}static{this.BG_COLOR="#313338"}static{this.INDEX_COLOR="#2b2b2b"}static{this.TEXT_COLOR="#c8c8c8"}}return i})();var oe=class i extends li{static{this.url=`${mi.mudae()}/api/oauth`}constructor(){super(`${i.url}/url`,`${i.url}/tokens`,`${i.url}/refresh`,`${i.url}/logout`,T.MUDAE_TOKEN_COOKIE_NAME)}isValid$(){return this.http.get(`${i.url}/valid`)}static{this.\u0275fac=function(e){return new(e||i)}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}};var W=(()=>{class i extends be{constructor(){super(),this.cookieService=p(Le);let e=localStorage.getItem(T.ANONYMOUS_USER_STORAGE_KEY),a=e?JSON.parse(e):bi();this.me=D(a),this.me$=this.me.asReadonly(),this.cookieService.check(T.MUDAE_TOKEN_COOKIE_NAME)&&this.cookieService.get(T.MUDAE_TOKEN_COOKIE_NAME)!="anonymous"&&this.refreshMe()}refreshMe(){this.getMe$().pipe(Jt(3)).subscribe({next:e=>{e.id!="anonymous"?this.me.set(e):this.me.set(this.me())},error:e=>{this.toastService.show({header:"Error",body:"Failed to retrieve user data.",type:"danger",source_feature:"mudae"}),console.log(e)}})}getMe$(){return this.http.get(`${this.url}/api/users/@me`)}setMe(e){this.me.set(e)}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ai=(()=>{class i{constructor(e,a){this.router=e,this.route=a,this.mudaeLogin=p(oe),this.userService=p(W),this.subs=[],this.returnTo=this.route.snapshot.queryParams.returnTo;let t=this.mudaeLogin.tokensRecieved$.subscribe(o=>{o!=null&&(this.mudaeLogin.setTokenCookie(JSON.stringify(o),new Date(Date.now()+o.expires_in*1e3)),this.redirect())});this.subs.push(t)}ngOnInit(){}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}login(){this.mudaeLogin.login()}guest(){let e=localStorage.getItem(T.ANONYMOUS_USER_STORAGE_KEY);if(console.log("Anon:",e),e){let a=JSON.parse(e);this.userService.setMe(a)}else{let a=yi();localStorage.setItem(T.ANONYMOUS_USER_STORAGE_KEY,JSON.stringify(a)),this.userService.setMe(a)}this.mudaeLogin.setTokenCookie("anonymous"),this.redirect()}redirect(){this.returnTo?this.router.navigateByUrl(this.returnTo):this.router.navigate(["home"],{relativeTo:this.route.parent})}static{this.\u0275fac=function(a){return new(a||i)(w(A),w(P))}}static{this.\u0275cmp=b({type:i,selectors:[["mudae-login"]],decls:13,vars:0,consts:[["id","mudae-login-page",1,"login-page"],[1,"login-container"],[1,"desc"],[1,"login-methods"],[1,"btn-container"],["mat-raised-button","",1,"login-btn",3,"click"]],template:function(a,t){a&1&&(r(0,"div",0)(1,"div",1)(2,"legend"),c(3,"Schmid's Mudae Tracker"),n(),r(4,"div",2),c(5,"Mudae Updates & Server Harems"),n(),r(6,"div",3)(7,"div",4)(8,"button",5),g("click",function(){return t.login()}),c(9,"Login via Discord"),n()(),r(10,"div",4)(11,"button",5),g("click",function(){return t.guest()}),c(12,"Continue as Guest"),n()()()()())},dependencies:[Q,Z],styles:["#mudae-login-page[_ngcontent-%COMP%]{padding:3rem}.login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:20rem;padding:1rem;margin:0rem auto;text-align:center;color:var(--mudae-text-color);box-shadow:var(--mudae-character-shadow);border-radius:4px;background-color:var(--mudae-light)}.desc[_ngcontent-%COMP%]{font-variant-caps:all-petite-caps;letter-spacing:1px}.login-methods[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:3rem;align-items:center;padding:1rem;margin-top:4rem;margin-bottom:1rem}.btn-container[_ngcontent-%COMP%]{text-align:center}.login-btn[_ngcontent-%COMP%]{border-radius:.5rem}"]})}}return i})();function Oa(i,d){i&1&&(ue(0,"div"),c(1,"Awaiting Token Response..."),fe())}function Da(i,d){i&1&&(ue(0,"div"),c(1,"Tokens Recieved"),fe())}function Ra(i,d){i&1&&(ue(0,"div"),c(1,"Failed to retrieve tokens"),fe())}var Li=(()=>{class i{constructor(e){this.route=e,this.mudaeLogin=p(oe),this.tokenExchangeResult=0}ngOnInit(){let e=this.route.snapshot.queryParams,a=e.code,t=e.state;a&&t&&this.mudaeLogin.getTokens$(a,t).subscribe({next:o=>{window.opener.postMessage(o),this.tokenExchangeResult=1,window.close()},error:o=>{this.tokenExchangeResult=-1}})}static{this.\u0275fac=function(a){return new(a||i)(w(P))}}static{this.\u0275cmp=b({type:i,selectors:[["mudae-on-login"]],decls:4,vars:1,consts:[[1,"on-login"]],template:function(a,t){if(a&1&&(ue(0,"div",0),v(1,Oa,2,0,"div")(2,Da,2,0,"div")(3,Ra,2,0,"div"),fe()),a&2){let o;s(),_((o=t.tokenExchangeResult)===0?1:o===1?2:o===-1?3:-1)}},styles:[".on-login[_ngcontent-%COMP%]{margin:5rem;padding:1rem;color:var(--mudae-text-color)}"]})}}return i})();var Ta=["mat-internal-form-field",""],Pa=["*"],qi=(()=>{class i{labelPosition;static \u0275fac=function(a){return new(a||i)};static \u0275cmp=b({type:i,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(a,t){a&2&&X("mdc-form-field--align-end",t.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},attrs:Ta,ngContentSelectors:Pa,decls:1,vars:0,template:function(a,t){a&1&&(re(),z(0))},styles:[`.mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}
`],encapsulation:2,changeDetection:0})}return i})();var Aa=["switch"],La=["*"];function qa(i,d){i&1&&(r(0,"span",11),Lt(),r(1,"svg",13),u(2,"path",14),n(),r(3,"svg",15),u(4,"path",16),n()())}var Va=new ie("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1,disabledInteractive:!1})}),It=class{source;checked;constructor(d,e){this.source=d,this.checked=e}},$t=(()=>{class i{_elementRef=p(j);_focusMonitor=p(ht);_changeDetectorRef=p(Xe);defaults=p(Va);_onChange=e=>{};_onTouched=()=>{};_validatorOnChange=()=>{};_uniqueId;_checked=!1;_createChangeEvent(e){return new It(this,e)}_labelId;get buttonId(){return`${this.id||this._uniqueId}-button`}_switchElement;focus(){this._switchElement.nativeElement.focus()}_noopAnimations=ft();_focused;name=null;id;labelPosition="after";ariaLabel=null;ariaLabelledby=null;ariaDescribedby;required;color;disabled=!1;disableRipple=!1;tabIndex=0;get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}hideIcon;disabledInteractive;change=new N;toggleChange=new N;get inputId(){return`${this.id||this._uniqueId}-input`}constructor(){p(Je).load(et);let e=p(new oi("tabindex"),{optional:!0}),a=this.defaults;this.tabIndex=e==null?0:parseInt(e)||0,this.color=a.color||"accent",this.id=this._uniqueId=p(qe).getId("mat-mdc-slide-toggle-"),this.hideIcon=a.hideIcon??!1,this.disabledInteractive=a.disabledInteractive??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e==="keyboard"||e==="program"?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&e.value!==!0?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.disabled||(this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new It(this,this.checked))))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=b({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(a,t){if(a&1&&Ye(Aa,5),a&2){let o;V(o=B())&&(t._switchElement=o.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(a,t){a&2&&(Oe("id",t.id),U("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),lt(t.color?"mat-"+t.color:""),X("mat-mdc-slide-toggle-focused",t._focused)("mat-mdc-slide-toggle-checked",t.checked)("_mat-animation-noopable",t._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",R],color:"color",disabled:[2,"disabled","disabled",R],disableRipple:[2,"disableRipple","disableRipple",R],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ze(e)],checked:[2,"checked","checked",R],hideIcon:[2,"hideIcon","hideIcon",R],disabledInteractive:[2,"disabledInteractive","disabledInteractive",R]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[ke([{provide:zt,useExisting:At(()=>i),multi:!0},{provide:Si,useExisting:i,multi:!0}]),ct],ngContentSelectors:La,decls:14,vars:27,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mat-mdc-slide-toggle-touch-target"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(a,t){if(a&1){let o=q();re(),r(0,"div",1)(1,"button",2,0),g("click",function(){return S(o),M(t._handleClick())}),u(3,"div",3)(4,"span",4),r(5,"span",5)(6,"span",6)(7,"span",7),u(8,"span",8),n(),r(9,"span",9),u(10,"span",10),n(),v(11,qa,5,0,"span",11),n()()(),r(12,"label",12),g("click",function(f){return S(o),M(f.stopPropagation())}),z(13),n()()}if(a&2){let o=ge(2);l("labelPosition",t.labelPosition),s(),X("mdc-switch--selected",t.checked)("mdc-switch--unselected",!t.checked)("mdc-switch--checked",t.checked)("mdc-switch--disabled",t.disabled)("mat-mdc-slide-toggle-disabled-interactive",t.disabledInteractive),l("tabIndex",t.disabled&&!t.disabledInteractive?-1:t.tabIndex)("disabled",t.disabled&&!t.disabledInteractive),U("id",t.buttonId)("name",t.name)("aria-label",t.ariaLabel)("aria-labelledby",t._getAriaLabelledBy())("aria-describedby",t.ariaDescribedby)("aria-required",t.required||null)("aria-checked",t.checked)("aria-disabled",t.disabled&&t.disabledInteractive?"true":null),s(9),l("matRippleTrigger",o)("matRippleDisabled",t.disableRipple||t.disabled)("matRippleCentered",!0),s(),_(t.hideIcon?-1:11),s(),l("for",t.buttonId),U("id",t._labelId)}},dependencies:[fi,qi],styles:[`.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mat-slide-toggle-track-width, 52px)}.mdc-switch.mdc-switch--disabled{cursor:default;pointer-events:none}.mdc-switch.mat-mdc-slide-toggle-disabled-interactive{pointer-events:auto}label:empty{display:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mat-slide-toggle-track-height, 32px);border-radius:var(--mat-slide-toggle-track-shape, var(--mat-sys-corner-full))}.mdc-switch--disabled.mdc-switch .mdc-switch__track{opacity:var(--mat-slide-toggle-disabled-track-opacity, 0.12)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-slide-toggle-track-outline-width, 2px);border-color:var(--mat-slide-toggle-track-outline-color, var(--mat-sys-outline))}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-slide-toggle-selected-track-outline-width, 2px);border-color:var(--mat-slide-toggle-selected-track-outline-color, transparent)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-slide-toggle-disabled-unselected-track-outline-width, 2px);border-color:var(--mat-slide-toggle-disabled-unselected-track-outline-color, var(--mat-sys-on-surface))}@media(forced-colors: active){.mdc-switch__track{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mat-slide-toggle-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-slide-toggle-hidden-track-opacity, 0);transition:var(--mat-slide-toggle-hidden-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-slide-toggle-visible-track-opacity, 1);transition:var(--mat-slide-toggle-visible-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-hover-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-focus-track-color, var(--mat-sys-surface-variant))}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mat-slide-toggle-unselected-pressed-track-color, var(--mat-sys-surface-variant))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::before,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::before,.mdc-switch.mdc-switch--disabled .mdc-switch__track::before{background:var(--mat-slide-toggle-disabled-unselected-track-color, var(--mat-sys-surface-variant))}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mat-slide-toggle-selected-track-color, var(--mat-sys-primary))}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-slide-toggle-visible-track-opacity, 1);transition:var(--mat-slide-toggle-visible-track-transition, opacity 75ms)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-slide-toggle-hidden-track-opacity, 0);transition:var(--mat-slide-toggle-hidden-track-transition, opacity 75ms)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-hover-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-focus-track-color, var(--mat-sys-primary))}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mat-slide-toggle-selected-pressed-track-color, var(--mat-sys-primary))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__track::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__track::after,.mdc-switch.mdc-switch--disabled .mdc-switch__track::after{background:var(--mat-slide-toggle-disabled-selected-track-color, var(--mat-sys-on-surface))}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mat-slide-toggle-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mat-slide-toggle-handle-width);height:var(--mat-slide-toggle-handle-height);border-radius:var(--mat-slide-toggle-handle-shape, var(--mat-sys-corner-full))}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-slide-toggle-unselected-handle-size, 16px);height:var(--mat-slide-toggle-unselected-handle-size, 16px);margin:var(--mat-slide-toggle-unselected-handle-horizontal-margin, 0 8px)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-slide-toggle-unselected-with-icon-handle-horizontal-margin, 0 4px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-slide-toggle-selected-handle-size, 24px);height:var(--mat-slide-toggle-selected-handle-size, 24px);margin:var(--mat-slide-toggle-selected-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-slide-toggle-selected-with-icon-handle-horizontal-margin, 0 24px)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-slide-toggle-with-icon-handle-size, 24px);height:var(--mat-slide-toggle-with-icon-handle-size, 24px)}.mat-mdc-slide-toggle .mdc-switch:active:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-slide-toggle-pressed-handle-size, 28px);height:var(--mat-slide-toggle-pressed-handle-size, 28px)}.mat-mdc-slide-toggle .mdc-switch--selected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-slide-toggle-selected-pressed-handle-horizontal-margin, 0 22px)}.mat-mdc-slide-toggle .mdc-switch--unselected:active:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-slide-toggle-unselected-pressed-handle-horizontal-margin, 0 2px)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-slide-toggle-disabled-selected-handle-opacity, 1)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-slide-toggle-disabled-unselected-handle-opacity, 0.38)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media(forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-handle-color, var(--mat-sys-on-primary))}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-hover-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-focus-handle-color, var(--mat-sys-primary-container))}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mat-slide-toggle-selected-pressed-handle-color, var(--mat-sys-primary-container))}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:hover:not(:focus):not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:focus:not(:active) .mdc-switch__handle::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled.mdc-switch--selected:active .mdc-switch__handle::after,.mdc-switch--selected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-disabled-selected-handle-color, var(--mat-sys-surface))}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-handle-color, var(--mat-sys-outline))}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-hover-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-focus-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mat-slide-toggle-unselected-pressed-handle-color, var(--mat-sys-on-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__handle::after{background:var(--mat-slide-toggle-disabled-unselected-handle-color, var(--mat-sys-on-surface))}.mdc-switch__handle::before{background:var(--mat-slide-toggle-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mat-slide-toggle-handle-elevation-shadow)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:hover:not(:focus):not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:focus:not(:active) .mdc-switch__shadow,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:active .mdc-switch__shadow,.mdc-switch.mdc-switch--disabled .mdc-switch__shadow{box-shadow:var(--mat-slide-toggle-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mat-slide-toggle-state-layer-size, 40px);height:var(--mat-slide-toggle-state-layer-size, 40px)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch--disabled .mdc-switch__ripple::after{display:none}.mat-mdc-slide-toggle-disabled-interactive .mdc-switch__ripple::after{display:block}.mdc-switch:hover .mdc-switch__ripple::after{transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:focus .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:active .mdc-switch__ripple::after,.mat-mdc-slide-toggle-disabled-interactive.mdc-switch--disabled:enabled:hover:not(:focus) .mdc-switch__ripple::after,.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-hover-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-focus-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mat-slide-toggle-unselected-pressed-state-layer-color, var(--mat-sys-on-surface));opacity:var(--mat-slide-toggle-unselected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-hover-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-focus-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mat-slide-toggle-selected-pressed-state-layer-color, var(--mat-sys-primary));opacity:var(--mat-slide-toggle-selected-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity));transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1;transform:translateZ(0)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__icons{opacity:var(--mat-slide-toggle-disabled-unselected-icon-opacity, 0.38)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__icons{opacity:var(--mat-slide-toggle-disabled-selected-icon-opacity, 0.38)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mat-slide-toggle-unselected-icon-size, 16px);height:var(--mat-slide-toggle-unselected-icon-size, 16px);fill:var(--mat-slide-toggle-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--unselected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mat-slide-toggle-disabled-unselected-icon-color, var(--mat-sys-surface-variant))}.mdc-switch--selected .mdc-switch__icon{width:var(--mat-slide-toggle-selected-icon-size, 16px);height:var(--mat-slide-toggle-selected-icon-size, 16px);fill:var(--mat-slide-toggle-selected-icon-color, var(--mat-sys-on-primary-container))}.mdc-switch--selected.mdc-switch--disabled .mdc-switch__icon{fill:var(--mat-slide-toggle-disabled-selected-icon-color, var(--mat-sys-on-surface))}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{-webkit-user-select:none;user-select:none;display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-slide-toggle-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-slide-toggle-label-text-font, var(--mat-sys-body-medium-font));line-height:var(--mat-slide-toggle-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-slide-toggle-label-text-size, var(--mat-sys-body-medium-size));letter-spacing:var(--mat-slide-toggle-label-text-tracking, var(--mat-sys-body-medium-tracking));font-weight:var(--mat-slide-toggle-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mat-slide-toggle-disabled-label-text-color, var(--mat-sys-on-surface))}.mat-mdc-slide-toggle-touch-target{position:absolute;top:50%;left:50%;height:var(--mat-slide-toggle-touch-target-size, 48px);width:100%;transform:translate(-50%, -50%);display:var(--mat-slide-toggle-touch-target-display, block)}[dir=rtl] .mat-mdc-slide-toggle-touch-target{left:auto;right:50%;transform:translate(50%, -50%)}
`],encapsulation:2,changeDetection:0})}return i})(),Vi=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=dt({type:i});static \u0275inj=st({imports:[$t,gt]})}return i})();var Bi=(()=>{class i{constructor(){this.resourcesService=p(L),this.toastService=p(_t),this.form={},this.onClose=pt(),this.settings=this.resourcesService.settings$,this.currentSettings=this.settings(),this.form.hideAdultSeries=new k(this.settings().hideAdultSeries),this.form.hideAdultCharacters=new k(this.settings().hideAdultCharacters),this.form.displayCharacterRank=new k(this.settings().displayCharacterRank),this.form.displayCharacterSeries=new k(this.settings().displayCharacterSeries),this.form.preserveFiltersInHistory=new k(this.settings().preserveFiltersInHistory)}ngOnInit(){}saveSettings(){let e={};for(let a of Object.keys(this.form)){let t=this.form[a].value;e[a]=t||!1}this.resourcesService.saveSettings(e),this.onClose.emit(!0),this.toastService.show({type:"success",source_feature:"mudae",header:"Settings Saved",delay:1500})}close(){this.onClose.emit(!1)}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=b({type:i,selectors:[["mudae-settings"]],outputs:{onClose:"onClose"},decls:44,vars:5,consts:[[1,"mudae-settings"],[1,"mudae-settings-header","settings-header"],[1,"series-settings"],[1,"settings-header"],[1,"settings-list"],[1,"setting"],[1,"toggle-btn",3,"formControl"],[1,"character-settings"],[1,"general-settings"],[1,"buttons"],["mat-stroked-button","","matSuffix","",1,"save-settings-btn",3,"click"]],template:function(a,t){a&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),c(3,"Settings"),n()(),r(4,"div",2)(5,"div",3)(6,"h4"),c(7,"Series Settings"),n()(),r(8,"div",4)(9,"div",5)(10,"span"),c(11,"Hide 18+ Series"),n(),u(12,"mat-slide-toggle",6),n()()(),r(13,"div",7)(14,"div",3)(15,"h4"),c(16,"Character Settings"),n()(),r(17,"div",4)(18,"div",5)(19,"span"),c(20,"Hide 18+ Characters"),n(),u(21,"mat-slide-toggle",6),n(),r(22,"div",5)(23,"span"),c(24,"Display Character's Rank"),n(),u(25,"mat-slide-toggle",6),n(),r(26,"div",5)(27,"span"),c(28,"Display Character's Series"),n(),u(29,"mat-slide-toggle",6),n()()(),r(30,"div",8)(31,"div",3)(32,"h4"),c(33,"General Settings"),n()(),r(34,"div",4)(35,"div",5)(36,"span"),c(37,"Preserve Filter Settings in History"),n(),u(38,"mat-slide-toggle",6),n()()(),r(39,"div",9)(40,"button",10),g("click",function(){return t.close()}),c(41,"Cancel"),n(),r(42,"button",10),g("click",function(){return t.saveSettings()}),c(43,"Save Settings"),n()()()),a&2&&(s(12),l("formControl",t.form.hideAdultSeries),s(9),l("formControl",t.form.hideAdultCharacters),s(4),l("formControl",t.form.displayCharacterRank),s(4),l("formControl",t.form.displayCharacterSeries),s(9),l("formControl",t.form.preserveFiltersInHistory))},dependencies:[te,J,ee,Vi,$t,Q,Z],styles:[".mudae-settings[_ngcontent-%COMP%]{position:relative}.mudae-settings-header[_ngcontent-%COMP%]{background-color:var(--mudae-dark)}.settings-header[_ngcontent-%COMP%]{text-align:center;padding:1rem}.settings-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.25rem 1rem;align-items:center}.setting[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:1rem;align-items:center;justify-content:center;min-width:20rem}.toggle-btn[_ngcontent-%COMP%]{margin-left:auto}.buttons[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:2.5rem;padding:2.5rem 1rem}.save-settings-btn[_ngcontent-%COMP%]{font-size:1rem;border-radius:4px;background-color:var(--mudae-text-color)}"]})}}return i})();var za=()=>[import("./chunk-Y6QAHQWM.js").then(i=>i.MudaeUserInfoComponent)],zi=()=>["home"],Ui=()=>["updates"],$i=()=>["logout"],Ni=()=>["servers"];function Ua(i,d){i&1&&(r(0,"div",1)(1,"h2"),c(2,"Initializing Data"),n(),u(3,"mat-progress-spinner",21),n())}function $a(i,d){if(i&1&&u(0,"mudae-user-info",22),i&2){let e=h();l("user",e.me())}}function Ha(i,d){if(i&1&&(r(0,"a",8),u(1,"mat-icon",23),c(2," My Servers "),n()),i&2){let e=h();l("routerLink",e.isActive("/servers")?null:ne(1,Ni))}}function Na(i,d){if(i&1&&(u(0,"mat-divider",16),r(1,"a",8),u(2,"mat-icon",23),n()),i&2){let e=h();l("vertical",!0),s(),l("routerLink",e.isActive("/servers")?null:ne(2,Ni))}}function ja(i,d){i&1&&(r(0,"section",19),u(1,"router-outlet"),n())}function Ga(i,d){if(i&1){let e=q();r(0,"mudae-settings",24),g("onClose",function(t){S(e);let o=h();return M(o.closeSettings(t))}),n()}}var ji=(()=>{class i{constructor(e){this.router=e,this.userService=p(W),this.resourceService=p(L),this.characterService=p(bt),this.settingsShown=D(!1),this.me=this.userService.me$,this.userService.refreshMe(),this.updatesLoading=this.resourceService.updateLoading$,this.initializing=Ae(()=>this.resourceService.loading$()||this.userService.me$().id=="empty"),this.characterService.characterChanges$.subscribe(a=>{if(!this.me)return;let t=this.me();switch(a.action){case"FAVORITE":t.favorites.push(a.characterId);break;case"UNFAVORITE":this.removeCharacterFromList(a.characterId,t.favorites);break;case"UNCLAIMED":this.removeCharacterFromList(a.characterId,t.owned),this.removeCharacterFromList(a.characterId,t.lost);break;case"OWNED":this.removeCharacterFromList(a.characterId,t.lost),t.owned.push(a.characterId);break;case"LOST":this.removeCharacterFromList(a.characterId,t.owned),t.lost.push(a.characterId);break}})}ngOnInit(){}get avatar(){return Ci(this.me())}isActive(e){let a="/mudae",t={fragment:"ignored",matrixParams:"ignored",paths:"subset",queryParams:"ignored"};return this.router.isActive(a+e,t)}showSettings(){this.settingsShown.set(!0)}closeSettings(e){this.settingsShown.set(!1)}removeCharacterFromList(e,a){var t=a.findIndex(o=>o==e);t>-1&&a.splice(t,1)}static{this.\u0275fac=function(a){return new(a||i)(w(A))}}static{this.\u0275cmp=b({type:i,selectors:[["mudae-index"]],decls:39,vars:23,consts:[["id","mudae-index",1,"index"],[1,"initalizing"],[1,"index-sections",3,"hidden"],[1,"user_and_nav"],[1,"side-bar"],["id","user"],["id","navigation"],[1,"nav-list"],["routerLinkActive","router-link-active",1,"nav-link",3,"routerLink"],["fontIcon","home"],["fontIcon","update"],[1,"nav-link",3,"click"],["fontIcon","settings"],["routerLinkActive","router-link-active",1,"nav-link","logout",3,"routerLink"],["fontIcon","logout"],[1,"upper-nav"],[3,"vertical"],[1,"avatar-container",3,"title"],[1,"user-avatar",3,"alt","src"],["id","content"],[1,"mudae-settings"],["mode","indeterminate"],[3,"user"],["fontIcon","group"],[1,"mudae-settings",3,"onClose"]],template:function(a,t){a&1&&(r(0,"div",0),v(1,Ua,4,0,"div",1),r(2,"div",2)(3,"div",3)(4,"div",4)(5,"section",5),me(6,$a,1,1),pe(7,6,za),n(),r(9,"section",6)(10,"div",7)(11,"a",8),u(12,"mat-icon",9),c(13," Home "),n(),r(14,"a",8),u(15,"mat-icon",10),c(16," Updates "),n(),v(17,Ha,3,2,"a",8),r(18,"a",11),g("click",function(){return t.showSettings()}),u(19,"mat-icon",12),c(20," Settings "),n(),r(21,"a",13),u(22,"mat-icon",14),c(23," Logout "),n()()()()(),r(24,"div",15)(25,"a",8),u(26,"mat-icon",9),n(),u(27,"mat-divider",16),r(28,"a",8),u(29,"mat-icon",10),n(),v(30,Na,3,3),r(31,"a",11),g("click",function(){return t.showSettings()}),u(32,"mat-icon",12),n(),r(33,"a",13),u(34,"mat-icon",14),n(),r(35,"div",17),u(36,"img",18),n()(),v(37,ja,2,0,"section",19),v(38,Ga,1,0,"mudae-settings",20),n()()),a&2&&(s(),_(t.initializing()?1:-1),s(),l("hidden",t.initializing()),s(5),he(t.me),s(4),l("routerLink",t.isActive("/home")?null:ne(17,zi)),s(3),l("routerLink",t.isActive("/updates")?null:ne(18,Ui)),s(3),_(t.me().id!="anonymous"?17:-1),s(4),l("routerLink",t.isActive("/logout")?null:ne(19,$i)),s(4),l("routerLink",t.isActive("/home")?null:ne(20,zi)),s(2),l("vertical",!0),s(),l("routerLink",t.isActive("/updates")?null:ne(21,Ui)),s(2),_(t.me().id!="anonymous"?30:-1),s(3),l("routerLink",t.isActive("/logout")?null:ne(22,$i)),s(2),l("title",t.me().username),s(),l("alt",t.me().name)("src",t.avatar,ae),s(),_(t.updatesLoading()?-1:37),s(),_(t.settingsShown()?38:-1))},dependencies:[_e,ci,ve,di,Be,Ve,Q,Ce,ye,xi,wi,Bi],styles:[".index[_ngcontent-%COMP%]{min-height:100%;width:100%;max-width:1440px;margin:0 auto;color:var(--mudae-text-color)}.initalizing[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:5rem .5rem;align-items:center}.index-sections[_ngcontent-%COMP%]{height:100%;width:100%}.mudae-settings[_ngcontent-%COMP%]{position:fixed;top:1.5rem;left:1.5rem;width:calc(100% - 3rem);height:calc(100% - 3rem);border-radius:5px;background-color:#1e1e1ecc;-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur);overflow:hidden;z-index:200}.user_and_nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:fixed;top:0rem;width:var(--mudae-nav-width);height:calc(100% - 2rem);padding:1rem;box-sizing:border-box}.side-bar[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;position:sticky;top:0}#navigation[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column}.nav-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:1.25rem;padding-top:1rem}.nav-link[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.25rem;align-items:end;text-decoration:none;color:var(--mudae-link-color)}.nav-link[_ngcontent-%COMP%]:hover{cursor:pointer;color:var(--mudae-link-hover-color)}.logout[_ngcontent-%COMP%]{margin-top:auto}#content[_ngcontent-%COMP%]{min-height:100vh;margin-left:var(--mudae-nav-width);padding:1rem 0rem;background-color:var(--mudae-content-bg-color)}.upper-nav[_ngcontent-%COMP%]{display:none;width:100%;background-color:var(--mudae-index-bg-color)}.avatar-container[_ngcontent-%COMP%]{height:100%}.user-avatar[_ngcontent-%COMP%]{height:100%;border-radius:100%}@media(max-width:720px){.user_and_nav[_ngcontent-%COMP%]{visibility:hidden;transform:translate(-100%)}#content[_ngcontent-%COMP%]{margin-left:0rem}.push-right[_ngcontent-%COMP%]{margin-left:var(--mudae-nav-width)!important}.upper-nav[_ngcontent-%COMP%]{position:sticky;top:0rem;display:flex;gap:1.5rem;height:3.5rem;padding:.5rem .5rem .5rem 1.5rem;z-index:50}.logout[_ngcontent-%COMP%]{margin-left:auto}.nav-link[_ngcontent-%COMP%]{margin-bottom:.5rem}}"]})}}return i})();var Gi=(i,d)=>{let e=p(A),a=p(Le),t=T.MUDAE_TOKEN_COOKIE_NAME,o=()=>(e.navigate(["/mudae/login"],{queryParams:{returnTo:d.url}}),Zt);return a.check(t)?!0:o()};var Qa=()=>[import("./chunk-WMZW7SZZ.js").then(i=>i.MyHeaderComponent),St,xe,we,Ii,yt,J,ki,wt,ee,ve],Wa=i=>["../updates",i];function Ka(i,d){if(i&1&&(r(0,"div",9)(1,"div",18),c(2),n(),r(3,"div",19),c(4),n()()),i&2){let e=d.$implicit;l("routerLink",Pe(3,Wa,e.update)),s(2),x(e.year),s(2),x(e.monthday)}}function Ya(i,d){if(i&1){let e=q();r(0,"div",1)(1,"div",2)(2,"span"),c(3,"Welcome"),n()(),r(4,"div",3)(5,"span"),c(6,"Latest Update"),n(),c(7," View to latest set of characters added"),n(),r(8,"div",3)(9,"span"),c(10,"Series Search"),n(),c(11," Find a series in the bot"),n(),r(12,"div",3)(13,"span"),c(14,"Character Search"),n(),c(15," Find a character in the bot"),n()(),r(16,"section",4)(17,"div",5),u(18,"div",6)(19,"my-header",7)(20,"div",6),n(),r(21,"div",8),y(22,Ka,5,5,"div",9,F),n()(),r(24,"section",10)(25,"div",5),u(26,"div",6)(27,"my-header",11)(28,"div",6),n(),r(29,"form",12)(30,"mat-form-field",13)(31,"mat-label"),c(32,"Search Series"),n(),r(33,"input",14),g("keydown.enter",function(){S(e);let t=h();return M(t.searchSeries())}),n()()()(),r(34,"section",15)(35,"div",5),u(36,"div",6)(37,"my-header",16)(38,"div",6),n(),r(39,"form",12)(40,"mat-form-field",13)(41,"mat-label"),c(42,"Search Character"),n(),r(43,"input",17),g("keydown.enter",function(){S(e);let t=h();return M(t.searchCharacter())}),n()()()()}if(i&2){let e=h();s(19),l("color",e.colors.discordContenttext)("lc","rgba(135, 206, 250,.5)"),s(3),C(e.updates),s(5),l("color",e.colors.discordContenttext)("lc","rgba(135, 206, 250,.5)"),s(6),l("formControl",e.search),s(4),l("color",e.colors.discordContenttext)("lc","rgba(135, 206, 250,.5)"),s(6),l("formControl",e.search)}}var Qi=(()=>{class i{constructor(e,a){this.router=e,this.route=a,this.userService=p(W),this.resourceService=p(L),this.search=new k(""),this.me=this.userService.me$}ngOnInit(){}get updates(){return this.resourceService.updates$().map(e=>({update:e,monthday:e.charAt(0).toUpperCase()+e.substring(1,3),year:e.substring(3)}))}get colors(){return Mt}searchSeries(){let e=this.search.value;if(/\S/.test(e)){let a={q:this.search.value,type:"series"};this.router.navigate(["search/series"],{queryParams:a,relativeTo:this.route.parent})}}searchCharacter(){let e=this.search.value;if(/\S/.test(e)){let a={q:this.search.value,type:"character"};this.router.navigate(["search/character"],{queryParams:a,relativeTo:this.route.parent})}}static{this.\u0275fac=function(a){return new(a||i)(w(A),w(P))}}static{this.\u0275cmp=b({type:i,selectors:[["mudae-home"]],decls:4,vars:1,consts:[[1,"mudae-home"],[1,"welcome-panel"],[1,"welcome-message"],[1,"welcome-info"],["id","updates-section"],[1,"home-header"],[1,"square"],["text","Latest Updates","type","h2","lw","2px","r","4px",1,"series-header",3,"color","lc"],[1,"updates-list"],[1,"update",3,"routerLink"],["id","series-lookup"],["text","Series Search","type","h2","lw","2px","r","4px",1,"series-header",3,"color","lc"],[1,"search-form"],["appearance","outline",1,"search"],["matInput","","placeholder","Series ...",3,"keydown.enter","formControl"],["id","character-lookup"],["text","Character Search","type","h2","lw","2px","r","4px",1,"character-header",3,"color","lc"],["matInput","","placeholder","Character ...",3,"keydown.enter","formControl"],[1,"update-year"],[1,"update-monthday"]],template:function(a,t){a&1&&(r(0,"div",0),me(1,Ya,44,8),pe(2,1,Qa),n()),a&2&&(s(2),he(t.me().id!="empty"))},dependencies:[Se,ze,te,_e],styles:["[_nghost-%COMP%]{flex:1;position:relative;overflow-x:hidden}.mudae-home[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem}.home-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.5rem;border-radius:4px}my-header[_ngcontent-%COMP%]{flex:1}.square[_ngcontent-%COMP%]{display:flex;width:1rem;height:1rem;margin:auto 0rem;border-radius:4px;background-color:var(--link-color)}.welcome-panel[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;height:15rem;padding:1rem;box-sizing:border-box;border-bottom:4px solid var(--mudae-medium)}.welcome-message[_ngcontent-%COMP%]{text-align:center;font-size:1.3rem}.welcome-info[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1rem;font-size:1.1rem}.welcome-info[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700}.show-more[_ngcontent-%COMP%]{text-align:center;font-size:1.2rem;padding:.5rem;border:2px solid var(--mudae-dark);border-radius:4px;background-color:var(--mudae-medium);box-shadow:2px 3px var(--mudae-medium)}.show-more[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.75}.show-more[_ngcontent-%COMP%]:active{opacity:.95}#updates-section[_ngcontent-%COMP%], #series-lookup[_ngcontent-%COMP%], #character-lookup[_ngcontent-%COMP%], #search-section[_ngcontent-%COMP%]{margin:1rem 2rem;display:flex;flex-direction:column;gap:1rem}.updates-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;padding:.5rem .5rem 1rem;gap:1rem}.updates-list[_ngcontent-%COMP%]::-webkit-scrollbar{height:.25rem}.updates-list[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:var(--mudae-medium);border-radius:4px}.updates-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--mudae-card-text-color);border-radius:4px}.update[_ngcontent-%COMP%]{flex-shrink:0;display:flex;flex-flow:row nowrap;align-items:center;font-size:1.2rem;width:9rem;border:3px solid var(--mudae-medium);border-radius:4px;box-shadow:2px 4px var(--mudae-medium)}.update[_ngcontent-%COMP%]:hover{scale:1.05;cursor:pointer}.update-year[_ngcontent-%COMP%]{padding:.5rem;background-color:var(--mudae-medium)}.update-monthday[_ngcontent-%COMP%]{flex:1;text-align:center}.search-form[_ngcontent-%COMP%]{flex:1}.search[_ngcontent-%COMP%]{width:100%}"]})}}return i})();var Wi=(()=>{class i{constructor(e,a){this.router=e,this.route=a,this.mudaeLogin=p(oe),this.cookieService=p(Le)}ngOnInit(){}logout(){this.mudaeLogin.logout$().subscribe(e=>{this.cookieService.delete(T.MUDAE_TOKEN_COOKIE_NAME),this.router.navigate(["login"],{relativeTo:this.route.parent})})}return(){this.router.navigate(["home"],{relativeTo:this.route.parent})}static{this.\u0275fac=function(a){return new(a||i)(w(A),w(P))}}static{this.\u0275cmp=b({type:i,selectors:[["logout-page"]],decls:7,vars:0,consts:[[1,"logout-page"],[1,"btn-container"],["mat-raised-button","",1,"logout-btn",3,"click"]],template:function(a,t){a&1&&(r(0,"div",0)(1,"div",1)(2,"button",2),g("click",function(){return t.logout()}),c(3,"Logout"),n()(),r(4,"div",1)(5,"button",2),g("click",function(){return t.return()}),c(6,"Return to home"),n()()())},dependencies:[Q,Z],styles:[".btn-container[_ngcontent-%COMP%]{text-align:center;margin:auto;padding:5rem 0rem}.logout-btn[_ngcontent-%COMP%]{border-radius:.5rem}"]})}}return i})();var Xa=i=>[i];function Za(i,d){if(i&1&&u(0,"img",5),i&2){let e=h().$implicit,a=h();l("src",a.banner(e),ae)}}function Ja(i,d){if(i&1&&(r(0,"div",3)(1,"div",4),v(2,Za,1,1,"img",5),u(3,"img",6),r(4,"div",7),c(5),n()()()),i&2){let e=d.$implicit,a=h();s(),l("routerLink",Pe(4,Xa,e.id)),s(),_(e.banner!=null?2:-1),s(),l("src",a.icon(e)+"?size=80",ae),s(2),x(e.name)}}var Ki=(()=>{class i{constructor(){this.resourceService=p(L),this.servers=Ae(()=>this.resourceService.servers$().map(e=>e.server))}ngOnInit(){}banner(e){return`https://cdn.discordapp.com/banners/${e.id}/${e.banner}`}icon(e){return`https://cdn.discordapp.com/icons/${e.id}/${e.icon}`}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=b({type:i,selectors:[["mudae-servers"]],decls:6,vars:0,consts:[[1,"mudae-servers"],[1,"list-header"],[1,"server-list"],[1,"mudae-server-container"],[1,"mudae-server",3,"routerLink"],[1,"mudae-server-banner",3,"src"],[1,"mudae-server-icon",3,"src"],[1,"mudae-server-name"]],template:function(a,t){a&1&&(r(0,"div",0)(1,"div",1),c(2,"Your Server List"),n(),r(3,"div",2),y(4,Ja,6,6,"div",3,F),n()()),a&2&&(s(4),C(t.servers()))},dependencies:[_e,ve],styles:["[_nghost-%COMP%]{position:relative}.mudae-servers[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.list-header[_ngcontent-%COMP%]{font-size:1.2rem;padding:1rem;background-color:var(--mudae-medium)}.server-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;justify-content:space-between;gap:1.5rem;padding:1rem}.mudae-server-container[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;max-width:calc(50% - 1rem);box-shadow:8px 7px #0003}.mudae-server[_ngcontent-%COMP%]{position:relative;display:flex;flex-flow:row nowrap;align-items:center;gap:.25rem;border:1px solid black;border-radius:3px;overflow:hidden}.mudae-server[_ngcontent-%COMP%]:hover{cursor:pointer;scale:1.025}.mudae-server-icon[_ngcontent-%COMP%]{height:80px;width:80px;z-index:11}.mudae-server-name[_ngcontent-%COMP%]{font-size:1.1rem;text-shadow:2px 3px black;text-overflow:ellipsis;padding:0rem .5rem;z-index:10}.mudae-server-banner[_ngcontent-%COMP%]{position:absolute;right:0;height:80px;-webkit-mask-image:linear-gradient(to left,rgba(0,0,0,.8),rgba(0,0,0,.5),transparent);mask-image:linear-gradient(to left,rgba(0,0,0,.8),rgba(0,0,0,.5),transparent)}"]})}}return i})();var Yi=(()=>{class i extends be{constructor(){super(),this.loading=D(!1),this.loading$=this.loading.asReadonly(),this.claimData=D({type:"none",more:!1,results:[],page:0}),this.claimData$=this.claimData.asReadonly(),this.lastRequest={}}searchClaims(e,a,t){this.outgoingRequest&&!this.outgoingRequest.closed&&this.outgoingRequest.unsubscribe(),this.claimData.set({type:"none",more:!1,results:[],page:0}),this.loading.set(!0),this.lastRequest={serverId:e,claimerId:a,query:t},this.outgoingRequest=this.findClaimsByUser$(e,a,t).subscribe({next:o=>{this.claimData.set(o)},error:o=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae claim data.",type:"danger",source_feature:"mudae"}),console.log(o)}}),this.outgoingRequest.add(()=>this.loading.set(!1))}loadMore(){this.loading()||!this.lastRequest||!this.lastRequest.serverId||!this.lastRequest.claimerId||this.claimData().more&&(this.loading.set(!0),this.lastRequest.query=$(O({},this.lastRequest.query),{page:this.lastRequest.query?.page?this.lastRequest.query.page+1:1}),this.outgoingRequest=this.findClaimsByUser$(this.lastRequest.serverId,this.lastRequest.claimerId,this.lastRequest.query).subscribe({next:e=>{this.claimData.update(a=>this.updateResultData(a,e))},error:e=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae claim data.",type:"danger",source_feature:"mudae"}),console.log(e)}}),this.outgoingRequest.add(()=>this.loading.set(!1)))}mudaeUpdates$(){return this.http.get(`${this.url}/api/updates`)}myServers$(){return this.http.get(`${this.url}/api/servers`)}serverUsers$(e){return this.http.get(`${this.url}/api/servers/${e}/users`)}findClaim$(e,a){return this.http.get(`${this.url}/api/servers/${e}/claims?characterId=${a}`)}findClaimsByUser$(e,a,t){return this.http.get(`${this.url}/api/servers/${e}/claims/${a}`,{params:t||void 0})}updateResultData(e,a){return e=$(O({},a),{results:e.results}),a.type=="series"?e.results=this.appendSeries(e.results,a.results):e.results.push(...a.results),e}appendSeries(e,a){let t=[...e];for(let o of a){let m=e.findIndex(f=>f.id==o.id);if(m<0)t.push(o);else{let f=[...e[m].characters];for(let E of o.characters)e[m].characters.find(K=>K.id==E.id)||f.push(E);o.characters=f,t[m]=o}}return t}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ar=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],rr=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function nr(i,d){i&1&&(r(0,"span",3),z(1,1),n())}function or(i,d){i&1&&(r(0,"span",6),z(1,2),n())}var sr=`.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}@media(forced-colors: active){.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{forced-color-adjust:none}}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-outline-width, 1px);border-radius:var(--mat-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mat-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--secondary{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mat-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mat-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mat-chip-with-avatar-avatar-size, 24px);height:var(--mat-chip-with-avatar-avatar-size, 24px);font-size:var(--mat-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__graphic{padding-left:0}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mat-chip-container-shape-radius, 8px);height:var(--mat-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mat-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mat-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mat-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mat-chip-with-icon-icon-size, 18px);height:var(--mat-chip-with-icon-icon-size, 18px);font-size:var(--mat-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mat-chip-with-icon-icon-color: var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mat-chip-elevated-container-color: var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mat-chip-label-text-color: var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mat-chip-outline-width: var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mat-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mat-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-edit,.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-edit:focus,.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-edit:hover::after,.mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-chip-edit:focus::after,.mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:focus::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:hover::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mat-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-edit::before,.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus-visible .mat-focus-indicator::before{content:""}.mdc-evolution-chip__icon,.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{min-height:fit-content}img.mdc-evolution-chip__icon{min-height:0}
`,cr=[[["","matChipEdit",""]],[["mat-chip-avatar"],["","matChipAvatar",""]],[["","matChipEditInput",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],dr=["[matChipEdit]","mat-chip-avatar, [matChipAvatar]","[matChipEditInput]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function lr(i,d){i&1&&u(0,"span",0)}function mr(i,d){i&1&&(r(0,"span",1),z(1),n())}function pr(i,d){i&1&&(r(0,"span",3),z(1,1),n())}function hr(i,d){i&1&&z(0,2)}function ur(i,d){i&1&&u(0,"span",7)}function fr(i,d){if(i&1&&v(0,hr,1,0)(1,ur,1,0,"span",7),i&2){let e=h();_(e.contentEditInput?0:1)}}function gr(i,d){i&1&&z(0,3)}function vr(i,d){i&1&&(r(0,"span",6),z(1,4),n())}var aa=["*"],_r=`.mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-moz-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-webkit-input-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input:-ms-input-placeholder{opacity:1}.mat-mdc-chip-set+input.mat-mdc-chip-input{margin-left:0;margin-right:0}
`,ra=new ie("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),Zi=new ie("MatChipAvatar"),Ji=new ie("MatChipTrailingIcon"),ea=new ie("MatChipEdit"),Gt=new ie("MatChipRemove"),Kt=new ie("MatChip"),na=(()=>{class i{_elementRef=p(j);_parentChip=p(Kt);_isPrimary=!0;_isLeading=!1;get disabled(){return this._disabled||this._parentChip?.disabled||!1}set disabled(e){this._disabled=e}_disabled=!1;tabIndex=-1;_allowFocusWhenDisabled=!1;_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}constructor(){p(Je).load(et),this._elementRef.nativeElement.nodeName==="BUTTON"&&this._elementRef.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}static \u0275fac=function(a){return new(a||i)};static \u0275dir=G({type:i,selectors:[["","matChipContent",""]],hostAttrs:[1,"mat-mdc-chip-action","mdc-evolution-chip__action","mdc-evolution-chip__action--presentational"],hostVars:8,hostBindings:function(a,t){a&2&&(U("disabled",t._getDisabledAttribute())("aria-disabled",t.disabled),X("mdc-evolution-chip__action--primary",t._isPrimary)("mdc-evolution-chip__action--secondary",!t._isPrimary)("mdc-evolution-chip__action--trailing",!t._isPrimary&&!t._isLeading))},inputs:{disabled:[2,"disabled","disabled",R],tabIndex:[2,"tabIndex","tabIndex",e=>e==null?-1:Ze(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"}})}return i})(),Yt=(()=>{class i extends na{_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled?null:this.tabIndex.toString()}_handleClick(e){!this.disabled&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static \u0275fac=(()=>{let e;return function(t){return(e||(e=Vt(i)))(t||i)}})();static \u0275dir=G({type:i,selectors:[["","matChipAction",""]],hostVars:3,hostBindings:function(a,t){a&1&&g("click",function(m){return t._handleClick(m)})("keydown",function(m){return t._handleKeydown(m)}),a&2&&(U("tabindex",t._getTabindex()),X("mdc-evolution-chip__action--presentational",!1))},features:[Y]})}return i})();var Et=(()=>{class i extends Yt{_isPrimary=!1;_handleClick(e){this.disabled||(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}_handleKeydown(e){(e.keyCode===13||e.keyCode===32)&&!this.disabled&&(e.stopPropagation(),e.preventDefault(),this._parentChip.remove())}static \u0275fac=(()=>{let e;return function(t){return(e||(e=Vt(i)))(t||i)}})();static \u0275dir=G({type:i,selectors:[["","matChipRemove",""]],hostAttrs:["role","button",1,"mat-mdc-chip-remove","mat-mdc-chip-trailing-icon","mat-focus-indicator","mdc-evolution-chip__icon","mdc-evolution-chip__icon--trailing"],hostVars:1,hostBindings:function(a,t){a&2&&U("aria-hidden",null)},features:[ke([{provide:Gt,useExisting:i}]),Y]})}return i})(),Qt=(()=>{class i{_changeDetectorRef=p(Xe);_elementRef=p(j);_tagName=p(si);_ngZone=p(ii);_focusMonitor=p(ht);_globalRippleOptions=p(ui,{optional:!0});_document=p(qt);_onFocus=new Qe;_onBlur=new Qe;_isBasicChip;role=null;_hasFocusInternal=!1;_pendingFocus;_actionChanges;_animationsDisabled=ft();_allLeadingIcons;_allTrailingIcons;_allEditIcons;_allRemoveIcons;_hasFocus(){return this._hasFocusInternal}id=p(qe).getId("mat-mdc-chip-");ariaLabel=null;ariaDescription=null;_chipListDisabled=!1;_hadFocusOnRemove=!1;_textElement;get value(){return this._value!==void 0?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}_value;color;removable=!0;highlighted=!1;disableRipple=!1;get disabled(){return this._disabled||this._chipListDisabled}set disabled(e){this._disabled=e}_disabled=!1;removed=new N;destroyed=new N;basicChipAttrName="mat-basic-chip";leadingIcon;editIcon;trailingIcon;removeIcon;primaryAction;_rippleLoader=p(gi);_injector=p(ti);constructor(){let e=p(Je);e.load(et),e.load(pi),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){this._isBasicChip=this._elementRef.nativeElement.hasAttribute(this.basicChipAttrName)||this._tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=nt(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allEditIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&(this._hadFocusOnRemove=this._hasFocus(),this.removed.emit({chip:this}))}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!this._hasInteractiveActions()||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!!(this.trailingIcon||this.removeIcon)}_handleKeydown(e){(e.keyCode===8&&!e.repeat||e.keyCode===46)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(a=>{let t=a._elementRef.nativeElement;return t===e||t.contains(e)})}_getActions(){let e=[];return this.editIcon&&e.push(this.editIcon),this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),e}_handlePrimaryActionInteraction(){}_hasInteractiveActions(){return this._getActions().length>0}_edit(e){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{let a=e!==null;a!==this._hasFocusInternal&&(this._hasFocusInternal=a,a?this._onFocus.next({chip:this}):(this._changeDetectorRef.markForCheck(),setTimeout(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})))))})}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=b({type:i,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(a,t,o){if(a&1&&Ke(o,Zi,5)(o,ea,5)(o,Ji,5)(o,Gt,5)(o,Zi,5)(o,Ji,5)(o,ea,5)(o,Gt,5),a&2){let m;V(m=B())&&(t.leadingIcon=m.first),V(m=B())&&(t.editIcon=m.first),V(m=B())&&(t.trailingIcon=m.first),V(m=B())&&(t.removeIcon=m.first),V(m=B())&&(t._allLeadingIcons=m),V(m=B())&&(t._allTrailingIcons=m),V(m=B())&&(t._allEditIcons=m),V(m=B())&&(t._allRemoveIcons=m)}},viewQuery:function(a,t){if(a&1&&Ye(Yt,5),a&2){let o;V(o=B())&&(t.primaryAction=o.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:31,hostBindings:function(a,t){a&1&&g("keydown",function(m){return t._handleKeydown(m)}),a&2&&(Oe("id",t.id),U("role",t.role)("aria-label",t.ariaLabel),lt("mat-"+(t.color||"primary")),X("mdc-evolution-chip",!t._isBasicChip)("mdc-evolution-chip--disabled",t.disabled)("mdc-evolution-chip--with-trailing-action",t._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",t.leadingIcon)("mdc-evolution-chip--with-primary-icon",t.leadingIcon)("mdc-evolution-chip--with-avatar",t.leadingIcon)("mat-mdc-chip-with-avatar",t.leadingIcon)("mat-mdc-chip-highlighted",t.highlighted)("mat-mdc-chip-disabled",t.disabled)("mat-mdc-basic-chip",t._isBasicChip)("mat-mdc-standard-chip",!t._isBasicChip)("mat-mdc-chip-with-trailing-icon",t._hasTrailingIcon())("_mat-animation-noopable",t._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",R],highlighted:[2,"highlighted","highlighted",R],disableRipple:[2,"disableRipple","disableRipple",R],disabled:[2,"disabled","disabled",R]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[ke([{provide:Kt,useExisting:i}])],ngContentSelectors:rr,decls:8,vars:2,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipContent",""],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(a,t){a&1&&(re(ar),u(0,"span",0),r(1,"span",1)(2,"span",2),v(3,nr,2,0,"span",3),r(4,"span",4),z(5),u(6,"span",5),n()()(),v(7,or,2,0,"span",6)),a&2&&(s(3),_(t.leadingIcon?3:-1),s(4),_(t._hasTrailingIcon()?7:-1))},dependencies:[na],styles:[`.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}@media(forced-colors: active){.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{forced-color-adjust:none}}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-outline-width, 1px);border-radius:var(--mat-chip-container-shape-radius, 8px);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-outline-color, var(--mat-sys-outline))}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mat-chip-focus-outline-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mat-chip-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-leading-action.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--secondary{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--secondary{color:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--secondary{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mat-chip-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-chip-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-chip-label-text-size, var(--mat-sys-label-large-size));font-weight:var(--mat-chip-label-text-weight, var(--mat-sys-label-large-weight));letter-spacing:var(--mat-chip-label-text-tracking, var(--mat-sys-label-large-tracking))}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-label-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mat-chip-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mat-chip-with-avatar-avatar-size, 24px);height:var(--mat-chip-with-avatar-avatar-size, 24px);font-size:var(--mat-chip-with-avatar-avatar-size, 24px)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-leading-action .mdc-evolution-chip__graphic{padding-left:0}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@media(forced-colors: active){.mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity, 1)*var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38))}.mat-mdc-standard-chip{border-radius:var(--mat-chip-container-shape-radius, 8px);height:var(--mat-chip-container-height, 32px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mat-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mat-chip-flat-disabled-selected-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}@media(forced-colors: active){.mat-mdc-standard-chip{outline:solid 1px}}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mat-chip-with-avatar-avatar-shape-radius, 24px);width:var(--mat-chip-with-icon-icon-size, 18px);height:var(--mat-chip-with-icon-icon-size, 18px);font-size:var(--mat-chip-with-icon-icon-size, 18px)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mat-chip-with-icon-disabled-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-highlighted{--mat-chip-with-icon-icon-color: var(--mat-chip-with-icon-selected-icon-color, var(--mat-sys-on-secondary-container));--mat-chip-elevated-container-color: var(--mat-chip-elevated-selected-container-color, var(--mat-sys-secondary-container));--mat-chip-label-text-color: var(--mat-chip-selected-label-text-color, var(--mat-sys-on-secondary-container));--mat-chip-outline-width: var(--mat-chip-flat-selected-outline-width, 0)}.mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-hover-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-hover-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-focus-state-layer-color, var(--mat-sys-on-surface-variant));opacity:var(--mat-chip-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mat-chip-selected-focus-state-layer-color, var(--mat-sys-on-secondary-container));opacity:var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mat-chip-with-avatar-disabled-avatar-opacity, 0.38)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mat-chip-with-trailing-icon-disabled-trailing-icon-opacity, 0.38)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mat-chip-with-icon-disabled-icon-opacity, 0.38)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity, 1)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color, var(--mat-sys-on-secondary-container))}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color, var(--mat-sys-on-surface))}.mat-mdc-chip-edit,.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity, 1)}.mat-mdc-chip-edit:focus,.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity, 1)}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{background-color:var(--mat-chip-trailing-action-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-chip-edit:hover::after,.mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-chip-edit:focus::after,.mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background-color:var(--mat-chip-selected-trailing-action-state-layer-color, var(--mat-sys-on-secondary-container))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:focus::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:focus::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)))}.mat-mdc-chip.cdk-focused .mat-mdc-chip-edit:hover::after,.mat-mdc-chip.cdk-focused .mat-mdc-chip-remove:hover::after{opacity:calc(var(--mat-chip-selected-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity)) + var(--mat-chip-trailing-action-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity)))}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mat-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-focus-indicator::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-edit::before,.mat-mdc-chip-remove::before{margin:calc(var(--mat-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-edit::after,.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-3px;bottom:-3px;left:5px;right:5px;border-radius:50%;box-sizing:border-box;padding:12px;margin:-12px;background-clip:content-box}.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}@media(forced-colors: active){.mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}}.mat-mdc-chip-action:focus-visible .mat-focus-indicator::before{content:""}.mdc-evolution-chip__icon,.mat-mdc-chip-edit .mat-icon,.mat-mdc-chip-remove .mat-icon{min-height:fit-content}img.mdc-evolution-chip__icon{min-height:0}
`],encapsulation:2,changeDetection:0})}return i})();var jt=(()=>{class i{_elementRef=p(j);_document=p(qt);constructor(){}initialize(e){this.getNativeElement().focus(),this.setValue(e)}getNativeElement(){return this._elementRef.nativeElement}setValue(e){this.getNativeElement().textContent=e,this._moveCursorToEndOfInput()}getValue(){return this.getNativeElement().textContent||""}_moveCursorToEndOfInput(){let e=this._document.createRange();e.selectNodeContents(this.getNativeElement()),e.collapse(!1);let a=window.getSelection();a.removeAllRanges(),a.addRange(e)}static \u0275fac=function(a){return new(a||i)};static \u0275dir=G({type:i,selectors:[["span","matChipEditInput",""]],hostAttrs:["role","textbox","tabindex","-1","contenteditable","true",1,"mat-chip-edit-input"]})}return i})(),at=(()=>{class i extends Qt{basicChipAttrName="mat-basic-chip-row";_editStartPending=!1;editable=!1;edited=new N;defaultEditInput;contentEditInput;_alreadyFocused=!1;_isEditing=!1;constructor(){super(),this.role="row",this._onBlur.pipe(le(this.destroyed)).subscribe(()=>{this._isEditing&&!this._editStartPending&&this._onEditFinish(),this._alreadyFocused=!1})}ngAfterViewInit(){super.ngAfterViewInit(),this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("mousedown",()=>this._alreadyFocused=this._hasFocus())})}_hasLeadingActionIcon(){return!this._isEditing&&!!this.editIcon}_hasTrailingIcon(){return!this._isEditing&&super._hasTrailingIcon()}_handleFocus(){!this._isEditing&&!this.disabled&&this.focus()}_handleKeydown(e){e.keyCode===13&&!this.disabled?this._isEditing?(e.preventDefault(),this._onEditFinish()):this.editable&&this._startEditing(e):this._isEditing?e.stopPropagation():super._handleKeydown(e)}_handleClick(e){!this.disabled&&this.editable&&!this._isEditing&&this._alreadyFocused&&(e.preventDefault(),e.stopPropagation(),this._startEditing(e))}_handleDoubleclick(e){!this.disabled&&this.editable&&this._startEditing(e)}_edit(){this._changeDetectorRef.markForCheck(),this._startEditing()}_startEditing(e){if(!this.primaryAction||this.removeIcon&&e&&this._getSourceAction(e.target)===this.removeIcon)return;let a=this.value;this._isEditing=this._editStartPending=!0,ri(()=>{this._getEditInput().initialize(a),setTimeout(()=>this._ngZone.run(()=>this._editStartPending=!1))},{injector:this._injector})}_onEditFinish(){this._isEditing=this._editStartPending=!1,this.edited.emit({chip:this,value:this._getEditInput().getValue()}),(this._document.activeElement===this._getEditInput().getNativeElement()||this._document.activeElement===this._document.body)&&this.primaryAction.focus()}_isRippleDisabled(){return super._isRippleDisabled()||this._isEditing}_getEditInput(){return this.contentEditInput||this.defaultEditInput}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=b({type:i,selectors:[["mat-chip-row"],["","mat-chip-row",""],["mat-basic-chip-row"],["","mat-basic-chip-row",""]],contentQueries:function(a,t,o){if(a&1&&Ke(o,jt,5),a&2){let m;V(m=B())&&(t.contentEditInput=m.first)}},viewQuery:function(a,t){if(a&1&&Ye(jt,5),a&2){let o;V(o=B())&&(t.defaultEditInput=o.first)}},hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-row","mdc-evolution-chip"],hostVars:29,hostBindings:function(a,t){a&1&&g("focus",function(){return t._handleFocus()})("click",function(m){return t._hasInteractiveActions()?t._handleClick(m):null})("dblclick",function(m){return t._handleDoubleclick(m)}),a&2&&(Oe("id",t.id),U("tabindex",t.disabled?null:-1)("aria-label",null)("aria-description",null)("role",t.role),X("mat-mdc-chip-with-avatar",t.leadingIcon)("mat-mdc-chip-disabled",t.disabled)("mat-mdc-chip-editing",t._isEditing)("mat-mdc-chip-editable",t.editable)("mdc-evolution-chip--disabled",t.disabled)("mdc-evolution-chip--with-leading-action",t._hasLeadingActionIcon())("mdc-evolution-chip--with-trailing-action",t._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",t.leadingIcon)("mdc-evolution-chip--with-primary-icon",t.leadingIcon)("mdc-evolution-chip--with-avatar",t.leadingIcon)("mat-mdc-chip-highlighted",t.highlighted)("mat-mdc-chip-with-trailing-icon",t._hasTrailingIcon()))},inputs:{editable:"editable"},outputs:{edited:"edited"},features:[ke([{provide:Qt,useExisting:i},{provide:Kt,useExisting:i}]),Y],ngContentSelectors:dr,decls:9,vars:8,consts:[[1,"mat-mdc-chip-focus-overlay"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--leading"],["role","gridcell","matChipAction","",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary",3,"disabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],["aria-hidden","true",1,"mat-mdc-chip-primary-focus-indicator","mat-focus-indicator"],["role","gridcell",1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"],["matChipEditInput",""]],template:function(a,t){a&1&&(re(cr),v(0,lr,1,0,"span",0),v(1,mr,2,0,"span",1),r(2,"span",2),v(3,pr,2,0,"span",3),r(4,"span",4),v(5,fr,2,1)(6,gr,1,0),u(7,"span",5),n()(),v(8,vr,2,0,"span",6)),a&2&&(_(t._isEditing?-1:0),s(),_(t._hasLeadingActionIcon()?1:-1),s(),l("disabled",t.disabled),U("aria-description",t.ariaDescription)("aria-label",t.ariaLabel),s(),_(t.leadingIcon?3:-1),s(2),_(t._isEditing?5:6),s(3),_(t._hasTrailingIcon()?8:-1))},dependencies:[Yt,jt],styles:[sr],encapsulation:2,changeDetection:0})}return i})(),br=(()=>{class i{_elementRef=p(j);_changeDetectorRef=p(Xe);_dir=p(vi,{optional:!0});_lastDestroyedFocusedChipIndex=null;_keyManager;_destroyed=new Qe;_defaultRole="presentation";get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}_disabled=!1;get empty(){return!this._chips||this._chips.length===0}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}tabIndex=0;set role(e){this._explicitRole=e}_explicitRole=null;get focused(){return this._hasFocusedChip()}_chips;_chipActions=new ai;constructor(){}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips?.forEach(e=>{e._chipListDisabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){let e=this._elementRef.nativeElement.tabIndex;e!==-1&&(this._elementRef.nativeElement.tabIndex=-1,setTimeout(()=>this._elementRef.nativeElement.tabIndex=e))}_getChipStream(e){return this._chips.changes.pipe(ot(null),ei(()=>nt(...this._chips.map(e))))}_originatesFromChip(e){let a=e.target;for(;a&&a!==this._elementRef.nativeElement;){if(a.classList.contains("mat-mdc-chip"))return!0;a=a.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(ot(this._chips)).subscribe(e=>{let a=[];e.forEach(t=>t._getActions().forEach(o=>a.push(o))),this._chipActions.reset(a),this._chipActions.notifyOnChanges()}),this._keyManager=new hi(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(le(this._destroyed)).subscribe(({chip:e})=>{let a=e._getSourceAction(document.activeElement);a&&this._keyManager.updateActiveItem(a)}),this._dir?.change.pipe(le(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(ot(null),le(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(le(this._destroyed)).subscribe(e=>{let t=this._chips.toArray().indexOf(e.chip),o=e.chip._hasFocus(),m=e.chip._hadFocusOnRemove&&this._keyManager.activeItem&&e.chip._getActions().includes(this._keyManager.activeItem),f=o||m;this._isValidIndex(t)&&f&&(this._lastDestroyedFocusedChipIndex=t)})}_redirectDestroyedChipFocus(){if(this._lastDestroyedFocusedChipIndex!=null){if(this._chips.length){let e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),a=this._chips.toArray()[e];a.disabled?this._chips.length===1?this.focus():this._keyManager.setPreviousItemActive():a.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=b({type:i,selectors:[["mat-chip-set"]],contentQueries:function(a,t,o){if(a&1&&Ke(o,Qt,5),a&2){let m;V(m=B())&&(t._chips=m)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(a,t){a&1&&g("keydown",function(m){return t._handleKeydown(m)}),a&2&&U("role",t.role)},inputs:{disabled:[2,"disabled","disabled",R],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>e==null?0:Ze(e)]},ngContentSelectors:aa,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(a,t){a&1&&(re(),ue(0,"div",0),z(1),fe())},styles:[`.mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-moz-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input::-webkit-input-placeholder{opacity:1}.mat-mdc-form-field:not(.mat-form-field-hide-placeholder) input.mat-mdc-chip-input:-ms-input-placeholder{opacity:1}.mat-mdc-chip-set+input.mat-mdc-chip-input{margin-left:0;margin-right:0}
`],encapsulation:2,changeDetection:0})}return i})();var Wt=class{source;value;constructor(d,e){this.source=d,this.value=e}},Ft=(()=>{class i extends br{ngControl=p(Ct,{optional:!0,self:!0});controlType="mat-chip-grid";_chipInput;_defaultRole="grid";_errorStateTracker;_uid=p(qe).getId("mat-chip-grid-");_ariaDescribedbyIds=[];_onTouched=()=>{};_onChange=()=>{};get disabled(){return this.ngControl?!!this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=e,this._syncChipsState(),this.stateChanges.next()}get id(){return this._chipInput?this._chipInput.id:this._uid}get empty(){return(!this._chipInput||this._chipInput.empty)&&(!this._chips||this._chips.length===0)}get placeholder(){return this._chipInput?this._chipInput.placeholder:this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}_placeholder;get focused(){return this._chipInput?.focused||this._hasFocusedChip()}get required(){return this._required??this.ngControl?.control?.hasValidator(Mi.required)??!1}set required(e){this._required=e,this.stateChanges.next()}_required;get shouldLabelFloat(){return!this.empty||this.focused}get value(){return this._value}set value(e){this._value=e}_value=[];get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}change=new N;valueChange=new N;_chips=void 0;stateChanges=new Qe;get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(){super();let e=p(wt,{optional:!0}),a=p(Ei,{optional:!0}),t=p(Ut);this.ngControl&&(this.ngControl.valueAccessor=this),this._errorStateTracker=new Di(t,this.ngControl,a,e,this.stateChanges)}ngAfterContentInit(){this.chipBlurChanges.pipe(le(this._destroyed)).subscribe(()=>{this._blur(),this.stateChanges.next()}),nt(this.chipFocusChanges,this._chips.changes).pipe(le(this._destroyed)).subscribe(()=>this.stateChanges.next())}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnDestroy(){super.ngOnDestroy(),this.stateChanges.complete()}registerInput(e){this._chipInput=e,this._chipInput.setDescribedByIds(this._ariaDescribedbyIds),this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(e){!this.disabled&&!this._originatesFromChip(e)&&this.focus()}focus(){if(!(this.disabled||this._chipInput?.focused)){if(!this._chips.length||this._chips.first.disabled){if(!this._chipInput)return;Promise.resolve().then(()=>this._chipInput.focus())}else{let e=this._keyManager.activeItem;e?e.focus():this._keyManager.setFirstItemActive()}this.stateChanges.next()}}get describedByIds(){if(this._chipInput)return this._chipInput.describedByIds||[];let e=this._elementRef.nativeElement.getAttribute("aria-describedby");return e?e.split(" "):[]}setDescribedByIds(e){this._ariaDescribedbyIds=e,this._chipInput?this._chipInput.setDescribedByIds(e):e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}writeValue(e){this._value=e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this.stateChanges.next()}updateErrorState(){this._errorStateTracker.updateErrorState()}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_allowFocusEscape(){this._chipInput?.focused||super._allowFocusEscape()}_handleKeydown(e){let a=e.keyCode,t=this._keyManager.activeItem;if(a===9)this._chipInput?.focused&&ut(e,"shiftKey")&&this._chips.length&&!this._chips.last.disabled?(e.preventDefault(),t?this._keyManager.setActiveItem(t):this._focusLastChip()):super._allowFocusEscape();else if(!this._chipInput?.focused)if((a===38||a===40)&&t){let o=this._chipActions.filter(E=>E._isPrimary===t._isPrimary&&!this._skipPredicate(E)),m=o.indexOf(t),f=e.keyCode===38?-1:1;e.preventDefault(),m>-1&&this._isValidIndex(m+f)&&this._keyManager.setActiveItem(o[m+f])}else super._handleKeydown(e);this.stateChanges.next()}_focusLastChip(){this._chips.length&&this._chips.last.focus()}_propagateChanges(){let e=this._chips.length?this._chips.toArray().map(a=>a.value):[];this._value=e,this.change.emit(new Wt(this,e)),this.valueChange.emit(e),this._onChange(e),this._changeDetectorRef.markForCheck()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()}static \u0275fac=function(a){return new(a||i)};static \u0275cmp=b({type:i,selectors:[["mat-chip-grid"]],contentQueries:function(a,t,o){if(a&1&&Ke(o,at,5),a&2){let m;V(m=B())&&(t._chips=m)}},hostAttrs:[1,"mat-mdc-chip-set","mat-mdc-chip-grid","mdc-evolution-chip-set"],hostVars:10,hostBindings:function(a,t){a&1&&g("focus",function(){return t.focus()})("blur",function(){return t._blur()}),a&2&&(U("role",t.role)("tabindex",t.disabled||t._chips&&t._chips.length===0?-1:t.tabIndex)("aria-disabled",t.disabled.toString())("aria-invalid",t.errorState),X("mat-mdc-chip-list-disabled",t.disabled)("mat-mdc-chip-list-invalid",t.errorState)("mat-mdc-chip-list-required",t.required))},inputs:{disabled:[2,"disabled","disabled",R],placeholder:"placeholder",required:[2,"required","required",R],value:"value",errorStateMatcher:"errorStateMatcher"},outputs:{change:"change",valueChange:"valueChange"},features:[ke([{provide:Fi,useExisting:i}]),Y],ngContentSelectors:aa,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(a,t){a&1&&(re(),ue(0,"div",0),z(1),fe())},styles:[_r],encapsulation:2,changeDetection:0})}return i})(),Ot=(()=>{class i{_elementRef=p(j);focused=!1;get chipGrid(){return this._chipGrid}set chipGrid(e){e&&(this._chipGrid=e,this._chipGrid.registerInput(this))}_chipGrid;addOnBlur=!1;separatorKeyCodes;chipEnd=new N;placeholder="";id=p(qe).getId("mat-mdc-chip-list-input-");get disabled(){return this._disabled||this._chipGrid&&this._chipGrid.disabled}set disabled(e){this._disabled=e}_disabled=!1;readonly=!1;disabledInteractive;get empty(){return!this.inputElement.value}inputElement;constructor(){let e=p(ra),a=p(Oi,{optional:!0});this.inputElement=this._elementRef.nativeElement,this.separatorKeyCodes=e.separatorKeyCodes,this.disabledInteractive=e.inputDisabledInteractive??!1,a&&this.inputElement.classList.add("mat-mdc-form-field-input-control")}ngOnChanges(){this._chipGrid.stateChanges.next()}ngOnDestroy(){this.chipEnd.complete()}_keydown(e){this.empty&&e.keyCode===8?(e.repeat||this._chipGrid._focusLastChip(),e.preventDefault()):this._emitChipEnd(e)}_blur(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipGrid.focused||this._chipGrid._blur(),this._chipGrid.stateChanges.next()}_focus(){this.focused=!0,this._chipGrid.stateChanges.next()}_emitChipEnd(e){(!e||this._isSeparatorKey(e)&&!e.repeat)&&(this.chipEnd.emit({input:this.inputElement,value:this.inputElement.value,chipInput:this}),e?.preventDefault())}_onInput(){this._chipGrid.stateChanges.next()}focus(){this.inputElement.focus()}clear(){this.inputElement.value=""}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(e){let a=this._elementRef.nativeElement;e.length?a.setAttribute("aria-describedby",e.join(" ")):a.removeAttribute("aria-describedby")}_isSeparatorKey(e){if(!this.separatorKeyCodes)return!1;for(let a of this.separatorKeyCodes){let t,o;typeof a=="number"?(t=a,o=null):(t=a.keyCode,o=a.modifiers);let m=o?.length?ut(e,...o):!ut(e);if(t===e.keyCode&&m)return!0}return!1}_getReadonlyAttribute(){return this.readonly||this.disabled&&this.disabledInteractive?"true":null}static \u0275fac=function(a){return new(a||i)};static \u0275dir=G({type:i,selectors:[["input","matChipInputFor",""]],hostAttrs:[1,"mat-mdc-chip-input","mat-mdc-input-element","mdc-text-field__input","mat-input-element"],hostVars:8,hostBindings:function(a,t){a&1&&g("keydown",function(m){return t._keydown(m)})("blur",function(){return t._blur()})("focus",function(){return t._focus()})("input",function(){return t._onInput()}),a&2&&(Oe("id",t.id),U("disabled",t.disabled&&!t.disabledInteractive?"":null)("placeholder",t.placeholder||null)("aria-invalid",t._chipGrid&&t._chipGrid.ngControl?t._chipGrid.ngControl.invalid:null)("aria-required",t._chipGrid&&t._chipGrid.required||null)("aria-disabled",t.disabled&&t.disabledInteractive?"true":null)("readonly",t._getReadonlyAttribute())("required",t._chipGrid&&t._chipGrid.required||null))},inputs:{chipGrid:[0,"matChipInputFor","chipGrid"],addOnBlur:[2,"matChipInputAddOnBlur","addOnBlur",R],separatorKeyCodes:[0,"matChipInputSeparatorKeyCodes","separatorKeyCodes"],placeholder:"placeholder",id:"id",disabled:[2,"disabled","disabled",R],readonly:[2,"readonly","readonly",R],disabledInteractive:[2,"matChipInputDisabledInteractive","disabledInteractive",R]},outputs:{chipEnd:"matChipInputTokenEnd"},exportAs:["matChipInput","matChipInputFor"],features:[ct]})}return i})();var Dt=(()=>{class i{static \u0275fac=function(a){return new(a||i)};static \u0275mod=dt({type:i});static \u0275inj=st({providers:[Ut,{provide:ra,useValue:{separatorKeyCodes:[13]}}],imports:[_i,gt]})}return i})();var sa=["Male","Female","Other"],ca=["Animanga","Game","Both"],da=["Any","Non 18+","18+"],la=["series","rank","name"],ma=["false","true"];var pa=(()=>{class i{constructor(){this.resourceService=p(L),this.route=p(P),this.mudaeUpdates=Ie.required(),this.onFilterChange=pt(),this.isExpanded=Bt(!1),this.seriesListVisible=Bt(!0),this.form={},this.subs=[],this.initDefaultForm()}ngOnInit(){this.route.params.pipe(de(this.route.queryParams)).pipe(ce(150)).subscribe(e=>{let a=this.route.snapshot.params,t=this.route.snapshot.queryParams;this.setFormValuesOnRouting(O(O({},a),t))})}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}initDefaultForm(){return this.form.q=new k,this.form.series=new k([]),this.form.gender=new k([]),this.form.category=new k([]),this.form.adult=new k,this.form.sort=new k,this.form.desc=new k,this.form.favorited=new k,this.form.updateAdded=new k,this.form}toggleFiltersDisplay(){this.isExpanded.set(!this.isExpanded())}toggleSeriesDisplay(){this.seriesListVisible.set(!this.seriesListVisible())}applyFilters(){this.isExpanded.set(!1),this.onFilterChange.emit(this.constructFilter())}constructFilter(){let e={};for(let a of Object.keys(this.form)){let t=this.form[a].value;t!=null&&(Array.isArray(t)&&t.length==0||(e[a]=this.form[a].value))}return e}adultOptionValue(e){switch(e.toLowerCase()){case"any":return;case"non 18+":return"false";case"18+":return"true"}}favoriteOptionValue(e){switch(e.toLowerCase()){case"any":return;case"favorited":return"true";case"unfavorited":return"false"}}get genderOptions(){return sa}get categoryOptions(){return ca}get adultOptions(){return da}get sortOptions(){return la}get orderOptions(){return ma}get favoriteOptions(){return["any","favorited","unfavorited"]}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=b({type:i,selectors:[["ng-component"]],inputs:{mudaeUpdates:[1,"mudaeUpdates"],isExpanded:[1,"isExpanded"],seriesListVisible:[1,"seriesListVisible"]},outputs:{onFilterChange:"onFilterChange",isExpanded:"isExpandedChange",seriesListVisible:"seriesListVisibleChange"},decls:0,vars:0,template:function(a,t){},encapsulation:2})}}return i})();var Rt=(()=>{class i extends pa{constructor(){super(),this.searchSeries=D([])}add(e){let a=(e.value||"").trim();a&&this.searchSeries.update(t=>[...t,a]),e.chipInput.clear()}removeSeries(e){this.searchSeries.update(a=>{let t=a.indexOf(e);return t<0||a.splice(t,1),a}),this.form.series.setValue(this.searchSeries())}clearSeries(){this.searchSeries.set([]),this.form.series.setValue(void 0)}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=b({type:i,selectors:[["ng-component"]],features:[Y],decls:0,vars:0,template:function(a,t){},encapsulation:2})}}return i})();var Tt=(()=>{class i{set isShown(e){this.isShowing=e,this.resize()}constructor(e){this.eleRef=e,this.isShowing=!1,this.isShownChange=new N,this.resizeObserver=new ResizeObserver(a=>{for(let t of a)t.target==this.firstChild()&&this.isShowing&&parseInt(this.eleRef.nativeElement.style.maxHeight)<this.firstChild().clientHeight&&this.resize()})}ngAfterContentInit(){this.resizeObserver.observe(this.eleRef.nativeElement.firstChild)}firstChild(){return this.eleRef.nativeElement.firstChild}resize(){this.isShowing?this.eleRef.nativeElement.style.maxHeight=this.eleRef.nativeElement.firstChild.clientHeight+"px":this.eleRef.nativeElement.style.maxHeight="0px"}ngOnDestroy(){this.resizeObserver.disconnect()}static{this.\u0275fac=function(a){return new(a||i)(w(j))}}static{this.\u0275dir=G({type:i,selectors:[["","accordian",""]],inputs:{isShown:"isShown"},outputs:{isShownChange:"isShownChange"}})}}return i})();var ha=(()=>{class i{set disableWhen(e){let a=e?"disable":"enable";this.ngControl.control&&this.ngControl?.control[a]()}constructor(e){this.ngControl=e}static{this.\u0275fac=function(a){return new(a||i)(w(Ct))}}static{this.\u0275dir=G({type:i,selectors:[["","disableWhen",""]],inputs:{disableWhen:"disableWhen"}})}}return i})();var Pt=(()=>{class i{constructor(e){this.eleRef=e,this.isShowing=!1,this.afterElement=Ie.required(),this.gap=Ie(5),this.resizeObserver=new ResizeObserver(a=>{for(let t of a){let o=this.afterElement();t.target==o&&this.move()}})}ngAfterContentInit(){this.resizeObserver.observe(this.afterElement()),this.move()}move(){this.eleRef.nativeElement.style.top=this.afterElement().offsetHeight+this.gap()+"px"}ngOnDestroy(){this.resizeObserver.disconnect()}static{this.\u0275fac=function(a){return new(a||i)(w(j))}}static{this.\u0275dir=G({type:i,selectors:[["","positionAfter",""]],inputs:{afterElement:[1,"afterElement"],gap:[1,"gap"]}})}}return i})();var fa=(i,d)=>d.toString();function yr(i,d){if(i&1){let e=q();r(0,"mat-chip-row",27),g("removed",function(){let t=S(e).$implicit,o=h();return M(o.removeSeries(t))}),c(1),r(2,"button",28)(3,"mat-icon"),c(4,"cancel"),n()()()}if(i&2){let e=d.$implicit;s(),mt(" ",e," ")}}function Cr(i,d){if(i&1){let e=q();r(0,"div",32)(1,"span",33),c(2),n(),r(3,"mat-icon",34),g("click",function(){let t=S(e).$implicit,o=h(2);return M(o.removeSeries(t))}),c(4,"cancel"),n()()}if(i&2){let e=d.$implicit;s(2),x(e)}}function wr(i,d){if(i&1){let e=q();r(0,"div",11)(1,"div",29)(2,"div"),c(3,"Series . . . "),n(),r(4,"button",8),g("click",function(){S(e);let t=h();return M(t.toggleSeriesDisplay())}),r(5,"mat-icon"),c(6),n()(),r(7,"button",30),g("click",function(){S(e);let t=h();return M(t.clearSeries())}),r(8,"mat-icon"),c(9,"close"),n()()(),r(10,"div",12),Te("isShownChange",function(t){S(e);let o=h();return Re(o.seriesListVisible,t)||(o.seriesListVisible=t),M(t)}),r(11,"div",31),y(12,Cr,5,1,"div",32,fa),n()()()}if(i&2){let e=h(),a=ge(19);l("afterElement",a)("gap",65),s(6),x(e.seriesListVisible()?"visibility":"visibility_off"),s(4),De("isShown",e.seriesListVisible),s(2),C(e.searchSeries())}}function xr(i,d){if(i&1&&(r(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e.server.id),s(),x(e.server.name)}}function Sr(i,d){if(i&1&&(r(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e.id),s(),x(e.username=="unknown"?e.id:e.username)}}function Mr(i,d){if(i&1&&(r(0,"mat-option",20),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function kr(i,d){if(i&1&&(r(0,"mat-option",20),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function Ir(i,d){if(i&1&&(r(0,"mat-option",20),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function Er(i,d){if(i&1&&(r(0,"mat-option",20),c(1),n()),i&2){let e=d.$implicit,a=h();l("value",a.adultOptionValue(e)),s(),x(e)}}function Fr(i,d){if(i&1&&(r(0,"mat-option",20),c(1),n()),i&2){let e=d.$implicit,a=h();l("value",a.favoriteOptionValue(e)),s(),x(e)}}function Or(i,d){if(i&1&&(r(0,"mat-option",20),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function Dr(i,d){if(i&1&&(r(0,"mat-option",20),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}var ga=(()=>{class i extends Rt{constructor(){super(),this.userServers=Ie.required(),this.selectedServer=D(void 0),this.form.serverId=new k,this.form.userId=new k,this.userOptions=ni(()=>{let e=this.selectedServer();return(e?this.userServers().find(t=>t.server.id==e.server.id)?.users||[]:this.userServers().find(t=>t.server.id==this.form.serverId.value)?.users||[]).sort((t,o)=>t.username.toLowerCase().localeCompare(o.username.toLowerCase()))})}setFormValuesOnRouting(e){let{serverId:a,userId:t}=e,{series:o,updateAdded:m,gender:f,category:E,adult:K,favorited:je,sort:Ge,desc:Me}=e;if(a){this.form.serverId.setValue(a);let Ea=this.userServers().find(Fa=>Fa.server.id==a);this.selectedServer.set(Ea)}t&&this.form.userId.setValue(t),!(!this.resourceService.settings$().preserveFiltersInHistory||Object.keys(e).length==0)&&(o?(this.form.series.setValue(o),typeof o=="string"?this.searchSeries.set([o]):this.searchSeries.set([...o])):this.searchSeries.set([]),m&&this.form.updateAdded.setValue(m),f&&(typeof f=="string"?this.form.gender.setValue([f]):this.form.gender.setValue([...f])),E&&(typeof E=="string"?this.form.category.setValue([E]):this.form.category.setValue([...E])),K&&this.form.adult.setValue(K),je&&this.form.favorited.setValue(je),Ge&&this.form.sort.setValue(Ge),Me&&this.form.desc.setValue(Me))}updateServerOptions(e){if(!e.value)return;let a=this.userServers().find(t=>t.server.id==e.value);this.selectedServer.set(a)}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=b({type:i,selectors:[["mudae-claim-filter"]],inputs:{userServers:[1,"userServers"]},features:[Y],decls:77,vars:16,consts:[["currentSearch",""],["filterList",""],[1,"mudae-filter"],[1,"search-container"],["appearance","outline",1,"search"],["aria-label","Enter series","hidden","",3,"formControl"],[1,"test"],["placeholder","Series ...",3,"matChipInputTokenEnd","matChipInputFor"],["mat-fab","",1,"filter-btn","series-btn",3,"click"],[1,"filter-btn-text"],["mat-stroked-button","","matSuffix","",1,"filter-btn","series-btn",3,"click"],["positionAfter","",1,"series-list",3,"afterElement","gap"],["accordian","",1,"filters",3,"isShownChange","isShown"],[1,"filter-controls"],["appearance","outline",1,"filter-control"],["placeholder","Server ...",3,"selectionChange","formControl","disableWhen"],[3,"value"],["placeholder","Claimer ...",3,"formControl","disableWhen"],["appearance","outline",1,"filter-control","update-control"],["placeholder","Update Added ...",1,"filter-option",3,"formControl"],[1,"filter-option",3,"value"],["placeholder","Genders ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Category ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Is 18+? ...",1,"filter-option",3,"formControl"],["placeholder","Is Favorited? ...",1,"filter-option",3,"formControl"],["placeholder","Sort ...",1,"filter-option",3,"formControl"],["placeholder","Order ...",1,"filter-option",3,"formControl"],[1,"test",3,"removed"],["matChipRemove","","aria-label","'remove ' + series"],[1,"series-list-header"],["title","Clear","mat-fab","",1,"filter-btn","series-btn",3,"click"],[1,"search-list"],[1,"search-series"],[1,"series-name"],[1,"remove-series",3,"click"]],template:function(a,t){if(a&1){let o=q();r(0,"div",2)(1,"div",3)(2,"mat-form-field",4)(3,"mat-label"),c(4,"Search Series"),n(),r(5,"mat-chip-grid",5,0),y(7,yr,5,1,"mat-chip-row",6,fa),n(),r(9,"input",7),g("matChipInputTokenEnd",function(f){return S(o),M(t.add(f))}),n()(),r(10,"button",8),g("click",function(){return S(o),M(t.toggleFiltersDisplay())}),r(11,"mat-icon"),c(12,"filter_list"),n(),r(13,"span",9),c(14,"Filter"),n()(),r(15,"button",10),g("click",function(){return S(o),M(t.applyFilters())}),c(16,"GO"),n()(),v(17,wr,14,4,"div",11),r(18,"div",12,1),Te("isShownChange",function(f){return S(o),Re(t.isExpanded,f)||(t.isExpanded=f),M(f)}),r(20,"div",13)(21,"mat-form-field",14)(22,"mat-label"),c(23,"Server"),n(),r(24,"mat-select",15),g("selectionChange",function(f){return S(o),M(t.updateServerOptions(f))}),y(25,xr,2,2,"mat-option",16,F),n()(),r(27,"mat-form-field",14)(28,"mat-label"),c(29,"User"),n(),r(30,"mat-select",17),y(31,Sr,2,2,"mat-option",16,F),n()(),r(33,"mat-form-field",18)(34,"mat-label"),c(35,"Update"),n(),r(36,"mat-select",19)(37,"mat-option",20),c(38,"Any"),n(),y(39,Mr,2,2,"mat-option",20,F),n()(),r(41,"mat-form-field",14)(42,"mat-label"),c(43,"Genders"),n(),r(44,"mat-select",21),y(45,kr,2,2,"mat-option",20,F),n()(),r(47,"mat-form-field",14)(48,"mat-label"),c(49,"Category"),n(),r(50,"mat-select",22),y(51,Ir,2,2,"mat-option",20,F),n()(),r(53,"mat-form-field",14)(54,"mat-label"),c(55,"Adult"),n(),r(56,"mat-select",23),y(57,Er,2,2,"mat-option",20,We),n()(),r(59,"mat-form-field",14)(60,"mat-label"),c(61,"Favorites"),n(),r(62,"mat-select",24),y(63,Fr,2,2,"mat-option",20,We),n()(),r(65,"mat-form-field",14)(66,"mat-label"),c(67,"Sort"),n(),r(68,"mat-select",25),y(69,Or,2,2,"mat-option",20,We),n()(),r(71,"mat-form-field",14)(72,"mat-label"),c(73,"Desc"),n(),r(74,"mat-select",26),y(75,Dr,2,2,"mat-option",20,We),n()()()()()}if(a&2){let o=ge(6);s(5),l("formControl",t.form.series),s(2),C(t.searchSeries()),s(2),l("matChipInputFor",o),s(8),_(t.searchSeries().length>0?17:-1),s(),De("isShown",t.isExpanded),s(6),l("formControl",t.form.serverId)("disableWhen",t.userServers().length<=0),s(),C(t.userServers()),s(5),l("formControl",t.form.userId)("disableWhen",t.userOptions().length<=0),s(),C(t.userOptions()),s(5),l("formControl",t.form.updateAdded),s(),l("value",void 0),s(2),C(t.mudaeUpdates()),s(5),l("formControl",t.form.gender),s(),C(t.genderOptions),s(5),l("formControl",t.form.category),s(),C(t.categoryOptions),s(5),l("formControl",t.form.adult),s(),C(t.adultOptions),s(5),l("formControl",t.form.favorited),s(),C(t.favoriteOptions),s(5),l("formControl",t.form.sort),s(),C(t.sortOptions),s(5),l("formControl",t.form.desc),s(),C(t.orderOptions)}},dependencies:[Se,xe,we,xt,Be,Ve,Ne,He,$e,Q,Z,vt,Dt,Ft,Ot,Et,at,ze,J,te,ee,Tt,ha,Pt],styles:[".mudae-filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0rem;padding:.5rem;border:1px solid var(--mudae-dark);border-radius:.25rem;box-shadow:var(--mudae-filter-shadow);background-color:var(--mudae-filter-bg-color);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.mudae-filter-panel[_ngcontent-%COMP%]{margin:0rem;border-radius:0rem!important}.series-list[_ngcontent-%COMP%]{position:absolute;max-width:15rem;border:1px solid var(--mudae-dark);border-radius:.25rem;box-shadow:var(--mudae-filter-shadow);background-color:var(--mudae-filter-bg-color);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.series-list-header[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;flex-flow:row nowrap;gap:.25rem;padding:.5rem;text-transform:uppercase;box-shadow:var(--mudae-filter-shadow);background-color:var(--mudae-filter-bg-color);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.search-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;max-height:15rem;padding:.5rem;overflow-y:auto}.search-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:.15rem}.search-list[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:transparent}.search-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--mudae-text-color);border-radius:4px}.search-series[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;width:100%;min-height:fit-content;text-wrap:nowrap;overflow:hidden}.series-name[_ngcontent-%COMP%]{flex:1;overflow:hidden;text-overflow:ellipsis}.remove-series[_ngcontent-%COMP%]{color:red;flex-shrink:0}.remove-series[_ngcontent-%COMP%]:hover{scale:1.01;cursor:pointer}.mudae-filter-panel[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.25rem!important;border-top-left-radius:.25rem!important}.mudae-filter-panel[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.mat-expansion-panel-body[_ngcontent-%COMP%]{padding:0rem!important}.filters[_ngcontent-%COMP%]{max-height:0px;overflow:hidden;transition:max-height .25s}.filter-controls[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.5rem;padding-top:2rem;justify-content:center}.filter-control[_ngcontent-%COMP%]{flex-grow:1}.update-control[_ngcontent-%COMP%]{width:100%}.filter-option[_ngcontent-%COMP%]{text-transform:capitalize}.filter-btns[_ngcontent-%COMP%]{display:flex;gap:.5rem}.filter-btn[_ngcontent-%COMP%]{flex:1;height:36px;border-radius:.25rem;letter-spacing:.075rem}.search-container[_ngcontent-%COMP%]{display:flex;gap:.25rem}.update[_ngcontent-%COMP%]{width:8rem}.search[_ngcontent-%COMP%]{flex:1}.series-btn[_ngcontent-%COMP%]{max-width:8rem;height:unset;box-shadow:unset;background-color:transparent;border:1px solid var(--mudae-filter-button-border-color)}.series-btn[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:var(--mudae-white)}.filter-btn-text[_ngcontent-%COMP%]{color:var(--mudae-white)}@media(max-width:720px){.series-btn[_ngcontent-%COMP%]{max-width:2rem}.filter-btn-text[_ngcontent-%COMP%]{display:none}}"]})}}return i})();var Rr=()=>[ye,import("./chunk-2FDJ7ZM6.js").then(i=>i.MudaeSeriesComponent),import("./chunk-RJHFULOO.js").then(i=>i.MudaeCharacterComponent)],va=(i,d)=>d.id;function Tr(i,d){if(i&1&&u(0,"mudae-character",6),i&2){let e=d.$implicit,a=h(3);l("character",e)("me",a.me())}}function Pr(i,d){i&1&&(r(0,"div",7)(1,"h3"),c(2,"No Results Found. Check your filters."),n()())}function Ar(i,d){if(i&1&&v(0,Pr,3,0,"div",7),i&2){let e=h(3);_(e.isLoading()?-1:0)}}function Lr(i,d){if(i&1&&(r(0,"div",3),y(1,Tr,1,2,"mudae-character",6,va,!1,Ar,1,1),n()),i&2){let e=h(2);s(),C(e.claims().results)}}function qr(i,d){if(i&1&&u(0,"mudae-series",8),i&2){let e=d.$implicit,a=h(4);l("series",e)("me",a.me())}}function Vr(i,d){i&1&&(r(0,"div",7)(1,"h3"),c(2,"No Results Found. Check your filters."),n()())}function Br(i,d){if(i&1&&v(0,Vr,3,0,"div",7),i&2){let e=h(4);_(e.isLoading()?-1:0)}}function zr(i,d){if(i&1&&y(0,qr,1,2,"mudae-series",8,va,!1,Br,1,1),i&2){let e=h(3);C(e.claims().results)}}function Ur(i,d){if(i&1&&(r(0,"div",4),v(1,zr,3,1),n()),i&2){let e=h(2);s(),_(e.claims().results?1:-1)}}function $r(i,d){i&1&&(r(0,"div",5),u(1,"mat-progress-spinner",9),r(2,"span"),c(3,"Loading..."),n()())}function Hr(i,d){if(i&1&&(v(0,Lr,4,1,"div",3)(1,Ur,2,1,"div",4),v(2,$r,4,0,"div",5)),i&2){let e,a=h();_((e=a.claims().type)==="character"?0:e==="series"?1:-1),s(2),_(a.isLoading()?2:-1)}}var _a=(()=>{class i{constructor(e,a){this.router=e,this.route=a,this.userService=p(W),this.resourceService=p(L),this.serverService=p(Yi),this.throttler=new Ue,this.subs=[],this.me=this.userService.me$,this.claims=this.serverService.claimData$,this.isLoading=this.serverService.loading$,this.serverList=this.resourceService.servers$,this.updatesList=this.resourceService.updates$,this.serverId=D(""),this.userId=D("");let t=this.route.params.pipe(de(this.route.queryParams)).pipe(ce(150)).subscribe(o=>{let{serverId:m,userId:f}=this.route.snapshot.params;this.query=Object.keys(this.route.snapshot.queryParams).length>0?this.createQueryFromParams(this.route.snapshot.queryParams):this.query,m&&f&&(this.serverId.set(m),this.userId.set(f),this.serverService.searchClaims(m,f,this.query))});this.timeInterval=Ee(1e3).subscribe(()=>{let o=window.document.documentElement;!this.serverService.loading$()&&!this.resourceService.loading$()&&o.scrollHeight==o.clientHeight&&this.onScroll()}),this.subs.push(t,this.timeInterval)}ngOnInit(){}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}applyFilters(e){let m=O({},e),{serverId:a,userId:t}=m,o=rt(m,["serverId","userId"]);this.query=o,this.resourceService.settings$().preserveFiltersInHistory?this.router.navigate(["servers",e.serverId,"claims",e.userId],{relativeTo:this.route.parent,queryParams:O({},o)}):a&&t&&(this.serverId()==a&&this.userId()==t?this.serverService.searchClaims(a,t,this.query):this.router.navigate(["servers",e.serverId,"claims",e.userId],{relativeTo:this.route.parent,queryParams:void 0}))}onScroll(){let e=window.document.documentElement;e.scrollHeight-(e.scrollTop+e.offsetHeight)<Math.min(2e3,e.scrollHeight*.1)&&this.throttler.throttle(()=>{this.serverService.loadMore()},T.SCROLL_LOAD_DELAY)}createQueryFromParams(e){let a={};for(let t of Object.keys(e)){let o=e[t];o!=null&&(Array.isArray(o)&&o.length==0||(a[t]=e[t]))}return a}static{this.\u0275fac=function(a){return new(a||i)(w(A),w(P))}}static{this.\u0275cmp=b({type:i,selectors:[["mudae-user-claims"]],hostBindings:function(a,t){a&1&&g("scroll",function(){return t.onScroll()},Fe)},decls:6,vars:4,consts:[[1,"mudae-list"],[1,"mudae-filter"],[3,"onFilterChange","userServers","mudaeUpdates","isExpanded"],[1,"character-list"],[1,"series-list"],[1,"loading"],[3,"character","me"],[1,"no-results"],[3,"series","me"],["mode","indeterminate"]],template:function(a,t){a&1&&(r(0,"div",0)(1,"div",1)(2,"mudae-claim-filter",2),g("onFilterChange",function(m){return t.applyFilters(m)}),n()(),me(3,Hr,3,2),pe(4,3,Rr),n()),a&2&&(s(2),l("userServers",t.serverList())("mudaeUpdates",t.updatesList())("isExpanded",!0),s(2),he(t.me()&&t.me().id!="empty"))},dependencies:[Ce,ga],styles:["[_nghost-%COMP%]{position:relative}.mudae-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem}.mudae-filter[_ngcontent-%COMP%]{position:fixed;top:0;width:calc(100% - var(--mudae-nav-width));max-width:calc(var(--mudae-page-width) - var(--mudae-nav-width));padding:.5rem 1rem;z-index:100;display:flex;flex-direction:column;gap:.5rem}.character-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1rem 1.3rem;padding:0rem 1rem;margin-top:4rem;overflow:hidden}.series-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:4rem}.no-results[_ngcontent-%COMP%]{position:fixed;top:40%}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:auto;padding-top:5rem;align-items:center}@media(max-width:720px){.mudae-filter[_ngcontent-%COMP%]{top:3.5rem;width:100%}.series-list[_ngcontent-%COMP%]{margin-top:4rem}}"]})}}return i})();var ba=(()=>{class i extends be{constructor(){super(),this.loading=D(!1),this.loading$=this.loading.asReadonly(),this.updateData=D({type:"none",more:!1,results:[],page:0}),this.updateData$=this.updateData.asReadonly(),this.lastRequest={}}searchUpdate(e,a){this.outgoingRequest&&!this.outgoingRequest.closed&&this.outgoingRequest.unsubscribe(),this.updateData.set({type:"none",more:!1,results:[],page:0}),this.loading.set(!0),this.lastRequest={update:e,query:a},this.outgoingRequest=this.findCharactersByUpdate$(e,a).subscribe({next:t=>{this.updateData.set(t)},error:t=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae update data.",type:"danger",source_feature:"mudae"}),console.log(t)}}),this.outgoingRequest.add(()=>this.loading.set(!1))}loadMore(){this.loading()||!this.lastRequest||this.lastRequest.update&&this.updateData().more&&(this.loading.set(!0),this.lastRequest.query=$(O({},this.lastRequest.query),{updateAdded:this.lastRequest.update,page:this.lastRequest.query?.page?this.lastRequest.query.page+1:1}),this.outgoingRequest=this.findCharactersByUpdate$(this.lastRequest.update,this.lastRequest.query).subscribe({next:e=>{this.updateData.update(a=>this.updateResultData(a,e))},error:e=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae update data.",type:"danger",source_feature:"mudae"}),console.log(e)}}),this.outgoingRequest.add(()=>this.loading.set(!1)))}mudaeUpdates$(){return this.http.get(`${this.url}/api/updates`)}findCharactersByUpdate$(e,a){let t=a?$(O({},a),{updateAdded:e}):{updateAdded:e};return a?.sort=="series"&&(t.groupSeries=!0),this.http.get(`${this.url}/api/updates/${e}`,{params:t})}updateResultData(e,a){return e=$(O({},a),{results:e.results}),a.type=="series"?e.results=this.appendSeries(e.results,a.results):e.results.push(...a.results),e}appendSeries(e,a){let t=[...e];for(let o of a){let m=e.findIndex(f=>f.id==o.id);if(m<0)t.push(o);else{let f=[...e[m].characters];for(let E of o.characters)e[m].characters.find(K=>K.id==E.id)||f.push(E);o.characters=f,t[m]=o}}return t}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ya=(i,d)=>d.toString();function Nr(i,d){if(i&1){let e=q();r(0,"mat-chip-row",25),g("removed",function(){let t=S(e).$implicit,o=h();return M(o.removeSeries(t))}),c(1),r(2,"button",26)(3,"mat-icon"),c(4,"cancel"),n()()()}if(i&2){let e=d.$implicit;s(),mt(" ",e," ")}}function jr(i,d){if(i&1){let e=q();r(0,"div",30)(1,"span",31),c(2),n(),r(3,"mat-icon",32),g("click",function(){let t=S(e).$implicit,o=h(2);return M(o.removeSeries(t))}),c(4,"cancel"),n()()}if(i&2){let e=d.$implicit;s(2),x(e)}}function Gr(i,d){if(i&1){let e=q();r(0,"div",11)(1,"div",27)(2,"div"),c(3,"Series . . . "),n(),r(4,"button",8),g("click",function(){S(e);let t=h();return M(t.toggleSeriesDisplay())}),r(5,"mat-icon"),c(6),n()(),r(7,"button",28),g("click",function(){S(e);let t=h();return M(t.clearSeries())}),r(8,"mat-icon"),c(9,"close"),n()()(),r(10,"div",12),Te("isShownChange",function(t){S(e);let o=h();return Re(o.seriesListVisible,t)||(o.seriesListVisible=t),M(t)}),r(11,"div",29),y(12,jr,5,1,"div",30,ya),n()()()}if(i&2){let e=h(),a=ge(19);l("afterElement",a)("gap",65),s(6),x(e.seriesListVisible()?"visibility":"visibility_off"),s(4),De("isShown",e.seriesListVisible),s(2),C(e.searchSeries())}}function Qr(i,d){if(i&1&&(r(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function Wr(i,d){if(i&1&&(r(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function Kr(i,d){if(i&1&&(r(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function Yr(i,d){if(i&1&&(r(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit,a=h();l("value",a.adultOptionValue(e)),s(),x(e)}}function Xr(i,d){if(i&1&&(r(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit,a=h();l("value",a.favoriteOptionValue(e)),s(),x(e)}}function Zr(i,d){if(i&1&&(r(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function Jr(i,d){if(i&1&&(r(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}function en(i,d){if(i&1&&(r(0,"mat-option",16),c(1),n()),i&2){let e=d.$implicit;l("value",e),s(),x(e)}}var Ca=(()=>{class i extends Rt{constructor(){super(),this.form.status=new k([])}ngOnInit(){this.form.updateAdded.setValue(this.mudaeUpdates()[0]),super.ngOnInit()}setFormValuesOnRouting(e){let{update:a}=e,{series:t,updateAdded:o,gender:m,category:f,adult:E,favorited:K,sort:je,desc:Ge,status:Me}=e;!this.resourceService.settings$().preserveFiltersInHistory||Object.keys(e).length==0||(t?(this.form.series.setValue(t),typeof t=="string"?this.searchSeries.set([t]):this.searchSeries.set([...t])):this.searchSeries.set([]),a?this.form.updateAdded.setValue(a):o&&this.form.updateAdded.setValue(o),m&&(typeof m=="string"?this.form.gender.setValue([m]):this.form.gender.setValue([...m])),f&&(typeof f=="string"?this.form.category.setValue([f]):this.form.category.setValue([...f])),E&&this.form.adult.setValue(E),K&&this.form.favorited.setValue(K),je&&this.form.sort.setValue(je),Ge&&this.form.desc.setValue(Ge),Me&&(typeof Me=="string"?this.form.status.setValue([Me]):this.form.status.setValue([...Me])))}get statusOptions(){return["owned","lost","unclaimed"]}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=b({type:i,selectors:[["mudae-update-filter"]],features:[Y],decls:69,vars:12,consts:[["currentSearch",""],["filterList",""],[1,"mudae-filter"],[1,"search-container"],["appearance","outline",1,"search"],["aria-label","Enter series","hidden","",3,"formControl"],[1,"test"],["placeholder","Series ...",3,"matChipInputTokenEnd","matChipInputFor"],["mat-fab","",1,"filter-btn","series-btn",3,"click"],[1,"filter-btn-text"],["mat-stroked-button","","matSuffix","",1,"filter-btn","series-btn",3,"click"],["positionAfter","",1,"series-list",3,"afterElement","gap"],["accordian","",1,"filters",3,"isShownChange","isShown"],[1,"filter-controls"],["appearance","outline",1,"filter-control","update-control"],["placeholder","Update Added ...",1,"filter-option",3,"formControl"],[1,"filter-option",3,"value"],["appearance","outline",1,"filter-control"],["placeholder","Genders ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Category ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Is 18+? ...",1,"filter-option",3,"formControl"],["placeholder","Is Favorited? ...",1,"filter-option",3,"formControl"],["placeholder","Status ...","multiple","true",1,"filter-option",3,"formControl"],["placeholder","Sort ...",1,"filter-option",3,"formControl"],["placeholder","Order ...",1,"filter-option",3,"formControl"],[1,"test",3,"removed"],["matChipRemove","","aria-label","'remove ' + series"],[1,"series-list-header"],["title","Clear","mat-fab","",1,"filter-btn","series-btn",3,"click"],[1,"search-list"],[1,"search-series"],[1,"series-name"],[1,"remove-series",3,"click"]],template:function(a,t){if(a&1){let o=q();r(0,"div",2)(1,"div",3)(2,"mat-form-field",4)(3,"mat-label"),c(4,"Search Series"),n(),r(5,"mat-chip-grid",5,0),y(7,Nr,5,1,"mat-chip-row",6,ya),n(),r(9,"input",7),g("matChipInputTokenEnd",function(f){return S(o),M(t.add(f))}),n()(),r(10,"button",8),g("click",function(){return S(o),M(t.toggleFiltersDisplay())}),r(11,"mat-icon"),c(12,"filter_list"),n(),r(13,"span",9),c(14,"Filter"),n()(),r(15,"button",10),g("click",function(){return S(o),M(t.applyFilters())}),c(16,"GO"),n()(),v(17,Gr,14,4,"div",11),r(18,"div",12,1),Te("isShownChange",function(f){return S(o),Re(t.isExpanded,f)||(t.isExpanded=f),M(f)}),r(20,"div",13)(21,"mat-form-field",14)(22,"mat-label"),c(23,"Update"),n(),r(24,"mat-select",15),y(25,Qr,2,2,"mat-option",16,F),n()(),r(27,"mat-form-field",17)(28,"mat-label"),c(29,"Genders"),n(),r(30,"mat-select",18),y(31,Wr,2,2,"mat-option",16,F),n()(),r(33,"mat-form-field",17)(34,"mat-label"),c(35,"Category"),n(),r(36,"mat-select",19),y(37,Kr,2,2,"mat-option",16,F),n()(),r(39,"mat-form-field",17)(40,"mat-label"),c(41,"Adult"),n(),r(42,"mat-select",20),y(43,Yr,2,2,"mat-option",16,F),n()(),r(45,"mat-form-field",17)(46,"mat-label"),c(47,"Favorites"),n(),r(48,"mat-select",21),y(49,Xr,2,2,"mat-option",16,F),n()(),r(51,"mat-form-field",17)(52,"mat-label"),c(53,"Status"),n(),r(54,"mat-select",22),y(55,Zr,2,2,"mat-option",16,F),n()(),r(57,"mat-form-field",17)(58,"mat-label"),c(59,"Sort"),n(),r(60,"mat-select",23),y(61,Jr,2,2,"mat-option",16,F),n()(),r(63,"mat-form-field",17)(64,"mat-label"),c(65,"Desc"),n(),r(66,"mat-select",24),y(67,en,2,2,"mat-option",16,F),n()()()()()}if(a&2){let o=ge(6);s(5),l("formControl",t.form.series),s(2),C(t.searchSeries()),s(2),l("matChipInputFor",o),s(8),_(t.searchSeries().length>0?17:-1),s(),De("isShown",t.isExpanded),s(6),l("formControl",t.form.updateAdded),s(),C(t.mudaeUpdates()),s(5),l("formControl",t.form.gender),s(),C(t.genderOptions),s(5),l("formControl",t.form.category),s(),C(t.categoryOptions),s(5),l("formControl",t.form.adult),s(),C(t.adultOptions),s(5),l("formControl",t.form.favorited),s(),C(t.favoriteOptions),s(5),l("formControl",t.form.status),s(),C(t.statusOptions),s(5),l("formControl",t.form.sort),s(),C(t.sortOptions),s(5),l("formControl",t.form.desc),s(),C(t.orderOptions)}},dependencies:[Se,xe,we,xt,Be,Ve,Ne,He,$e,Q,Z,vt,Dt,Ft,Ot,Et,at,ze,J,te,ee,Tt,Pt],styles:[".mudae-filter[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:0rem;padding:.5rem;border:1px solid var(--mudae-dark);border-radius:.25rem;box-shadow:var(--mudae-filter-shadow);background-color:var(--mudae-filter-bg-color);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.mudae-filter-panel[_ngcontent-%COMP%]{margin:0rem;border-radius:0rem!important}.series-list[_ngcontent-%COMP%]{position:absolute;max-width:15rem;border:1px solid var(--mudae-dark);border-radius:.25rem;box-shadow:var(--mudae-filter-shadow);background-color:var(--mudae-filter-bg-color);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.series-list-header[_ngcontent-%COMP%]{position:sticky;top:0;display:flex;flex-flow:row nowrap;gap:.25rem;padding:.5rem;text-transform:uppercase;box-shadow:var(--mudae-filter-shadow);background-color:var(--mudae-filter-bg-color);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.search-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;max-height:15rem;padding:.5rem;overflow-y:auto}.search-list[_ngcontent-%COMP%]::-webkit-scrollbar{width:.15rem}.search-list[_ngcontent-%COMP%]::-webkit-scrollbar-track-piece{background:transparent}.search-list[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:var(--mudae-text-color);border-radius:4px}.search-series[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:center;width:100%;min-height:fit-content;text-wrap:nowrap;overflow:hidden}.series-name[_ngcontent-%COMP%]{flex:1;overflow:hidden;text-overflow:ellipsis}.remove-series[_ngcontent-%COMP%]{color:red;flex-shrink:0}.remove-series[_ngcontent-%COMP%]:hover{scale:1.01;cursor:pointer}.mudae-filter-panel[_ngcontent-%COMP%]:first-of-type{border-top-right-radius:.25rem!important;border-top-left-radius:.25rem!important}.mudae-filter-panel[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.mat-expansion-panel-body[_ngcontent-%COMP%]{padding:0rem!important}.filters[_ngcontent-%COMP%]{max-height:0px;overflow:hidden;transition:max-height .25s}.filter-controls[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:.5rem;padding-top:2rem;justify-content:center}.filter-control[_ngcontent-%COMP%]{flex-grow:1}.update-control[_ngcontent-%COMP%]{width:100%}.filter-option[_ngcontent-%COMP%]{text-transform:capitalize}.filter-btns[_ngcontent-%COMP%]{display:flex;gap:.5rem}.filter-btn[_ngcontent-%COMP%]{flex:1;height:36px;border-radius:.25rem;letter-spacing:.075rem}.search-container[_ngcontent-%COMP%]{display:flex;gap:.25rem}.update[_ngcontent-%COMP%]{width:8rem}.search[_ngcontent-%COMP%]{flex:1}.series-btn[_ngcontent-%COMP%]{max-width:8rem;height:unset;box-shadow:unset;background-color:transparent;border:1px solid var(--mudae-filter-button-border-color)}.series-btn[_ngcontent-%COMP%] > mat-icon[_ngcontent-%COMP%]{color:var(--mudae-white)}.filter-btn-text[_ngcontent-%COMP%]{color:var(--mudae-white)}@media(max-width:720px){.series-btn[_ngcontent-%COMP%]{max-width:2rem}.filter-btn-text[_ngcontent-%COMP%]{display:none}}"]})}}return i})();var tn=()=>[import("./chunk-2FDJ7ZM6.js").then(i=>i.MudaeSeriesComponent),import("./chunk-RJHFULOO.js").then(i=>i.MudaeCharacterComponent),ye],wa=(i,d)=>d.id;function an(i,d){if(i&1&&u(0,"mudae-character",6),i&2){let e=d.$implicit,a=h(3);l("character",e)("me",a.me())("showStatus",!0)}}function rn(i,d){i&1&&(r(0,"div",7)(1,"h3"),c(2,"No Results Found. Check your filters."),n()())}function nn(i,d){if(i&1&&v(0,rn,3,0,"div",7),i&2){let e=h(3);_(e.isLoading()?-1:0)}}function on(i,d){if(i&1&&(r(0,"div",3),y(1,an,1,3,"mudae-character",6,wa,!1,nn,1,1),n()),i&2){let e=h(2);s(),C(e.updateData().results)}}function sn(i,d){if(i&1&&u(0,"mudae-series",8),i&2){let e=d.$implicit,a=h(4);l("series",e)("me",a.me())("showStatus",!0)}}function cn(i,d){i&1&&(r(0,"div",7)(1,"h3"),c(2,"No Results Found. Check your filters."),n()())}function dn(i,d){if(i&1&&v(0,cn,3,0,"div",7),i&2){let e=h(4);_(e.isLoading()?-1:0)}}function ln(i,d){if(i&1&&y(0,sn,1,3,"mudae-series",8,wa,!1,dn,1,1),i&2){let e=h(3);C(e.updateData().results)}}function mn(i,d){if(i&1&&(r(0,"div",4),v(1,ln,3,1),n()),i&2){let e=h(2);s(),_(e.updateData().results?1:-1)}}function pn(i,d){i&1&&(r(0,"div",5),u(1,"mat-progress-spinner",9),r(2,"span"),c(3,"Loading..."),n()())}function hn(i,d){if(i&1&&(v(0,on,4,1,"div",3)(1,mn,2,1,"div",4),v(2,pn,4,0,"div",5)),i&2){let e,a=h();_((e=a.updateData().type)==="character"?0:e==="series"?1:-1),s(2),_(a.isLoading()?2:-1)}}var Xt=(()=>{class i{constructor(e,a){this.router=e,this.route=a,this.userService=p(W),this.updateService=p(ba),this.resourceService=p(L),this.throttler=new Ue,this.subs=[],this.me=this.userService.me$,this.isLoading=this.updateService.loading$,this.updateData=this.updateService.updateData$,this.updatesList=this.resourceService.updates$;let t=this.route.params.pipe(de(this.route.queryParams)).pipe(ce(150)).subscribe(o=>{let{update:m}=this.route.snapshot.params;this.query=Object.keys(this.route.snapshot.queryParams).length>0?this.createQueryFromParams(this.route.snapshot.queryParams):this.query,m?this.updateService.searchUpdate(m,this.query):this.router.navigate(["updates",this.updatesList()[0]],{skipLocationChange:!0,relativeTo:this.route.parent,queryParams:this.query})});this.timeInterval=Ee(1e3).subscribe(()=>{let o=window.document.documentElement;!this.updateService.loading$()&&!this.resourceService.loading$()&&o.scrollHeight==o.clientHeight&&this.onScroll()}),this.subs.push(t,this.timeInterval)}ngOnInit(){}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}applyFilters(e){let o=O({},e),{updateAdded:a}=o,t=rt(o,["updateAdded"]);this.query=t,this.resourceService.settings$().preserveFiltersInHistory?this.router.navigate(["updates",e.updateAdded],{relativeTo:this.route.parent,queryParams:t}):a&&(Object.keys(this.route.snapshot.queryParams).length==0?this.updateService.searchUpdate(a,this.query):this.router.navigate(["updates",e.updateAdded],{relativeTo:this.route.parent,queryParams:void 0}))}onScroll(){let e=window.document.documentElement;e.scrollHeight-(e.scrollTop+e.offsetHeight)<Math.min(2e3,e.scrollHeight*.1)&&this.throttler.throttle(()=>{this.updateService.loadMore()},T.SCROLL_LOAD_DELAY)}createQueryFromParams(e){let a={};for(let t of Object.keys(e)){let o=e[t];o!=null&&(Array.isArray(o)&&o.length==0||(a[t]=e[t]))}return a}static{this.\u0275fac=function(a){return new(a||i)(w(A),w(P))}}static{this.\u0275cmp=b({type:i,selectors:[["mudae-update-characters"]],hostBindings:function(a,t){a&1&&g("scroll",function(){return t.onScroll()},Fe)},decls:6,vars:3,consts:[[1,"mudae-list"],[1,"mudae-filter"],[3,"onFilterChange","mudaeUpdates","isExpanded"],[1,"character-list"],[1,"series-list"],[1,"loading"],[3,"character","me","showStatus"],[1,"no-results"],[3,"series","me","showStatus"],["mode","indeterminate"]],template:function(a,t){a&1&&(r(0,"div",0)(1,"div",1)(2,"mudae-update-filter",2),g("onFilterChange",function(m){return t.applyFilters(m)}),n()(),me(3,hn,3,2),pe(4,3,tn),n()),a&2&&(s(2),l("mudaeUpdates",t.updatesList())("isExpanded",!0),s(2),he(t.me()&&t.me().id!="empty"))},dependencies:[Ce,Ca],styles:["[_nghost-%COMP%]{position:relative}.mudae-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem}.mudae-filter[_ngcontent-%COMP%]{position:fixed;top:0;width:calc(100% - var(--mudae-nav-width));max-width:calc(var(--mudae-page-width) - var(--mudae-nav-width));padding:.5rem 1rem;z-index:100;display:flex;flex-direction:column;gap:.5rem}.character-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1rem 1.3rem;padding:0rem 1rem;margin-top:4rem;overflow:hidden}.series-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:4rem}.no-results[_ngcontent-%COMP%]{position:fixed;top:40%}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:auto;padding-top:5rem;align-items:center}@media(max-width:720px){.mudae-filter[_ngcontent-%COMP%]{top:3.5rem;width:100%}.series-list[_ngcontent-%COMP%]{margin-top:4rem}}"]})}}return i})();var un=i=>["claims",i];function fn(i,d){if(i&1&&u(0,"img",5),i&2){let e=h(2);l("src",e.banner(e.server),ae)}}function gn(i,d){if(i&1&&(r(0,"div",9),u(1,"img",10),r(2,"span",11),c(3),n()()),i&2){let e=d.$implicit,a=h(2);l("title",e.username)("routerLink",Pe(4,un,e.id)),s(),l("src",a.avatar(e),ae),s(2),x(e.username)}}function vn(i,d){if(i&1&&(r(0,"div",1),u(1,"img",2),r(2,"span",3),c(3),n()(),r(4,"div",4),v(5,fn,1,1,"img",5),r(6,"div",6)(7,"span"),c(8,"# Users:"),n(),r(9,"span"),c(10,"24"),n(),r(11,"span"),c(12,"# Claimed:"),n(),r(13,"span"),c(14,"88,888"),n(),r(15,"span"),c(16,"# Waifu:"),n(),r(17,"span"),c(18,"60,223"),n(),r(19,"span"),c(20,"# Husbando: "),n(),r(21,"span"),c(22,"20,101"),n(),r(23,"span"),c(24,"# Other:"),n(),r(25,"span"),c(26," 8,564"),n()()(),u(27,"my-header",7),r(28,"div",8),y(29,gn,4,6,"div",9,F),n()),i&2){let e=h();s(),l("src",e.icon(e.server)+"?size=80",ae),s(2),x(e.server.name),s(2),_(e.server.banner!=null?5:-1),s(22),l("lc",e.colors.discordBorder),s(2),C(e.users)}}var xa=(()=>{class i{constructor(e,a){this.router=e,this.route=a,this.resourceService=p(L),this.colors=Mt;let{serverId:t}=this.route.snapshot.params;this.serverId=t,this.serverData=Ae(()=>this.resourceService.servers$().find(o=>o.server.id==t))}ngOnInit(){}banner(e){return`https://cdn.discordapp.com/banners/${e.id}/${e.banner}`}icon(e){return`https://cdn.discordapp.com/icons/${e.id}/${e.icon}`}avatar(e){return e.avatar?`https://cdn.discordapp.com/avatars/${e.id}/${e.avatar}.png`:"https://cdn.discordapp.com/avatars/553093683222937601/670c33691c1fd4cc40b643c41b9d02b5.png"}get server(){let e=this.serverData();if(!(!e||!e.server))return e.server}get users(){let e=this.serverData();if(!(!e||!e.users))return e.users.sort((a,t)=>a.username.toLowerCase().localeCompare(t.username.toLowerCase()))}static{this.\u0275fac=function(a){return new(a||i)(w(A),w(P))}}static{this.\u0275cmp=b({type:i,selectors:[["mudae-server-claims"]],decls:2,vars:1,consts:[[1,"mudae-server-view"],[1,"server-header"],[1,"server-icon",3,"src"],[1,"server-name"],[1,"container"],[1,"server-banner",3,"src"],[1,"server-stats-list"],["text","Users","color","rgb(200,200,200)","lw","3px",3,"lc"],[1,"users-list"],[1,"mudae-user",3,"title","routerLink"],["alt","196190198093185024",1,"user-avatar",3,"src"],[1,"user-username"]],template:function(a,t){a&1&&(r(0,"div",0),v(1,vn,31,4),n()),a&2&&(s(),_(t.server!=null?1:-1))},dependencies:[Ri,_e,ve],styles:[".mudae-server-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.server-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;font-size:1.2rem;padding:1rem;background-color:var(--mudae-medium)}.server-icon[_ngcontent-%COMP%]{height:40px;width:40px;z-index:11}.server-stats-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 1fr;max-width:25rem;gap:0rem .75rem;font-size:1.3rem;font-variant-caps:all-petite-caps;letter-spacing:2px;text-shadow:-1px -1px 0 black,1px -1px 0 black,-1px 1px 0 black,1px 1px 0 black;text-wrap:nowrap;z-index:12}.container[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:row nowrap;gap:2rem}.server-banner[_ngcontent-%COMP%]{position:absolute;right:0;top:0;height:100%;-webkit-mask-image:linear-gradient(to left,rgba(0,0,0,.8),rgba(0,0,0,.5),transparent);mask-image:linear-gradient(to left,rgba(0,0,0,.8),rgba(0,0,0,.5),transparent)}.users-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(min(200px,100%),1fr));gap:1rem 2rem;padding:1rem}.mudae-user[_ngcontent-%COMP%]{flex:1;display:flex;flex-flow:row nowrap;gap:1rem;padding:.25rem;border:1px solid black;border-radius:3px;overflow:hidden}.mudae-user[_ngcontent-%COMP%]:hover{scale:1.025;cursor:pointer}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:100%}.user-username[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden}"]})}}return i})();var Sa=(()=>{class i extends be{constructor(){super()}getSeries$(e){return this.http.get(`${this.url}/api/series/${e}`)}searchSeries$(e,a=!0){return this.http.get(`${this.url}/api/series/search`,{params:$(O({},e),{withCharacters:a})})}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ma=(()=>{class i{constructor(){this.toastService=p(_t),this.seriesService=p(Sa),this.characterService=p(bt),this.loading=D(!1),this.loading$=this.loading.asReadonly(),this.searchData=D({type:"none",more:!1,results:[],page:0}),this.searchData$=this.searchData.asReadonly(),this.outgoingRequest&&!this.outgoingRequest.closed&&this.outgoingRequest.unsubscribe(),this.searchData.set({type:"none",more:!1,results:[],page:0})}searchUpdate(e,a){this.outgoingRequest&&!this.outgoingRequest.closed&&this.outgoingRequest.unsubscribe(),this.searchData.set({type:"none",more:!1,results:[],page:0}),this.loading.set(!0),this.lastRequest={type:e,query:a},this.lastRequest.type=="character"?(this.outgoingRequest=this.searchCharacters$(this.lastRequest.query).subscribe({next:t=>{this.searchData.set(t)},error:t=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae character data.",type:"danger",source_feature:"mudae"}),console.log(t)}}),this.outgoingRequest.add(()=>this.loading.set(!1))):this.lastRequest.type=="series"?(this.outgoingRequest=this.searchSeries$(this.lastRequest.query).subscribe({next:t=>{this.searchData.set(t)},error:t=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae series data.",type:"danger",source_feature:"mudae"}),console.log(t)}}),this.outgoingRequest.add(()=>this.loading.set(!1))):this.loading.set(!1)}loadMore(){this.loading()||!this.lastRequest||this.lastRequest.type&&this.searchData().more&&(this.loading.set(!0),this.lastRequest.query=$(O({},this.lastRequest.query),{page:this.lastRequest.query?.page?this.lastRequest.query.page+1:1}),this.lastRequest.type=="character"?(this.outgoingRequest=this.searchCharacters$(this.lastRequest.query).subscribe({next:e=>{this.searchData.update(a=>this.updateResultData(a,e))},error:e=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae character data.",type:"danger",source_feature:"mudae"}),console.log(e)}}),this.outgoingRequest.add(()=>this.loading.set(!1))):this.lastRequest.type=="series"?(this.outgoingRequest=this.searchSeries$(this.lastRequest.query).subscribe({next:e=>{this.searchData.update(a=>this.updateResultData(a,e))},error:e=>{this.toastService.show({header:"Error",body:"Failed to retrieve mudae series data.",type:"danger",source_feature:"mudae"}),console.log(e)}}),this.outgoingRequest.add(()=>this.loading.set(!1))):this.loading.set(!1))}searchSeries$(e){return this.seriesService.searchSeries$(e)}searchCharacters$(e){return this.characterService.searchCharacter$(e)}updateResultData(e,a){return e=$(O({},a),{results:e.results}),a.type=="series"?e.results=this.appendSeries(e.results,a.results):e.results.push(...a.results),e}appendSeries(e,a){let t=[...e];for(let o of a){let m=e.findIndex(f=>f.id==o.id);if(m<0)t.push(o);else{let f=[...e[m].characters];for(let E of o.characters)e[m].characters.find(K=>K.id==E.id)||f.push(E);o.characters=f,t[m]=o}}return t}static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275prov=H({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ka=(i,d)=>d.id;function _n(i,d){if(i&1&&u(0,"mudae-character",12),i&2){let e=d.$implicit,a=h(2);l("character",e)("me",a.me())}}function bn(i,d){if(i&1&&(r(0,"div",9),y(1,_n,1,2,"mudae-character",12,ka),n()),i&2){let e=h();s(),C(e.searchResults().results)}}function yn(i,d){if(i&1&&u(0,"mudae-series",13),i&2){let e=d.$implicit,a=h(3);l("series",e)("me",a.me())}}function Cn(i,d){i&1&&(r(0,"div",14)(1,"h5"),c(2,"No Results Found"),n()())}function wn(i,d){if(i&1&&v(0,Cn,3,0,"div",14),i&2){let e=h(3);_(e.isLoading()?-1:0)}}function xn(i,d){if(i&1&&y(0,yn,1,2,"mudae-series",13,ka,!1,wn,1,1),i&2){let e=h(2);C(e.searchResults().results)}}function Sn(i,d){if(i&1&&(r(0,"div",10),v(1,xn,3,1),n()),i&2){let e=h();s(),_(e.searchResults().results?1:-1)}}function Mn(i,d){i&1&&(r(0,"div",11),u(1,"mat-progress-spinner",15),r(2,"span"),c(3,"Loading..."),n()())}var Ia=(()=>{class i{constructor(e,a){this.router=e,this.route=a,this.userService=p(W),this.resourceService=p(L),this.searchService=p(Ma),this.throttler=new Ue,this.subs=[],this.me=this.userService.me$,this.isLoading=this.searchService.loading$,this.searchResults=this.searchService.searchData$,this.searchQuery={type:"character"},this.searchForm={type:new k,query:new k};let t=this.route.params.pipe(de(this.route.queryParams)).pipe(ce(150)).subscribe(m=>{let{searchType:f}=this.route.snapshot.params,{q:E}=this.route.snapshot.queryParams;f&&(this.searchQuery.type=f,this.searchForm.type.setValue(f),E?(this.searchForm.query.setValue(E),this.searchService.searchUpdate(f,{q:E})):this.searchService.searchUpdate(f)),console.log(this.searchQuery)}),o=Ee(1e3).subscribe(()=>{let m=window.document.documentElement;!this.searchService.loading$()&&!this.resourceService.loading$()&&m.scrollHeight==m.clientHeight&&this.onScroll()});this.subs.push(t,o)}ngOnInit(){let{searchType:e}=this.route.snapshot.params,{q:a}=this.route.snapshot.queryParams;e?(this.searchForm.type.setValue(e),this.searchForm.query.setValue(a)):this.router.navigate(["search",this.searchQuery.type],{relativeTo:this.route.parent,queryParams:{q:a}})}ngOnDestroy(){for(let e of this.subs)e.unsubscribe()}search(){this.searchQuery.q=this.searchForm.query.value,this.searchQuery.type=this.searchForm.type.value||"character",this.router.navigate(["search",this.searchQuery.type],{relativeTo:this.route.parent,queryParams:{q:this.searchQuery.q}})}onScroll(){let e=window.document.documentElement,a=e.scrollHeight-(e.scrollTop+e.offsetHeight),t=Math.min(2e3,e.scrollHeight*.1);a<t&&this.throttler.throttle(()=>{this.searchQuery.type&&this.searchService.loadMore()},T.SCROLL_LOAD_DELAY)}static{this.\u0275fac=function(a){return new(a||i)(w(A),w(P))}}static{this.\u0275cmp=b({type:i,selectors:[["search"]],hostBindings:function(a,t){a&1&&g("scroll",function(){return t.onScroll()},Fe)},decls:20,vars:4,consts:[[1,"mudae-search","mudae-list"],[1,"search-header"],[1,"search-form","mudae-filter"],["appearance","outline",1,"type"],["placeholder","Character or Series ...",3,"formControl"],["value","character"],["value","series"],["appearance","outline",1,"search"],["matInput","","placeholder","Search ...",3,"keydown.enter","formControl"],[1,"character-list"],[1,"series-list"],[1,"loading"],[3,"character","me"],[3,"series","me"],[1,"no-results"],["mode","indeterminate"]],template:function(a,t){if(a&1&&(r(0,"div",0)(1,"div",1)(2,"span"),c(3,"Search"),n()(),r(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),c(7,"Type"),n(),r(8,"mat-select",4)(9,"mat-option",5),c(10,"Character"),n(),r(11,"mat-option",6),c(12,"Series"),n()()(),r(13,"mat-form-field",7)(14,"mat-label"),c(15,"Search"),n(),r(16,"input",8),g("keydown.enter",function(){return t.search()}),n()()(),v(17,bn,3,0,"div",9)(18,Sn,2,1,"div",10),v(19,Mn,4,0,"div",11),n()),a&2){let o;s(8),l("formControl",t.searchForm.type),s(8),l("formControl",t.searchForm.query),s(),_((o=t.searchResults().type)==="character"?17:o==="series"?18:-1),s(2),_(t.isLoading()?19:-1)}},dependencies:[Ce,ye,Se,St,xe,we,Ne,He,$e,te,yt,J,ee,Pi,Ti],styles:["[_nghost-%COMP%]{position:relative}.mudae-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2.5rem}.mudae-filter[_ngcontent-%COMP%]{position:fixed;top:0;width:calc(100% - var(--mudae-nav-width));max-width:calc(var(--mudae-page-width) - var(--mudae-nav-width));padding:.5rem 1rem;z-index:100;display:flex;flex-direction:column;gap:.5rem}.character-list[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap;gap:1rem 1.3rem;padding:0rem 1rem;margin-top:4rem;overflow:hidden}.series-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-top:4rem}.no-results[_ngcontent-%COMP%]{position:fixed;top:40%}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin:auto;padding-top:5rem;align-items:center}@media(max-width:720px){.mudae-filter[_ngcontent-%COMP%]{top:3.5rem;width:100%}.series-list[_ngcontent-%COMP%]{margin-top:4rem}}.search-form[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;padding:1rem;background-color:var(--mudae-filter-bg-color);box-shadow:var(--mudae-filter-shadow);-webkit-backdrop-filter:var(--mudae-filter-blur);backdrop-filter:var(--mudae-filter-blur)}.search[_ngcontent-%COMP%]{flex:1}.type[_ngcontent-%COMP%]{flex:1;min-width:6rem;max-width:10rem}.search-header[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center;gap:1rem;font-size:1.2rem;padding:1rem;background-color:var(--mudae-medium)}"]})}}return i})();var kn=[{path:"home",component:Qi},{path:"search",redirectTo:"search/character"},{path:"search/:searchType",component:Ia},{path:"updates",component:Xt},{path:"updates/:update",component:Xt},{path:"servers",component:Ki},{path:"servers/:serverId",component:xa},{path:"servers/:serverId/claims/:userId",component:_a},{path:"**",redirectTo:"home",pathMatch:"full"}],rl=[{path:"login",component:Ai},{path:"logout",component:Wi},{path:"on-login",component:Li},{path:"",component:ji,loadChildren:()=>kn,canActivate:[Gi]}];export{kn as contentRoutes,rl as mudaeRoutes};
