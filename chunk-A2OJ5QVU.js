import{a as C,e as g}from"./chunk-2XN2X2Z5.js";import{b as y}from"./chunk-4F4MFI3X.js";import{$b as a,Rb as l,Sb as p,ac as i,bc as x,db as e,ec as c,hc as m,mb as v,ub as E,vc as h,wc as o,xc as s,yc as u}from"./chunk-W56RDURX.js";function S(n,f){if(n&1&&x(0,"span"),n&2){let t=m();h("bi-arrow-clockwise repeat-symbol "+t.repeatColor)}}function _(n,f){if(n&1&&(a(0,"div",10)(1,"span",9),o(2),i(),a(3,"span",9),o(4),i(),a(5,"span",9),o(6),i()()),n&2){let t=m(2);e(2),s("Me: "+t.counts.me.total),e(2),s("DPS : "+t.counts.me.dps),e(2),s("SUP : "+t.counts.me.sup)}}function P(n,f){if(n&1&&(a(0,"div",7)(1,"div",8)(2,"span",9),o(3),i(),a(4,"span",9),o(5),i(),a(6,"span",9),o(7),i()(),l(8,_,7,3,"div",10),i()),n&2){let t=m();e(3),s("All: "+t.counts.all.total),e(2),s("DPS : "+t.counts.all.dps),e(2),s("SUP : "+t.counts.all.sup),e(),p(t.player?8:-1)}}var T=(()=>{class n{constructor(t){this.playerService=t,this.shortened=!1,this.subs=[],this.raidTime=C}ngOnInit(){this.player||(this.player=this.playerService.me$())}ngOnDestroy(){for(let t of this.subs)t.unsubscribe()}get counts(){return g(this.raidpost,this.player)}get inRaid(){if(!this.player)return!1;for(let t of this.raidpost.signups)if(t.player.id==this.player.id)return!0;return!1}get inRepeat(){if(!this.player)return!1;var t=this.raidpost;for(let d of t?.repeatingSignups)if(d.player.id==this.player.id)return!0;return!1}get raidColor(){if(this.player)return this.inRaid?"text-success":"text-danger"}get repeatColor(){if(this.player)return this.inRepeat?"text-success":"text-danger"}static{this.\u0275fac=function(d){return new(d||n)(v(y))}}static{this.\u0275cmp=E({type:n,selectors:[["raid-post"]],inputs:{raidpost:"raidpost",player:"player",shortened:"shortened"},decls:15,vars:8,consts:[[1,"card","w-20r","raid-post","position-relative"],[1,"d-flex","card-header","py-1","align-items-center","justify-content-between"],[3,"classList"],[3,"class"],[1,"card-body"],[1,"card-subtitle","text-truncate"],[1,"text-nowrap",3,"title"],[1,"border-top","border-secondary","pt-1","gap-1"],[1,"row"],[1,"col-4"],[1,"row","text-success"]],template:function(d,r){d&1&&(a(0,"div",0)(1,"div",1)(2,"span",2),o(3),i(),l(4,S,1,2,"span",3),i(),a(5,"div",4)(6,"h5",5)(7,"span",6),o(8),i()(),a(9,"div")(10,"div"),o(11),i(),a(12,"div"),o(13),i()(),l(14,P,9,4,"div",7),i()()),d&2&&(e(2),c("classList",r.raidColor),e(),s(r.raidpost.properties.loaRaid.name),e(),p(r.raidpost.type=="repeatingpost"?4:-1),e(3),c("title",r.raidpost.name),e(),s(r.raidpost.name),e(3),u("Time : ",r.raidTime(r.raidpost.properties.startTime)),e(2),u("Server : ",r.raidpost.server.name),e(),p(r.shortened?-1:14))},styles:[".repeat-symbol[_ngcontent-%COMP%]{font-size:1.75rem;align-self:center;line-height:0;animation:_ngcontent-%COMP%_spin 4s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}}return n})();export{T as a};
