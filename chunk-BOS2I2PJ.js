import{a as z,b as J}from"./chunk-TLFBGYCR.js";import"./chunk-H2UTJKOZ.js";import{a as B,b as k,g as L,i as j,j as H}from"./chunk-N7TBWEAR.js";import{d as I}from"./chunk-NPZLEDH6.js";import{O as A}from"./chunk-WTDRPXX3.js";import"./chunk-HU7WFQWJ.js";import{b as N,e as E,f as T,n as b,o as G,p as O,q as V,u as $,v as D,y as P,z as R}from"./chunk-HUAPMYXL.js";import"./chunk-OOKV5ZR5.js";import{Da as C,Fb as p,Lb as d,Mb as Q,Nb as F,Ob as f,Pb as g,Qb as r,Rb as n,Sb as v,Ub as M,Wb as S,Xb as m,_b as w,ab as o,gc as u,hc as y,ka as x,la as h,mb as q,tb as c,za as l}from"./chunk-3AA7O2RR.js";function U(i,a){if(i&1&&(r(0,"mat-option",4),u(1),n()),i&2){let e=m().$index,t=m();p("value",t.myQuestion(e)),o(),y(t.myQuestion(e))}}function W(i,a){if(i&1&&(r(0,"mat-option",4),u(1),n()),i&2){let e=a.$implicit;p("value",e),o(),y(e)}}function X(i,a){i&1&&(r(0,"mat-hint"),u(1,"Error: Answer begins or ends with a space"),n())}function Y(i,a){if(i&1){let e=M();r(0,"div",2)(1,"mat-select",3),S("selectionChange",function(){x(e);let s=m();return h(s.updateRemainingQuestions())}),c(2,U,2,2,"mat-option",4),f(3,W,2,2,"mat-option",4,F),n(),r(5,"mat-form-field",5)(6,"mat-label"),u(7,"Answer"),n(),v(8,"input",6),c(9,X,2,0,"mat-hint"),n()()}if(i&2){let e=a.$index,t=m();w("formGroupName",e),o(2),d(t.myQuestion(e)?2:-1),o(),g(t.remainingQuestions()),o(6),d(t.myAnswer(e).hasError("invalidSecurityQuestionAnswerSeq")?9:-1)}}var pe=(()=>{class i{constructor(){this.form=l.required(),this.questions=l.required(),this.numberQuestions=l.required(),this.remainingQuestions=C([])}ngOnInit(){this.remainingQuestions.set(this.questions())}getQuestion(e,t){return t?this.questionsFormArray.at(e).controls.answer:this.questionsFormArray.at(e).controls.question}myQuestion(e){return this.getQuestion(e).value}myAnswer(e){return this.getQuestion(e,!0)}updateRemainingQuestions(){let e=[...this.questions()];for(let t=0;t<this.numberQuestions();t++){let s=this.getQuestion(t).value,_=e.findIndex(K=>K==s);_>-1&&e.splice(_,1)}this.remainingQuestions.set(e)}get questionsFormArray(){return this.form().get("questions")}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=q({type:i,selectors:[["security-questions-form"]],inputs:{form:[1,"form"],questions:[1,"questions"],numberQuestions:[1,"numberQuestions"]},decls:4,vars:1,consts:[[3,"formGroup"],["formArrayName","questions",1,"questions"],[1,"question-group",3,"formGroupName"],["formControlName","question","placeholder","Select a Question","required","",3,"selectionChange"],[3,"value"],["appearance","outline",1,"settings-input"],["formControlName","answer","type","password","matInput","","maxlength","256","placeholder","Answer...","required",""]],template:function(t,s){t&1&&(r(0,"div",0)(1,"div",1),f(2,Y,10,3,"div",2,Q),n()()),t&2&&(p("formGroup",s.form()),o(2),g(s.questionsFormArray.controls))},dependencies:[R,N,E,T,$,D,b,V,G,O,P,H,j,L,B,k,I,J,z,A],styles:[".change-question[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;justify-content:center}.questions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.question-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.settings-input[_ngcontent-%COMP%]{width:100%}"]})}}return i})();export{pe as SecurityQuestionsFormComponent};
