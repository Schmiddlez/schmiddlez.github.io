import{a as H}from"./chunk-LZDPGLQC.js";import{a as L}from"./chunk-I7H33XEW.js";import{b as B}from"./chunk-ZB6RFN2X.js";import{a as T,b as E,c as V,d as U,e as D,f as F,g as z,h as j}from"./chunk-ZFOFE4YQ.js";import{a as I,b as R}from"./chunk-QCGIDFDQ.js";import{b as S,d as A}from"./chunk-RA5YA7SP.js";import{i as y}from"./chunk-CG5ODPV4.js";import{$a as M,Ib as k,Lb as O,Ob as h,Tb as n,Ub as r,Vb as p,Xb as C,Zb as l,_b as d,cb as a,db as x,jc as s,kc as g,lc as u,ma as _,na as f,pb as v,tb as P,wb as w}from"./chunk-UUT3EF6T.js";function N(o,b){if(o&1){let e=C();n(0,"button",17),l("click",function(){_(e);let t=d();return f(t.toggleReadStatus())}),p(1,"mat-icon",18),r()}}function q(o,b){if(o&1){let e=C();n(0,"button",19),l("click",function(){_(e);let t=d();return f(t.toggleReadStatus())}),p(1,"mat-icon",20),r()}}function G(o,b){if(o&1){let e=C();n(0,"button",21),l("click",function(t){_(e);let c=d();return f(c.fav(t))}),p(1,"mat-icon",22),s(2),r()}if(o&2){let e=d();a(2),u(" ",e.post.likes," ")}}function J(o,b){if(o&1){let e=C();n(0,"button",23),l("click",function(t){_(e);let c=d();return f(c.fav(t))}),p(1,"mat-icon",24),s(2),r()}if(o&2){let e=d();a(2),u(" ",e.post.likes," ")}}var it=(()=>{class o extends B{constructor(e){super(e),this.announcementService=e}isRead(){if(this.user){for(let e of this.user.read_announcements)if(e==this.post.id)return!0}return!1}toggleReadStatus(){this.user&&(this.user.read_announcements.findIndex(i=>i==this.post.id)>-1?this.markUnread():this.markRead())}markRead(){this.announcementService.markAsRead(this.post.id).subscribe(e=>{let i=e.message;this.user&&(this.user.read_announcements.push(i),this.changeRef.markForCheck())})}markUnread(){this.announcementService.markAsUnread(this.post.id).subscribe(e=>{let i=e.message;if(this.user){let t=this.user.likes.findIndex(c=>c==i);this.user.read_announcements.splice(t,1),this.changeRef.markForCheck()}})}static{this.\u0275fac=function(i){return new(i||o)(x(H))}}static{this.\u0275cmp=v({type:o,selectors:[["sns-announcement"]],features:[P],decls:30,vars:13,consts:[["appearance","outlined",1,"post","announcement",3,"click"],["mat-card-avatar","",3,"click","src","title"],[1,"post-title",3,"title"],[1,"post-date"],[1,"author-identification",3,"click"],[1,"author-displayname"],[1,"author-username"],[1,"post-content"],[1,"post-footer"],["overflow-auto-scroll","",1,"post-categories"],["title","Post Purpose",1,"post-purpose"],["type","button","title","Mark as Unread","mat-fab","",1,"post-action"],["type","button","title","Mark as Read","mat-fab","",1,"post-action"],["type","button","title","Unlike Post","mat-fab","","extended","",1,"post-action"],["type","button","title","Like Post","mat-fab","","extended","",1,"post-action"],["type","button","title","Comment","mat-fab","","extended","",1,"post-action",3,"click"],["aria-hidden","false","aria-label","comment post","fontIcon","comment",1,"action-comment"],["type","button","title","Mark as Unread","mat-fab","",1,"post-action",3,"click"],["aria-hidden","false","aria-label","Mark as Unread","fontIcon","mark_email_read",1,"action-read"],["type","button","title","Mark as Read","mat-fab","",1,"post-action",3,"click"],["aria-hidden","false","aria-label","Mark as Read","fontIcon","mark_email_unread",1,"action-read"],["type","button","title","Unlike Post","mat-fab","","extended","",1,"post-action",3,"click"],["aria-hidden","false","aria-label","unlike post","fontIcon","favorite",1,"action-like"],["type","button","title","Like Post","mat-fab","","extended","",1,"post-action",3,"click"],["aria-hidden","false","aria-label","like post","fontIcon","favorite_border",1,"action-like"]],template:function(i,t){i&1&&(n(0,"mat-card",0),l("click",function(m){return t.toPost(m)}),n(1,"mat-card-header")(2,"img",1),l("click",function(m){return t.toProfile(m)}),r(),n(3,"mat-card-title",2)(4,"span"),s(5),r()(),n(6,"div",3)(7,"span"),s(8),r()(),n(9,"mat-card-subtitle")(10,"div",4),l("click",function(m){return t.toProfile(m)}),n(11,"span",5),s(12),r(),p(13,"span"),n(14,"span",6),s(15),r()()()(),n(16,"mat-card-content",7),s(17),r(),n(18,"mat-card-actions",8)(19,"div",9)(20,"div",10)(21,"span"),s(22,"announcement"),r()()(),w(23,N,2,0,"button",11)(24,q,2,0,"button",12)(25,G,3,1,"button",13)(26,J,3,1,"button",14),n(27,"button",15),l("click",function(m){return t.commentPost(m)}),p(28,"mat-icon",16),s(29),r()()()),i&2&&(O(t.user==null?null:t.user.customStyles),a(2),k("src",t.post.author.avatar,M)("title",t.post.author.username),a(),k("title",t.post.title),a(2),g(t.post.title),a(3),g(t.date),a(4),g(t.post.author.displayName),a(3),u("@",t.post.author.username,""),a(2),u(" ",t.post.content," "),a(6),h(t.isRead()?23:24),a(2),h(t.isFav()?25:26),a(4),u(" ",t.post.comments," "))},dependencies:[j,T,D,z,V,F,U,E,R,I,A,S,L,y],styles:["mat-card-actions[_ngcontent-%COMP%]{justify-content:end;gap:1rem;padding:0rem 1rem}.post[_ngcontent-%COMP%]{color:#000;border-color:var(--sns-post-border-color);border-radius:5px;overflow:hidden;background-color:var(--sns-post-bg-color)}.post[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:var(--sns-hover-color)}.post-title[_ngcontent-%COMP%], .author-identification[_ngcontent-%COMP%], .post-date[_ngcontent-%COMP%], .post-content[_ngcontent-%COMP%], .post-summary[_ngcontent-%COMP%]{color:var(--sns-post-text-color)}.post-title[_ngcontent-%COMP%]{text-wrap:nowrap;text-overflow:ellipsis;overflow:hidden}.author-identification[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;gap:.5rem}.author-displayname[_ngcontent-%COMP%]{text-wrap:nowrap;text-overflow:ellipsis;overflow:hidden}.author-username[_ngcontent-%COMP%]{text-wrap:nowrap;color:var(--sns-username-color)}.post-media[_ngcontent-%COMP%]{max-height:700px;object-fit:cover}.post-action[_ngcontent-%COMP%]{height:1.75rem;box-shadow:none!important;background-color:transparent;color:var(--sns-post-text-color)}.post-action[_ngcontent-%COMP%]:hover{scale:1.05}.action-like[_ngcontent-%COMP%]{color:var(--sns-like-post-color)}.action-comment[_ngcontent-%COMP%]{color:var(--sns-comment-post-color)}.post-date[_ngcontent-%COMP%]{flex:1;justify-self:end;text-align:end;text-wrap:nowrap}.post-categories[_ngcontent-%COMP%]{flex:1;font-size:.9rem;display:flex;flex-flow:row nowrap;gap:.5rem;text-overflow:ellipsis}.post-categories[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.post-purpose[_ngcontent-%COMP%], .post-topic[_ngcontent-%COMP%], .post-mood[_ngcontent-%COMP%]{padding:.2rem;border:1px solid rgba(0,0,0,35%);border-radius:.3rem}.post-purpose[_ngcontent-%COMP%]{background-color:var(--sns-post-purpose-color)}.post-topic[_ngcontent-%COMP%]{background-color:var(--sns-post-topic-color)}.post-mood[_ngcontent-%COMP%]{background-color:var(--sns-post-mood-color)}.post-footer[_ngcontent-%COMP%]{padding-top:1rem;padding-bottom:.5rem}@media (max-width:1080px){.post-title[_ngcontent-%COMP%]{font-size:1.25rem}.author-identification[_ngcontent-%COMP%], .post-date[_ngcontent-%COMP%]{font-size:.9rem}.post-content[_ngcontent-%COMP%], .post-summary[_ngcontent-%COMP%]{font-size:1rem}.post-action[_ngcontent-%COMP%]{padding:.25rem}}.announcement[_ngcontent-%COMP%]{text-align:start}.action-read[_ngcontent-%COMP%]{color:#008b8b}"],changeDetection:0})}}return o})();export{it as a};
